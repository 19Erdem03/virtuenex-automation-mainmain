function vC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var p_={exports:{}},Mu={},m_={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),xC=Symbol.for("react.portal"),_C=Symbol.for("react.fragment"),bC=Symbol.for("react.strict_mode"),SC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),TC=Symbol.for("react.forward_ref"),CC=Symbol.for("react.suspense"),IC=Symbol.for("react.memo"),RC=Symbol.for("react.lazy"),Ey=Symbol.iterator;function NC(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var g_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y_=Object.assign,v_={};function eo(e,t,n){this.props=e,this.context=t,this.refs=v_,this.updater=n||g_}eo.prototype.isReactComponent={};eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function w_(){}w_.prototype=eo.prototype;function Hp(e,t,n){this.props=e,this.context=t,this.refs=v_,this.updater=n||g_}var qp=Hp.prototype=new w_;qp.constructor=Hp;y_(qp,eo.prototype);qp.isPureReactComponent=!0;var ky=Array.isArray,x_=Object.prototype.hasOwnProperty,Kp={current:null},__={key:!0,ref:!0,__self:!0,__source:!0};function b_(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)x_.call(t,r)&&!__.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ka,type:e,key:i,ref:o,props:s,_owner:Kp.current}}function AC(e,t){return{$$typeof:Ka,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ka}function PC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ty=/\/+/g;function Td(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PC(""+e.key):t.toString(36)}function ac(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ka:case xC:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Td(o,0):r,ky(s)?(n="",e!=null&&(n=e.replace(Ty,"$&/")+"/"),ac(s,t,n,"",function(c){return c})):s!=null&&(Gp(s)&&(s=AC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ty,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ky(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Td(i,a);o+=ac(i,t,n,l,s)}else if(l=NC(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Td(i,a++),o+=ac(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _l(e,t,n){if(e==null)return e;var r=[],s=0;return ac(e,r,"","",function(i){return t.call(n,i,s++)}),r}function jC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},lc={transition:null},OC={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:lc,ReactCurrentOwner:Kp};function S_(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:_l,forEach:function(e,t,n){_l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!Gp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=eo;te.Fragment=_C;te.Profiler=SC;te.PureComponent=Hp;te.StrictMode=bC;te.Suspense=CC;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OC;te.act=S_;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=y_({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Kp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)x_.call(t,l)&&!__.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ka,type:e.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(e){return e={$$typeof:kC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EC,_context:e},e.Consumer=e};te.createElement=b_;te.createFactory=function(e){var t=b_.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:TC,render:e}};te.isValidElement=Gp;te.lazy=function(e){return{$$typeof:RC,_payload:{_status:-1,_result:e},_init:jC}};te.memo=function(e,t){return{$$typeof:IC,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=lc.transition;lc.transition={};try{e()}finally{lc.transition=t}};te.unstable_act=S_;te.useCallback=function(e,t){return pt.current.useCallback(e,t)};te.useContext=function(e){return pt.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};te.useEffect=function(e,t){return pt.current.useEffect(e,t)};te.useId=function(){return pt.current.useId()};te.useImperativeHandle=function(e,t,n){return pt.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return pt.current.useMemo(e,t)};te.useReducer=function(e,t,n){return pt.current.useReducer(e,t,n)};te.useRef=function(e){return pt.current.useRef(e)};te.useState=function(e){return pt.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return pt.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return pt.current.useTransition()};te.version="18.3.1";m_.exports=te;var E=m_.exports;const Yp=wC(E),MC=vC({__proto__:null,default:Yp},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC=E,DC=Symbol.for("react.element"),$C=Symbol.for("react.fragment"),FC=Object.prototype.hasOwnProperty,UC=LC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BC={key:!0,ref:!0,__self:!0,__source:!0};function E_(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)FC.call(t,r)&&!BC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:DC,type:e,key:i,ref:o,props:s,_owner:UC.current}}Mu.Fragment=$C;Mu.jsx=E_;Mu.jsxs=E_;p_.exports=Mu;var h=p_.exports,k_={exports:{}},Bt={},T_={exports:{}},C_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var R=C.length;C.push(P);e:for(;0<R;){var $=R-1>>>1,G=C[$];if(0<s(G,P))C[$]=P,C[R]=G,R=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var P=C[0],R=C.pop();if(R!==P){C[0]=R;e:for(var $=0,G=C.length,me=G>>>1;$<me;){var Oe=2*($+1)-1,Je=C[Oe],yt=Oe+1,vt=C[yt];if(0>s(Je,R))yt<G&&0>s(vt,Je)?(C[$]=vt,C[yt]=R,$=yt):(C[$]=Je,C[Oe]=R,$=Oe);else if(yt<G&&0>s(vt,R))C[$]=vt,C[yt]=R,$=yt;else break e}}return P}function s(C,P){var R=C.sortIndex-P.sortIndex;return R!==0?R:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=C)r(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(c)}}function _(C){if(v=!1,w(C),!m)if(n(l)!==null)m=!0,ue(S);else{var P=n(c);P!==null&&q(_,P.startTime-C)}}function S(C,P){m=!1,v&&(v=!1,g(T),T=-1),p=!0;var R=f;try{for(w(P),d=n(l);d!==null&&(!(d.expirationTime>P)||C&&!O());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var G=$(d.expirationTime<=P);P=e.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),w(P)}else r(l);d=n(l)}if(d!==null)var me=!0;else{var Oe=n(c);Oe!==null&&q(_,Oe.startTime-P),me=!1}return me}finally{d=null,f=R,p=!1}}var k=!1,b=null,T=-1,j=5,I=-1;function O(){return!(e.unstable_now()-I<j)}function J(){if(b!==null){var C=e.unstable_now();I=C;var P=!0;try{P=b(!0,C)}finally{P?X():(k=!1,b=null)}}else k=!1}var X;if(typeof y=="function")X=function(){y(J)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ie=H.port2;H.port1.onmessage=J,X=function(){Ie.postMessage(null)}}else X=function(){x(J,0)};function ue(C){b=C,k||(k=!0,X())}function q(C,P){T=x(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,ue(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var R=f;f=P;try{return C()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var R=f;f=C;try{return P()}finally{f=R}},e.unstable_scheduleCallback=function(C,P,R){var $=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,C){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=R+G,C={id:u++,callback:P,priorityLevel:C,startTime:R,expirationTime:G,sortIndex:-1},R>$?(C.sortIndex=R,t(c,C),n(l)===null&&C===n(c)&&(v?(g(T),T=-1):v=!0,q(_,R-$))):(C.sortIndex=G,t(l,C),m||p||(m=!0,ue(S))),C},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(C){var P=f;return function(){var R=f;f=P;try{return C.apply(this,arguments)}finally{f=R}}}})(C_);T_.exports=C_;var VC=T_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=E,Ft=VC;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I_=new Set,oa={};function js(e,t){Mi(e,t),Mi(e+"Capture",t)}function Mi(e,t){for(oa[e]=t,e=0;e<t.length;e++)I_.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bh=Object.prototype.hasOwnProperty,WC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cy={},Iy={};function HC(e){return Bh.call(Iy,e)?!0:Bh.call(Cy,e)?!1:WC.test(e)?Iy[e]=!0:(Cy[e]=!0,!1)}function qC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KC(e,t,n,r){if(t===null||typeof t>"u"||qC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function Xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jp,Xp);nt[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jp,Xp);nt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jp,Xp);nt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qp(e,t,n,r){var s=nt.hasOwnProperty(t)?nt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KC(t,n,s,r)&&(n=null),r||s===null?HC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nr=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bl=Symbol.for("react.element"),ri=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),R_=Symbol.for("react.provider"),N_=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Wh=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),Ry=Symbol.iterator;function _o(e){return e===null||typeof e!="object"?null:(e=Ry&&e[Ry]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,Cd;function jo(e){if(Cd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cd=t&&t[1]||""}return`
`+Cd+e}var Id=!1;function Rd(e,t){if(!e||Id)return"";Id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Id=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jo(e):""}function GC(e){switch(e.tag){case 5:return jo(e.type);case 16:return jo("Lazy");case 13:return jo("Suspense");case 19:return jo("SuspenseList");case 0:case 2:case 15:return e=Rd(e.type,!1),e;case 11:return e=Rd(e.type.render,!1),e;case 1:return e=Rd(e.type,!0),e;default:return""}}function Hh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case si:return"Fragment";case ri:return"Portal";case Vh:return"Profiler";case Zp:return"StrictMode";case zh:return"Suspense";case Wh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N_:return(e.displayName||"Context")+".Consumer";case R_:return(e._context.displayName||"Context")+".Provider";case em:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tm:return t=e.displayName||null,t!==null?t:Hh(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return Hh(e(t))}catch{}}return null}function YC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hh(t);case 8:return t===Zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JC(e){var t=P_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sl(e){e._valueTracker||(e._valueTracker=JC(e))}function j_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=P_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qh(e,t){var n=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ny(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function O_(e,t){t=t.checked,t!=null&&Qp(e,"checked",t,!1)}function Kh(e,t){O_(e,t);var n=Pr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gh(e,t.type,Pr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ay(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gh(e,t,n){(t!=="number"||Mc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oo=Array.isArray;function Ci(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Py(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Oo(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pr(n)}}function M_(e,t){var n=Pr(t.value),r=Pr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function jy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,D_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function aa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XC=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(e){XC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bo[t]=Bo[e]})});function $_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bo.hasOwnProperty(e)&&Bo[e]?(""+t).trim():t+"px"}function F_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var QC=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xh(e,t){if(t){if(QC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Qh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=null;function nm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ef=null,Ii=null,Ri=null;function Oy(e){if(e=Ja(e)){if(typeof ef!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Uu(t),ef(e.stateNode,e.type,t))}}function U_(e){Ii?Ri?Ri.push(e):Ri=[e]:Ii=e}function B_(){if(Ii){var e=Ii,t=Ri;if(Ri=Ii=null,Oy(e),t)for(e=0;e<t.length;e++)Oy(t[e])}}function V_(e,t){return e(t)}function z_(){}var Nd=!1;function W_(e,t,n){if(Nd)return e(t,n);Nd=!0;try{return V_(e,t,n)}finally{Nd=!1,(Ii!==null||Ri!==null)&&(z_(),B_())}}function la(e,t){var n=e.stateNode;if(n===null)return null;var r=Uu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var tf=!1;if(qn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){tf=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{tf=!1}function ZC(e,t,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Vo=!1,Lc=null,Dc=!1,nf=null,eI={onError:function(e){Vo=!0,Lc=e}};function tI(e,t,n,r,s,i,o,a,l){Vo=!1,Lc=null,ZC.apply(eI,arguments)}function nI(e,t,n,r,s,i,o,a,l){if(tI.apply(this,arguments),Vo){if(Vo){var c=Lc;Vo=!1,Lc=null}else throw Error(N(198));Dc||(Dc=!0,nf=c)}}function Os(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function H_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function My(e){if(Os(e)!==e)throw Error(N(188))}function rI(e){var t=e.alternate;if(!t){if(t=Os(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return My(s),e;if(i===r)return My(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function q_(e){return e=rI(e),e!==null?K_(e):null}function K_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K_(e);if(t!==null)return t;e=e.sibling}return null}var G_=Ft.unstable_scheduleCallback,Ly=Ft.unstable_cancelCallback,sI=Ft.unstable_shouldYield,iI=Ft.unstable_requestPaint,Le=Ft.unstable_now,oI=Ft.unstable_getCurrentPriorityLevel,rm=Ft.unstable_ImmediatePriority,Y_=Ft.unstable_UserBlockingPriority,$c=Ft.unstable_NormalPriority,aI=Ft.unstable_LowPriority,J_=Ft.unstable_IdlePriority,Lu=null,Tn=null;function lI(e){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Lu,e,void 0,(e.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:dI,cI=Math.log,uI=Math.LN2;function dI(e){return e>>>=0,e===0?32:31-(cI(e)/uI|0)|0}var kl=64,Tl=4194304;function Mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Mo(a):(i&=o,i!==0&&(r=Mo(i)))}else o=n&~s,o!==0?r=Mo(o):i!==0&&(r=Mo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gn(t),s=1<<n,r|=e[n],t&=~s;return r}function hI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=hI(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function rf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X_(){var e=kl;return kl<<=1,!(kl&4194240)&&(kl=64),e}function Ad(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ga(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gn(t),e[t]=n}function pI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function sm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var pe=0;function Q_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Z_,im,eb,tb,nb,sf=!1,Cl=[],wr=null,xr=null,_r=null,ca=new Map,ua=new Map,fr=[],mI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dy(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(t.pointerId)}}function So(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ja(t),t!==null&&im(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gI(e,t,n,r,s){switch(t){case"focusin":return wr=So(wr,e,t,n,r,s),!0;case"dragenter":return xr=So(xr,e,t,n,r,s),!0;case"mouseover":return _r=So(_r,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ca.set(i,So(ca.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ua.set(i,So(ua.get(i)||null,e,t,n,r,s)),!0}return!1}function rb(e){var t=ls(e.target);if(t!==null){var n=Os(t);if(n!==null){if(t=n.tag,t===13){if(t=H_(n),t!==null){e.blockedOn=t,nb(e.priority,function(){eb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=of(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zh=r,n.target.dispatchEvent(r),Zh=null}else return t=Ja(n),t!==null&&im(t),e.blockedOn=n,!1;t.shift()}return!0}function $y(e,t,n){cc(e)&&n.delete(t)}function yI(){sf=!1,wr!==null&&cc(wr)&&(wr=null),xr!==null&&cc(xr)&&(xr=null),_r!==null&&cc(_r)&&(_r=null),ca.forEach($y),ua.forEach($y)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,sf||(sf=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,yI)))}function da(e){function t(s){return Eo(s,e)}if(0<Cl.length){Eo(Cl[0],e);for(var n=1;n<Cl.length;n++){var r=Cl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wr!==null&&Eo(wr,e),xr!==null&&Eo(xr,e),_r!==null&&Eo(_r,e),ca.forEach(t),ua.forEach(t),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)rb(n),n.blockedOn===null&&fr.shift()}var Ni=nr.ReactCurrentBatchConfig,Uc=!0;function vI(e,t,n,r){var s=pe,i=Ni.transition;Ni.transition=null;try{pe=1,om(e,t,n,r)}finally{pe=s,Ni.transition=i}}function wI(e,t,n,r){var s=pe,i=Ni.transition;Ni.transition=null;try{pe=4,om(e,t,n,r)}finally{pe=s,Ni.transition=i}}function om(e,t,n,r){if(Uc){var s=of(e,t,n,r);if(s===null)Bd(e,t,r,Bc,n),Dy(e,r);else if(gI(s,e,t,n,r))r.stopPropagation();else if(Dy(e,r),t&4&&-1<mI.indexOf(e)){for(;s!==null;){var i=Ja(s);if(i!==null&&Z_(i),i=of(e,t,n,r),i===null&&Bd(e,t,r,Bc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bd(e,t,r,null,n)}}var Bc=null;function of(e,t,n,r){if(Bc=null,e=nm(r),e=ls(e),e!==null)if(t=Os(e),t===null)e=null;else if(n=t.tag,n===13){if(e=H_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bc=e,null}function sb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oI()){case rm:return 1;case Y_:return 4;case $c:case aI:return 16;case J_:return 536870912;default:return 16}default:return 16}}var gr=null,am=null,uc=null;function ib(){if(uc)return uc;var e,t=am,n=t.length,r,s="value"in gr?gr.value:gr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return uc=s.slice(e,1<r?1-r:void 0)}function dc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function Fy(){return!1}function Vt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Il:Fy,this.isPropagationStopped=Fy,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),t}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=Vt(to),Ya=Ce({},to,{view:0,detail:0}),xI=Vt(Ya),Pd,jd,ko,Du=Ce({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ko&&(ko&&e.type==="mousemove"?(Pd=e.screenX-ko.screenX,jd=e.screenY-ko.screenY):jd=Pd=0,ko=e),Pd)},movementY:function(e){return"movementY"in e?e.movementY:jd}}),Uy=Vt(Du),_I=Ce({},Du,{dataTransfer:0}),bI=Vt(_I),SI=Ce({},Ya,{relatedTarget:0}),Od=Vt(SI),EI=Ce({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),kI=Vt(EI),TI=Ce({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CI=Vt(TI),II=Ce({},to,{data:0}),By=Vt(II),RI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AI[e])?!!t[e]:!1}function cm(){return PI}var jI=Ce({},Ya,{key:function(e){if(e.key){var t=RI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(e){return e.type==="keypress"?dc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OI=Vt(jI),MI=Ce({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vy=Vt(MI),LI=Ce({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),DI=Vt(LI),$I=Ce({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),FI=Vt($I),UI=Ce({},Du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BI=Vt(UI),VI=[9,13,27,32],um=qn&&"CompositionEvent"in window,zo=null;qn&&"documentMode"in document&&(zo=document.documentMode);var zI=qn&&"TextEvent"in window&&!zo,ob=qn&&(!um||zo&&8<zo&&11>=zo),zy=" ",Wy=!1;function ab(e,t){switch(e){case"keyup":return VI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function WI(e,t){switch(e){case"compositionend":return lb(t);case"keypress":return t.which!==32?null:(Wy=!0,zy);case"textInput":return e=t.data,e===zy&&Wy?null:e;default:return null}}function HI(e,t){if(ii)return e==="compositionend"||!um&&ab(e,t)?(e=ib(),uc=am=gr=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ob&&t.locale!=="ko"?null:t.data;default:return null}}var qI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qI[e.type]:t==="textarea"}function cb(e,t,n,r){U_(r),t=Vc(t,"onChange"),0<t.length&&(n=new lm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wo=null,ha=null;function KI(e){xb(e,0)}function $u(e){var t=li(e);if(j_(t))return e}function GI(e,t){if(e==="change")return t}var ub=!1;if(qn){var Md;if(qn){var Ld="oninput"in document;if(!Ld){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),Ld=typeof qy.oninput=="function"}Md=Ld}else Md=!1;ub=Md&&(!document.documentMode||9<document.documentMode)}function Ky(){Wo&&(Wo.detachEvent("onpropertychange",db),ha=Wo=null)}function db(e){if(e.propertyName==="value"&&$u(ha)){var t=[];cb(t,ha,e,nm(e)),W_(KI,t)}}function YI(e,t,n){e==="focusin"?(Ky(),Wo=t,ha=n,Wo.attachEvent("onpropertychange",db)):e==="focusout"&&Ky()}function JI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(ha)}function XI(e,t){if(e==="click")return $u(t)}function QI(e,t){if(e==="input"||e==="change")return $u(t)}function ZI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:ZI;function fa(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bh.call(t,s)||!wn(e[s],t[s]))return!1}return!0}function Gy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yy(e,t){var n=Gy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gy(n)}}function hb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fb(){for(var e=window,t=Mc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mc(e.document)}return t}function dm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eR(e){var t=fb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hb(n.ownerDocument.documentElement,n)){if(r!==null&&dm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Yy(n,i);var o=Yy(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tR=qn&&"documentMode"in document&&11>=document.documentMode,oi=null,af=null,Ho=null,lf=!1;function Jy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lf||oi==null||oi!==Mc(r)||(r=oi,"selectionStart"in r&&dm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ho&&fa(Ho,r)||(Ho=r,r=Vc(af,"onSelect"),0<r.length&&(t=new lm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=oi)))}function Rl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ai={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Dd={},pb={};qn&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Fu(e){if(Dd[e])return Dd[e];if(!ai[e])return e;var t=ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pb)return Dd[e]=t[n];return e}var mb=Fu("animationend"),gb=Fu("animationiteration"),yb=Fu("animationstart"),vb=Fu("transitionend"),wb=new Map,Xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){wb.set(e,t),js(t,[e])}for(var $d=0;$d<Xy.length;$d++){var Fd=Xy[$d],nR=Fd.toLowerCase(),rR=Fd[0].toUpperCase()+Fd.slice(1);Ur(nR,"on"+rR)}Ur(mb,"onAnimationEnd");Ur(gb,"onAnimationIteration");Ur(yb,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(vb,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Qy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nI(r,t,void 0,e),e.currentTarget=null}function xb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Qy(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Qy(s,a,c),i=l}}}if(Dc)throw e=nf,Dc=!1,nf=null,e}function xe(e,t){var n=t[ff];n===void 0&&(n=t[ff]=new Set);var r=e+"__bubble";n.has(r)||(_b(t,e,2,!1),n.add(r))}function Ud(e,t,n){var r=0;t&&(r|=4),_b(n,e,r,t)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function pa(e){if(!e[Nl]){e[Nl]=!0,I_.forEach(function(n){n!=="selectionchange"&&(sR.has(n)||Ud(n,!1,e),Ud(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nl]||(t[Nl]=!0,Ud("selectionchange",!1,t))}}function _b(e,t,n,r){switch(sb(t)){case 1:var s=vI;break;case 4:s=wI;break;default:s=om}n=s.bind(null,t,n,e),s=void 0,!tf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Bd(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ls(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}W_(function(){var c=i,u=nm(n),d=[];e:{var f=wb.get(e);if(f!==void 0){var p=lm,m=e;switch(e){case"keypress":if(dc(n)===0)break e;case"keydown":case"keyup":p=OI;break;case"focusin":m="focus",p=Od;break;case"focusout":m="blur",p=Od;break;case"beforeblur":case"afterblur":p=Od;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DI;break;case mb:case gb:case yb:p=kI;break;case vb:p=FI;break;case"scroll":p=xI;break;case"wheel":p=BI;break;case"copy":case"cut":case"paste":p=CI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Vy}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,g!==null&&(_=la(y,g),_!=null&&v.push(ma(y,_,w)))),x)break;y=y.return}0<v.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Zh&&(m=n.relatedTarget||n.fromElement)&&(ls(m)||m[Kn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ls(m):null,m!==null&&(x=Os(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Uy,_="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Vy,_="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?f:li(p),w=m==null?f:li(m),f=new v(_,y+"leave",p,n,u),f.target=x,f.relatedTarget=w,_=null,ls(u)===c&&(v=new v(g,y+"enter",m,n,u),v.target=w,v.relatedTarget=x,_=v),x=_,p&&m)t:{for(v=p,g=m,y=0,w=v;w;w=zs(w))y++;for(w=0,_=g;_;_=zs(_))w++;for(;0<y-w;)v=zs(v),y--;for(;0<w-y;)g=zs(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=zs(v),g=zs(g)}v=null}else v=null;p!==null&&Zy(d,f,p,v,!1),m!==null&&x!==null&&Zy(d,x,m,v,!0)}}e:{if(f=c?li(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=GI;else if(Hy(f))if(ub)S=QI;else{S=JI;var k=YI}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=XI);if(S&&(S=S(e,c))){cb(d,S,n,u);break e}k&&k(e,f,c),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Gh(f,"number",f.value)}switch(k=c?li(c):window,e){case"focusin":(Hy(k)||k.contentEditable==="true")&&(oi=k,af=c,Ho=null);break;case"focusout":Ho=af=oi=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Jy(d,n,u);break;case"selectionchange":if(tR)break;case"keydown":case"keyup":Jy(d,n,u)}var b;if(um)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ii?ab(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ob&&n.locale!=="ko"&&(ii||T!=="onCompositionStart"?T==="onCompositionEnd"&&ii&&(b=ib()):(gr=u,am="value"in gr?gr.value:gr.textContent,ii=!0)),k=Vc(c,T),0<k.length&&(T=new By(T,e,null,n,u),d.push({event:T,listeners:k}),b?T.data=b:(b=lb(n),b!==null&&(T.data=b)))),(b=zI?WI(e,n):HI(e,n))&&(c=Vc(c,"onBeforeInput"),0<c.length&&(u=new By("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=b))}xb(d,t)})}function ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=la(e,n),i!=null&&r.unshift(ma(e,i,s)),i=la(e,t),i!=null&&r.push(ma(e,i,s))),e=e.return}return r}function zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zy(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=la(n,i),l!=null&&o.unshift(ma(n,l,a))):s||(l=la(n,i),l!=null&&o.push(ma(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var iR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function ev(e){return(typeof e=="string"?e:""+e).replace(iR,`
`).replace(oR,"")}function Al(e,t,n){if(t=ev(t),ev(e)!==t&&n)throw Error(N(425))}function zc(){}var cf=null,uf=null;function df(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(e){return tv.resolve(null).then(e).catch(cR)}:hf;function cR(e){setTimeout(function(){throw e})}function Vd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),da(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);da(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),Sn="__reactFiber$"+no,ga="__reactProps$"+no,Kn="__reactContainer$"+no,ff="__reactEvents$"+no,uR="__reactListeners$"+no,dR="__reactHandles$"+no;function ls(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kn]||n[Sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nv(e);e!==null;){if(n=e[Sn])return n;e=nv(e)}return t}e=n,n=e.parentNode}return null}function Ja(e){return e=e[Sn]||e[Kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Uu(e){return e[ga]||null}var pf=[],ci=-1;function Br(e){return{current:e}}function _e(e){0>ci||(e.current=pf[ci],pf[ci]=null,ci--)}function we(e,t){ci++,pf[ci]=e.current,e.current=t}var jr={},ct=Br(jr),Et=Br(!1),Ss=jr;function Li(e,t){var n=e.type.contextTypes;if(!n)return jr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kt(e){return e=e.childContextTypes,e!=null}function Wc(){_e(Et),_e(ct)}function rv(e,t,n){if(ct.current!==jr)throw Error(N(168));we(ct,t),we(Et,n)}function bb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,YC(e)||"Unknown",s));return Ce({},n,r)}function Hc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,Ss=ct.current,we(ct,e),we(Et,Et.current),!0}function sv(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=bb(e,t,Ss),r.__reactInternalMemoizedMergedChildContext=e,_e(Et),_e(ct),we(ct,e)):_e(Et),we(Et,n)}var Ln=null,Bu=!1,zd=!1;function Sb(e){Ln===null?Ln=[e]:Ln.push(e)}function hR(e){Bu=!0,Sb(e)}function Vr(){if(!zd&&Ln!==null){zd=!0;var e=0,t=pe;try{var n=Ln;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ln=null,Bu=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(e+1)),G_(rm,Vr),s}finally{pe=t,zd=!1}}return null}var ui=[],di=0,qc=null,Kc=0,Yt=[],Jt=0,Es=null,Dn=1,$n="";function es(e,t){ui[di++]=Kc,ui[di++]=qc,qc=e,Kc=t}function Eb(e,t,n){Yt[Jt++]=Dn,Yt[Jt++]=$n,Yt[Jt++]=Es,Es=e;var r=Dn;e=$n;var s=32-gn(r)-1;r&=~(1<<s),n+=1;var i=32-gn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Dn=1<<32-gn(t)+s|n<<s|r,$n=i+e}else Dn=1<<i|n<<s|r,$n=e}function hm(e){e.return!==null&&(es(e,1),Eb(e,1,0))}function fm(e){for(;e===qc;)qc=ui[--di],ui[di]=null,Kc=ui[--di],ui[di]=null;for(;e===Es;)Es=Yt[--Jt],Yt[Jt]=null,$n=Yt[--Jt],Yt[Jt]=null,Dn=Yt[--Jt],Yt[Jt]=null}var Lt=null,Mt=null,Se=!1,pn=null;function kb(e,t){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function iv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Mt=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Es!==null?{id:Dn,overflow:$n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lt=e,Mt=null,!0):!1;default:return!1}}function mf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gf(e){if(Se){var t=Mt;if(t){var n=t;if(!iv(e,t)){if(mf(e))throw Error(N(418));t=br(n.nextSibling);var r=Lt;t&&iv(e,t)?kb(r,n):(e.flags=e.flags&-4097|2,Se=!1,Lt=e)}}else{if(mf(e))throw Error(N(418));e.flags=e.flags&-4097|2,Se=!1,Lt=e}}}function ov(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function Pl(e){if(e!==Lt)return!1;if(!Se)return ov(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!df(e.type,e.memoizedProps)),t&&(t=Mt)){if(mf(e))throw Tb(),Error(N(418));for(;t;)kb(e,t),t=br(t.nextSibling)}if(ov(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mt=br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Lt?br(e.stateNode.nextSibling):null;return!0}function Tb(){for(var e=Mt;e;)e=br(e.nextSibling)}function Di(){Mt=Lt=null,Se=!1}function pm(e){pn===null?pn=[e]:pn.push(e)}var fR=nr.ReactCurrentBatchConfig;function To(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function jl(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function av(e){var t=e._init;return t(e._payload)}function Cb(e){function t(g,y){if(e){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Tr(g,y),g.index=0,g.sibling=null,g}function i(g,y,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,y,w,_){return y===null||y.tag!==6?(y=Jd(w,g.mode,_),y.return=g,y):(y=s(y,w),y.return=g,y)}function l(g,y,w,_){var S=w.type;return S===si?u(g,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lr&&av(S)===y.type)?(_=s(y,w.props),_.ref=To(g,y,w),_.return=g,_):(_=vc(w.type,w.key,w.props,null,g.mode,_),_.ref=To(g,y,w),_.return=g,_)}function c(g,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Xd(w,g.mode,_),y.return=g,y):(y=s(y,w.children||[]),y.return=g,y)}function u(g,y,w,_,S){return y===null||y.tag!==7?(y=ys(w,g.mode,_,S),y.return=g,y):(y=s(y,w),y.return=g,y)}function d(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jd(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:return w=vc(y.type,y.key,y.props,null,g.mode,w),w.ref=To(g,null,y),w.return=g,w;case ri:return y=Xd(y,g.mode,w),y.return=g,y;case lr:var _=y._init;return d(g,_(y._payload),w)}if(Oo(y)||_o(y))return y=ys(y,g.mode,w,null),y.return=g,y;jl(g,y)}return null}function f(g,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(g,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bl:return w.key===S?l(g,y,w,_):null;case ri:return w.key===S?c(g,y,w,_):null;case lr:return S=w._init,f(g,y,S(w._payload),_)}if(Oo(w)||_o(w))return S!==null?null:u(g,y,w,_,null);jl(g,w)}return null}function p(g,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(w)||null,a(y,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bl:return g=g.get(_.key===null?w:_.key)||null,l(y,g,_,S);case ri:return g=g.get(_.key===null?w:_.key)||null,c(y,g,_,S);case lr:var k=_._init;return p(g,y,w,k(_._payload),S)}if(Oo(_)||_o(_))return g=g.get(w)||null,u(y,g,_,S,null);jl(y,_)}return null}function m(g,y,w,_){for(var S=null,k=null,b=y,T=y=0,j=null;b!==null&&T<w.length;T++){b.index>T?(j=b,b=null):j=b.sibling;var I=f(g,b,w[T],_);if(I===null){b===null&&(b=j);break}e&&b&&I.alternate===null&&t(g,b),y=i(I,y,T),k===null?S=I:k.sibling=I,k=I,b=j}if(T===w.length)return n(g,b),Se&&es(g,T),S;if(b===null){for(;T<w.length;T++)b=d(g,w[T],_),b!==null&&(y=i(b,y,T),k===null?S=b:k.sibling=b,k=b);return Se&&es(g,T),S}for(b=r(g,b);T<w.length;T++)j=p(b,g,T,w[T],_),j!==null&&(e&&j.alternate!==null&&b.delete(j.key===null?T:j.key),y=i(j,y,T),k===null?S=j:k.sibling=j,k=j);return e&&b.forEach(function(O){return t(g,O)}),Se&&es(g,T),S}function v(g,y,w,_){var S=_o(w);if(typeof S!="function")throw Error(N(150));if(w=S.call(w),w==null)throw Error(N(151));for(var k=S=null,b=y,T=y=0,j=null,I=w.next();b!==null&&!I.done;T++,I=w.next()){b.index>T?(j=b,b=null):j=b.sibling;var O=f(g,b,I.value,_);if(O===null){b===null&&(b=j);break}e&&b&&O.alternate===null&&t(g,b),y=i(O,y,T),k===null?S=O:k.sibling=O,k=O,b=j}if(I.done)return n(g,b),Se&&es(g,T),S;if(b===null){for(;!I.done;T++,I=w.next())I=d(g,I.value,_),I!==null&&(y=i(I,y,T),k===null?S=I:k.sibling=I,k=I);return Se&&es(g,T),S}for(b=r(g,b);!I.done;T++,I=w.next())I=p(b,g,T,I.value,_),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?T:I.key),y=i(I,y,T),k===null?S=I:k.sibling=I,k=I);return e&&b.forEach(function(J){return t(g,J)}),Se&&es(g,T),S}function x(g,y,w,_){if(typeof w=="object"&&w!==null&&w.type===si&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case bl:e:{for(var S=w.key,k=y;k!==null;){if(k.key===S){if(S=w.type,S===si){if(k.tag===7){n(g,k.sibling),y=s(k,w.props.children),y.return=g,g=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===lr&&av(S)===k.type){n(g,k.sibling),y=s(k,w.props),y.ref=To(g,k,w),y.return=g,g=y;break e}n(g,k);break}else t(g,k);k=k.sibling}w.type===si?(y=ys(w.props.children,g.mode,_,w.key),y.return=g,g=y):(_=vc(w.type,w.key,w.props,null,g.mode,_),_.ref=To(g,y,w),_.return=g,g=_)}return o(g);case ri:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=s(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=Xd(w,g.mode,_),y.return=g,g=y}return o(g);case lr:return k=w._init,x(g,y,k(w._payload),_)}if(Oo(w))return m(g,y,w,_);if(_o(w))return v(g,y,w,_);jl(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,w),y.return=g,g=y):(n(g,y),y=Jd(w,g.mode,_),y.return=g,g=y),o(g)):n(g,y)}return x}var $i=Cb(!0),Ib=Cb(!1),Gc=Br(null),Yc=null,hi=null,mm=null;function gm(){mm=hi=Yc=null}function ym(e){var t=Gc.current;_e(Gc),e._currentValue=t}function yf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){Yc=e,mm=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(mm!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(Yc===null)throw Error(N(308));hi=e,Yc.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var cs=null;function vm(e){cs===null?cs=[e]:cs.push(e)}function Rb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vm(t)):(n.next=s.next,s.next=n),t.interleaved=n,Gn(e,r)}function Gn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cr=!1;function wm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Gn(e,n)}return s=r.interleaved,s===null?(t.next=t,vm(r)):(t.next=s.next,s.next=t),r.interleaved=t,Gn(e,n)}function hc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sm(e,n)}}function lv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jc(e,t,n,r){var s=e.updateQueue;cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,v=a;switch(f=t,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=Ce({},d,f);break e;case 2:cr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ts|=o,e.lanes=o,e.memoizedState=d}}function cv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Xa={},Cn=Br(Xa),ya=Br(Xa),va=Br(Xa);function us(e){if(e===Xa)throw Error(N(174));return e}function xm(e,t){switch(we(va,t),we(ya,e),we(Cn,Xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jh(t,e)}_e(Cn),we(Cn,t)}function Fi(){_e(Cn),_e(ya),_e(va)}function Ab(e){us(va.current);var t=us(Cn.current),n=Jh(t,e.type);t!==n&&(we(ya,e),we(Cn,n))}function _m(e){ya.current===e&&(_e(Cn),_e(ya))}var Ee=Br(0);function Xc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wd=[];function bm(){for(var e=0;e<Wd.length;e++)Wd[e]._workInProgressVersionPrimary=null;Wd.length=0}var fc=nr.ReactCurrentDispatcher,Hd=nr.ReactCurrentBatchConfig,ks=0,Te=null,We=null,Ke=null,Qc=!1,qo=!1,wa=0,pR=0;function rt(){throw Error(N(321))}function Sm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function Em(e,t,n,r,s,i){if(ks=i,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fc.current=e===null||e.memoizedState===null?vR:wR,e=n(r,s),qo){i=0;do{if(qo=!1,wa=0,25<=i)throw Error(N(301));i+=1,Ke=We=null,t.updateQueue=null,fc.current=xR,e=n(r,s)}while(qo)}if(fc.current=Zc,t=We!==null&&We.next!==null,ks=0,Ke=We=Te=null,Qc=!1,t)throw Error(N(300));return e}function km(){var e=wa!==0;return wa=0,e}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Te.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function tn(){if(We===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Ke===null?Te.memoizedState:Ke.next;if(t!==null)Ke=t,We=e;else{if(e===null)throw Error(N(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ke===null?Te.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function xa(e,t){return typeof t=="function"?t(e):t}function qd(e){var t=tn(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=We,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((ks&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Te.lanes|=u,Ts|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,wn(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Te.lanes|=i,Ts|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kd(e){var t=tn(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);wn(i,t.memoizedState)||(bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Pb(){}function jb(e,t){var n=Te,r=tn(),s=t(),i=!wn(r.memoizedState,s);if(i&&(r.memoizedState=s,bt=!0),r=r.queue,Tm(Lb.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,_a(9,Mb.bind(null,n,r,s,t),void 0,null),Ge===null)throw Error(N(349));ks&30||Ob(n,t,s)}return s}function Ob(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mb(e,t,n,r){t.value=n,t.getSnapshot=r,Db(t)&&$b(e)}function Lb(e,t,n){return n(function(){Db(t)&&$b(e)})}function Db(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wn(e,n)}catch{return!0}}function $b(e){var t=Gn(e,1);t!==null&&yn(t,e,1,-1)}function uv(e){var t=bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=yR.bind(null,Te,e),[t.memoizedState,e]}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fb(){return tn().memoizedState}function pc(e,t,n,r){var s=bn();Te.flags|=e,s.memoizedState=_a(1|t,n,void 0,r===void 0?null:r)}function Vu(e,t,n,r){var s=tn();r=r===void 0?null:r;var i=void 0;if(We!==null){var o=We.memoizedState;if(i=o.destroy,r!==null&&Sm(r,o.deps)){s.memoizedState=_a(t,n,i,r);return}}Te.flags|=e,s.memoizedState=_a(1|t,n,i,r)}function dv(e,t){return pc(8390656,8,e,t)}function Tm(e,t){return Vu(2048,8,e,t)}function Ub(e,t){return Vu(4,2,e,t)}function Bb(e,t){return Vu(4,4,e,t)}function Vb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zb(e,t,n){return n=n!=null?n.concat([e]):null,Vu(4,4,Vb.bind(null,t,e),n)}function Cm(){}function Wb(e,t){var n=tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hb(e,t){var n=tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Sm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qb(e,t,n){return ks&21?(wn(n,t)||(n=X_(),Te.lanes|=n,Ts|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function mR(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=Hd.transition;Hd.transition={};try{e(!1),t()}finally{pe=n,Hd.transition=r}}function Kb(){return tn().memoizedState}function gR(e,t,n){var r=kr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gb(e))Yb(t,n);else if(n=Rb(e,t,n,r),n!==null){var s=ft();yn(n,e,r,s),Jb(n,t,r)}}function yR(e,t,n){var r=kr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gb(e))Yb(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,wn(a,o)){var l=t.interleaved;l===null?(s.next=s,vm(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Rb(e,t,s,r),n!==null&&(s=ft(),yn(n,e,r,s),Jb(n,t,r))}}function Gb(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Yb(e,t){qo=Qc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sm(e,n)}}var Zc={readContext:en,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},vR={readContext:en,useCallback:function(e,t){return bn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:dv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pc(4194308,4,Vb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pc(4194308,4,e,t)},useInsertionEffect:function(e,t){return pc(4,2,e,t)},useMemo:function(e,t){var n=bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gR.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=bn();return e={current:e},t.memoizedState=e},useState:uv,useDebugValue:Cm,useDeferredValue:function(e){return bn().memoizedState=e},useTransition:function(){var e=uv(!1),t=e[0];return e=mR.bind(null,e[1]),bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,s=bn();if(Se){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Ge===null)throw Error(N(349));ks&30||Ob(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,dv(Lb.bind(null,r,i,e),[e]),r.flags|=2048,_a(9,Mb.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bn(),t=Ge.identifierPrefix;if(Se){var n=$n,r=Dn;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pR++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wR={readContext:en,useCallback:Wb,useContext:en,useEffect:Tm,useImperativeHandle:zb,useInsertionEffect:Ub,useLayoutEffect:Bb,useMemo:Hb,useReducer:qd,useRef:Fb,useState:function(){return qd(xa)},useDebugValue:Cm,useDeferredValue:function(e){var t=tn();return qb(t,We.memoizedState,e)},useTransition:function(){var e=qd(xa)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Pb,useSyncExternalStore:jb,useId:Kb,unstable_isNewReconciler:!1},xR={readContext:en,useCallback:Wb,useContext:en,useEffect:Tm,useImperativeHandle:zb,useInsertionEffect:Ub,useLayoutEffect:Bb,useMemo:Hb,useReducer:Kd,useRef:Fb,useState:function(){return Kd(xa)},useDebugValue:Cm,useDeferredValue:function(e){var t=tn();return We===null?t.memoizedState=e:qb(t,We.memoizedState,e)},useTransition:function(){var e=Kd(xa)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Pb,useSyncExternalStore:jb,useId:Kb,unstable_isNewReconciler:!1};function ln(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zu={isMounted:function(e){return(e=e._reactInternals)?Os(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),s=kr(e),i=Fn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Sr(e,i,s),t!==null&&(yn(t,e,s,r),hc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),s=kr(e),i=Fn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Sr(e,i,s),t!==null&&(yn(t,e,s,r),hc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=kr(e),s=Fn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Sr(e,s,r),t!==null&&(yn(t,e,r,n),hc(t,e,r))}};function hv(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!fa(n,r)||!fa(s,i):!0}function Xb(e,t,n){var r=!1,s=jr,i=t.contextType;return typeof i=="object"&&i!==null?i=en(i):(s=kt(t)?Ss:ct.current,r=t.contextTypes,i=(r=r!=null)?Li(e,s):jr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zu.enqueueReplaceState(t,t.state,null)}function wf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wm(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=en(i):(i=kt(t)?Ss:ct.current,s.context=Li(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vf(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zu.enqueueReplaceState(s,s.state,null),Jc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ui(e,t){try{var n="",r=t;do n+=GC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Gd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _R=typeof WeakMap=="function"?WeakMap:Map;function Qb(e,t,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tu||(tu=!0,Nf=r),xf(e,t)},n}function Zb(e,t,n){n=Fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){xf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xf(e,t),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _R;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=MR.bind(null,e,t,n),t.then(e,e))}function mv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fn(-1,1),t.tag=2,Sr(n,t,1))),n.lanes|=1),e)}var bR=nr.ReactCurrentOwner,bt=!1;function dt(e,t,n,r){t.child=e===null?Ib(t,null,n,r):$i(t,e.child,n,r)}function yv(e,t,n,r,s){n=n.render;var i=t.ref;return Ai(t,s),r=Em(e,t,n,r,i,s),n=km(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yn(e,t,s)):(Se&&n&&hm(t),t.flags|=1,dt(e,t,r,s),t.child)}function vv(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Mm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,eS(e,t,i,r,s)):(e=vc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:fa,n(o,r)&&e.ref===t.ref)return Yn(e,t,s)}return t.flags|=1,e=Tr(i,r),e.ref=t.ref,e.return=t,t.child=e}function eS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(fa(i,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Yn(e,t,s)}return _f(e,t,n,r,s)}function tS(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(pi,Pt),Pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(pi,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(pi,Pt),Pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,we(pi,Pt),Pt|=r;return dt(e,t,s,n),t.child}function nS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _f(e,t,n,r,s){var i=kt(n)?Ss:ct.current;return i=Li(t,i),Ai(t,s),n=Em(e,t,n,r,i,s),r=km(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yn(e,t,s)):(Se&&r&&hm(t),t.flags|=1,dt(e,t,n,s),t.child)}function wv(e,t,n,r,s){if(kt(n)){var i=!0;Hc(t)}else i=!1;if(Ai(t,s),t.stateNode===null)mc(e,t),Xb(t,n,r),wf(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=en(c):(c=kt(n)?Ss:ct.current,c=Li(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&fv(t,o,r,c),cr=!1;var f=t.memoizedState;o.state=f,Jc(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Et.current||cr?(typeof u=="function"&&(vf(t,n,u,r),l=t.memoizedState),(a=cr||hv(t,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Nb(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ln(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=en(l):(l=kt(n)?Ss:ct.current,l=Li(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&fv(t,o,r,l),cr=!1,f=t.memoizedState,o.state=f,Jc(t,r,o,s);var m=t.memoizedState;a!==d||f!==m||Et.current||cr?(typeof p=="function"&&(vf(t,n,p,r),m=t.memoizedState),(c=cr||hv(t,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return bf(e,t,n,r,i,s)}function bf(e,t,n,r,s,i){nS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&sv(t,n,!1),Yn(e,t,i);r=t.stateNode,bR.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=$i(t,e.child,null,i),t.child=$i(t,null,a,i)):dt(e,t,a,i),t.memoizedState=r.state,s&&sv(t,n,!0),t.child}function rS(e){var t=e.stateNode;t.pendingContext?rv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rv(e,t.context,!1),xm(e,t.containerInfo)}function xv(e,t,n,r,s){return Di(),pm(s),t.flags|=256,dt(e,t,n,r),t.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function Ef(e){return{baseLanes:e,cachePool:null,transitions:null}}function sS(e,t,n){var r=t.pendingProps,s=Ee.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),we(Ee,s&1),e===null)return gf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qu(o,r,0,null),e=ys(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ef(n),t.memoizedState=Sf,e):Im(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return SR(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Tr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Tr(a,i):(i=ys(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Ef(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Sf,r}return i=e.child,e=i.sibling,r=Tr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Im(e,t){return t=qu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,n,r){return r!==null&&pm(r),$i(t,e.child,null,n),e=Im(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SR(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Gd(Error(N(422))),Ol(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=qu({mode:"visible",children:r.children},s,0,null),i=ys(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&$i(t,e.child,null,o),t.child.memoizedState=Ef(o),t.memoizedState=Sf,i);if(!(t.mode&1))return Ol(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=Gd(i,r,void 0),Ol(e,t,o,r)}if(a=(o&e.childLanes)!==0,bt||a){if(r=Ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gn(e,s),yn(r,e,s,-1))}return Om(),r=Gd(Error(N(421))),Ol(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=LR.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Mt=br(s.nextSibling),Lt=t,Se=!0,pn=null,e!==null&&(Yt[Jt++]=Dn,Yt[Jt++]=$n,Yt[Jt++]=Es,Dn=e.id,$n=e.overflow,Es=t),t=Im(t,r.children),t.flags|=4096,t)}function _v(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),yf(e.return,t,n)}function Yd(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function iS(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(dt(e,t,r.children,n),r=Ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_v(e,n,t);else if(e.tag===19)_v(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(we(Ee,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Xc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yd(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yd(t,!0,n,null,i);break;case"together":Yd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ts|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ER(e,t,n){switch(t.tag){case 3:rS(t),Di();break;case 5:Ab(t);break;case 1:kt(t.type)&&Hc(t);break;case 4:xm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;we(Gc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(we(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?sS(e,t,n):(we(Ee,Ee.current&1),e=Yn(e,t,n),e!==null?e.sibling:null);we(Ee,Ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Ee,Ee.current),r)break;return null;case 22:case 23:return t.lanes=0,tS(e,t,n)}return Yn(e,t,n)}var oS,kf,aS,lS;oS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kf=function(){};aS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,us(Cn.current);var i=null;switch(n){case"input":s=qh(e,s),r=qh(e,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=Yh(e,s),r=Yh(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zc)}Xh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(oa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(oa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xe("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};lS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Co(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function st(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kR(e,t,n){var r=t.pendingProps;switch(fm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(t),null;case 1:return kt(t.type)&&Wc(),st(t),null;case 3:return r=t.stateNode,Fi(),_e(Et),_e(ct),bm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pn!==null&&(jf(pn),pn=null))),kf(e,t),st(t),null;case 5:_m(t);var s=us(va.current);if(n=t.type,e!==null&&t.stateNode!=null)aS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return st(t),null}if(e=us(Cn.current),Pl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Sn]=t,r[ga]=i,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<Lo.length;s++)xe(Lo[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Ny(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":Py(r,i),xe("invalid",r)}Xh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Al(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Al(r.textContent,a,e),s=["children",""+a]):oa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":Sl(r),Ay(r,i,!0);break;case"textarea":Sl(r),jy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Sn]=t,e[ga]=r,oS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qh(n,r),n){case"dialog":xe("cancel",e),xe("close",e),s=r;break;case"iframe":case"object":case"embed":xe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Lo.length;s++)xe(Lo[s],e);s=r;break;case"source":xe("error",e),s=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),s=r;break;case"details":xe("toggle",e),s=r;break;case"input":Ny(e,r),s=qh(e,r),xe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),xe("invalid",e);break;case"textarea":Py(e,r),s=Yh(e,r),xe("invalid",e);break;default:s=r}Xh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?F_(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D_(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&aa(e,l):typeof l=="number"&&aa(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(oa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xe("scroll",e):l!=null&&Qp(e,i,l,o))}switch(n){case"input":Sl(e),Ay(e,r,!1);break;case"textarea":Sl(e),jy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ci(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ci(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return st(t),null;case 6:if(e&&t.stateNode!=null)lS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=us(va.current),us(Cn.current),Pl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Sn]=t,(i=r.nodeValue!==n)&&(e=Lt,e!==null))switch(e.tag){case 3:Al(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Al(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=t,t.stateNode=r}return st(t),null;case 13:if(_e(Ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&Mt!==null&&t.mode&1&&!(t.flags&128))Tb(),Di(),t.flags|=98560,i=!1;else if(i=Pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[Sn]=t}else Di(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;st(t),i=!1}else pn!==null&&(jf(pn),pn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?He===0&&(He=3):Om())),t.updateQueue!==null&&(t.flags|=4),st(t),null);case 4:return Fi(),kf(e,t),e===null&&pa(t.stateNode.containerInfo),st(t),null;case 10:return ym(t.type._context),st(t),null;case 17:return kt(t.type)&&Wc(),st(t),null;case 19:if(_e(Ee),i=t.memoizedState,i===null)return st(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Co(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xc(e),o!==null){for(t.flags|=128,Co(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return we(Ee,Ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&Le()>Bi&&(t.flags|=128,r=!0,Co(i,!1),t.lanes=4194304)}else{if(!r)if(e=Xc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Se)return st(t),null}else 2*Le()-i.renderingStartTime>Bi&&n!==1073741824&&(t.flags|=128,r=!0,Co(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Le(),t.sibling=null,n=Ee.current,we(Ee,r?n&1|2:n&1),t):(st(t),null);case 22:case 23:return jm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pt&1073741824&&(st(t),t.subtreeFlags&6&&(t.flags|=8192)):st(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function TR(e,t){switch(fm(t),t.tag){case 1:return kt(t.type)&&Wc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fi(),_e(Et),_e(ct),bm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _m(t),null;case 13:if(_e(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ee),null;case 4:return Fi(),null;case 10:return ym(t.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var Ml=!1,ot=!1,CR=typeof WeakSet=="function"?WeakSet:Set,M=null;function fi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function Tf(e,t,n){try{n()}catch(r){Pe(e,t,r)}}var bv=!1;function IR(e,t){if(cf=Uc,e=fb(),dm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uf={focusedElem:e,selectionRange:n},Uc=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ln(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){Pe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return m=bv,bv=!1,m}function Ko(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tf(t,n,i)}s=s.next}while(s!==r)}}function Wu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cS(e){var t=e.alternate;t!==null&&(e.alternate=null,cS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sn],delete t[ga],delete t[ff],delete t[uR],delete t[dR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uS(e){return e.tag===5||e.tag===3||e.tag===4}function Sv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function If(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zc));else if(r!==4&&(e=e.child,e!==null))for(If(e,t,n),e=e.sibling;e!==null;)If(e,t,n),e=e.sibling}function Rf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rf(e,t,n),e=e.sibling;e!==null;)Rf(e,t,n),e=e.sibling}var Ze=null,un=!1;function ir(e,t,n){for(n=n.child;n!==null;)dS(e,t,n),n=n.sibling}function dS(e,t,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Lu,n)}catch{}switch(n.tag){case 5:ot||fi(n,t);case 6:var r=Ze,s=un;Ze=null,ir(e,t,n),Ze=r,un=s,Ze!==null&&(un?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(un?(e=Ze,n=n.stateNode,e.nodeType===8?Vd(e.parentNode,n):e.nodeType===1&&Vd(e,n),da(e)):Vd(Ze,n.stateNode));break;case 4:r=Ze,s=un,Ze=n.stateNode.containerInfo,un=!0,ir(e,t,n),Ze=r,un=s;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Tf(n,t,o),s=s.next}while(s!==r)}ir(e,t,n);break;case 1:if(!ot&&(fi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,t,a)}ir(e,t,n);break;case 21:ir(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,ir(e,t,n),ot=r):ir(e,t,n);break;default:ir(e,t,n)}}function Ev(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CR),t.forEach(function(r){var s=DR.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,un=!1;break e;case 3:Ze=a.stateNode.containerInfo,un=!0;break e;case 4:Ze=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(Ze===null)throw Error(N(160));dS(i,o,s),Ze=null,un=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Pe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hS(t,e),t=t.sibling}function hS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),_n(e),r&4){try{Ko(3,e,e.return),Wu(3,e)}catch(v){Pe(e,e.return,v)}try{Ko(5,e,e.return)}catch(v){Pe(e,e.return,v)}}break;case 1:rn(t,e),_n(e),r&512&&n!==null&&fi(n,n.return);break;case 5:if(rn(t,e),_n(e),r&512&&n!==null&&fi(n,n.return),e.flags&32){var s=e.stateNode;try{aa(s,"")}catch(v){Pe(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&O_(s,i),Qh(a,o);var c=Qh(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?F_(s,d):u==="dangerouslySetInnerHTML"?D_(s,d):u==="children"?aa(s,d):Qp(s,u,d,c)}switch(a){case"input":Kh(s,i);break;case"textarea":M_(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ci(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ci(s,!!i.multiple,i.defaultValue,!0):Ci(s,!!i.multiple,i.multiple?[]:"",!1))}s[ga]=i}catch(v){Pe(e,e.return,v)}}break;case 6:if(rn(t,e),_n(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Pe(e,e.return,v)}}break;case 3:if(rn(t,e),_n(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(v){Pe(e,e.return,v)}break;case 4:rn(t,e),_n(e);break;case 13:rn(t,e),_n(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Am=Le())),r&4&&Ev(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(c=ot)||u,rn(t,e),ot=c):rn(t,e),_n(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(M=e,u=e.child;u!==null;){for(d=M=u;M!==null;){switch(f=M,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ko(4,f,f.return);break;case 1:fi(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Pe(r,n,v)}}break;case 5:fi(f,f.return);break;case 22:if(f.memoizedState!==null){Tv(d);continue}}p!==null?(p.return=f,M=p):Tv(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$_("display",o))}catch(v){Pe(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Pe(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rn(t,e),_n(e),r&4&&Ev(e);break;case 21:break;default:rn(t,e),_n(e)}}function _n(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uS(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(aa(s,""),r.flags&=-33);var i=Sv(e);Rf(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Sv(e);If(e,a,o);break;default:throw Error(N(161))}}catch(l){Pe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RR(e,t,n){M=e,fS(e)}function fS(e,t,n){for(var r=(e.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ml;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ot;a=Ml;var c=ot;if(Ml=o,(ot=l)&&!c)for(M=s;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Cv(s):l!==null?(l.return=o,M=l):Cv(s);for(;i!==null;)M=i,fS(i),i=i.sibling;M=s,Ml=a,ot=c}kv(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):kv(e)}}function kv(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Wu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ln(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cv(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cv(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&da(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ot||t.flags&512&&Cf(t)}catch(f){Pe(t,t.return,f)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function Tv(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function Cv(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wu(4,t)}catch(l){Pe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Pe(t,s,l)}}var i=t.return;try{Cf(t)}catch(l){Pe(t,i,l)}break;case 5:var o=t.return;try{Cf(t)}catch(l){Pe(t,o,l)}}}catch(l){Pe(t,t.return,l)}if(t===e){M=null;break}var a=t.sibling;if(a!==null){a.return=t.return,M=a;break}M=t.return}}var NR=Math.ceil,eu=nr.ReactCurrentDispatcher,Rm=nr.ReactCurrentOwner,Qt=nr.ReactCurrentBatchConfig,le=0,Ge=null,Be=null,tt=0,Pt=0,pi=Br(0),He=0,ba=null,Ts=0,Hu=0,Nm=0,Go=null,_t=null,Am=0,Bi=1/0,On=null,tu=!1,Nf=null,Er=null,Ll=!1,yr=null,nu=0,Yo=0,Af=null,gc=-1,yc=0;function ft(){return le&6?Le():gc!==-1?gc:gc=Le()}function kr(e){return e.mode&1?le&2&&tt!==0?tt&-tt:fR.transition!==null?(yc===0&&(yc=X_()),yc):(e=pe,e!==0||(e=window.event,e=e===void 0?16:sb(e.type)),e):1}function yn(e,t,n,r){if(50<Yo)throw Yo=0,Af=null,Error(N(185));Ga(e,n,r),(!(le&2)||e!==Ge)&&(e===Ge&&(!(le&2)&&(Hu|=n),He===4&&pr(e,tt)),Tt(e,r),n===1&&le===0&&!(t.mode&1)&&(Bi=Le()+500,Bu&&Vr()))}function Tt(e,t){var n=e.callbackNode;fI(e,t);var r=Fc(e,e===Ge?tt:0);if(r===0)n!==null&&Ly(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ly(n),t===1)e.tag===0?hR(Iv.bind(null,e)):Sb(Iv.bind(null,e)),lR(function(){!(le&6)&&Vr()}),n=null;else{switch(Q_(r)){case 1:n=rm;break;case 4:n=Y_;break;case 16:n=$c;break;case 536870912:n=J_;break;default:n=$c}n=_S(n,pS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pS(e,t){if(gc=-1,yc=0,le&6)throw Error(N(327));var n=e.callbackNode;if(Pi()&&e.callbackNode!==n)return null;var r=Fc(e,e===Ge?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ru(e,r);else{t=r;var s=le;le|=2;var i=gS();(Ge!==e||tt!==t)&&(On=null,Bi=Le()+500,gs(e,t));do try{jR();break}catch(a){mS(e,a)}while(!0);gm(),eu.current=i,le=s,Be!==null?t=0:(Ge=null,tt=0,t=He)}if(t!==0){if(t===2&&(s=rf(e),s!==0&&(r=s,t=Pf(e,s))),t===1)throw n=ba,gs(e,0),pr(e,r),Tt(e,Le()),n;if(t===6)pr(e,r);else{if(s=e.current.alternate,!(r&30)&&!AR(s)&&(t=ru(e,r),t===2&&(i=rf(e),i!==0&&(r=i,t=Pf(e,i))),t===1))throw n=ba,gs(e,0),pr(e,r),Tt(e,Le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:ts(e,_t,On);break;case 3:if(pr(e,r),(r&130023424)===r&&(t=Am+500-Le(),10<t)){if(Fc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=hf(ts.bind(null,e,_t,On),t);break}ts(e,_t,On);break;case 4:if(pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-gn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NR(r/1960))-r,10<r){e.timeoutHandle=hf(ts.bind(null,e,_t,On),r);break}ts(e,_t,On);break;case 5:ts(e,_t,On);break;default:throw Error(N(329))}}}return Tt(e,Le()),e.callbackNode===n?pS.bind(null,e):null}function Pf(e,t){var n=Go;return e.current.memoizedState.isDehydrated&&(gs(e,t).flags|=256),e=ru(e,t),e!==2&&(t=_t,_t=n,t!==null&&jf(t)),e}function jf(e){_t===null?_t=e:_t.push.apply(_t,e)}function AR(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pr(e,t){for(t&=~Nm,t&=~Hu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gn(t),r=1<<n;e[n]=-1,t&=~r}}function Iv(e){if(le&6)throw Error(N(327));Pi();var t=Fc(e,0);if(!(t&1))return Tt(e,Le()),null;var n=ru(e,t);if(e.tag!==0&&n===2){var r=rf(e);r!==0&&(t=r,n=Pf(e,r))}if(n===1)throw n=ba,gs(e,0),pr(e,t),Tt(e,Le()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ts(e,_t,On),Tt(e,Le()),null}function Pm(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(Bi=Le()+500,Bu&&Vr())}}function Cs(e){yr!==null&&yr.tag===0&&!(le&6)&&Pi();var t=le;le|=1;var n=Qt.transition,r=pe;try{if(Qt.transition=null,pe=1,e)return e()}finally{pe=r,Qt.transition=n,le=t,!(le&6)&&Vr()}}function jm(){Pt=pi.current,_e(pi)}function gs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,aR(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(fm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wc();break;case 3:Fi(),_e(Et),_e(ct),bm();break;case 5:_m(r);break;case 4:Fi();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:ym(r.type._context);break;case 22:case 23:jm()}n=n.return}if(Ge=e,Be=e=Tr(e.current,null),tt=Pt=t,He=0,ba=null,Nm=Hu=Ts=0,_t=Go=null,cs!==null){for(t=0;t<cs.length;t++)if(n=cs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}cs=null}return e}function mS(e,t){do{var n=Be;try{if(gm(),fc.current=Zc,Qc){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qc=!1}if(ks=0,Ke=We=Te=null,qo=!1,wa=0,Rm.current=null,n===null||n.return===null){He=1,ba=t,Be=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=mv(o);if(p!==null){p.flags&=-257,gv(p,o,a,i,t),p.mode&1&&pv(i,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){pv(i,c,t),Om();break e}l=Error(N(426))}}else if(Se&&a.mode&1){var x=mv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gv(x,o,a,i,t),pm(Ui(l,a));break e}}i=l=Ui(l,a),He!==4&&(He=2),Go===null?Go=[i]:Go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Qb(i,l,t);lv(i,g);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Er===null||!Er.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Zb(i,a,t);lv(i,_);break e}}i=i.return}while(i!==null)}vS(n)}catch(S){t=S,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function gS(){var e=eu.current;return eu.current=Zc,e===null?Zc:e}function Om(){(He===0||He===3||He===2)&&(He=4),Ge===null||!(Ts&268435455)&&!(Hu&268435455)||pr(Ge,tt)}function ru(e,t){var n=le;le|=2;var r=gS();(Ge!==e||tt!==t)&&(On=null,gs(e,t));do try{PR();break}catch(s){mS(e,s)}while(!0);if(gm(),le=n,eu.current=r,Be!==null)throw Error(N(261));return Ge=null,tt=0,He}function PR(){for(;Be!==null;)yS(Be)}function jR(){for(;Be!==null&&!sI();)yS(Be)}function yS(e){var t=xS(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?vS(e):Be=t,Rm.current=null}function vS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TR(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Be=null;return}}else if(n=kR(n,t,Pt),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);He===0&&(He=5)}function ts(e,t,n){var r=pe,s=Qt.transition;try{Qt.transition=null,pe=1,OR(e,t,n,r)}finally{Qt.transition=s,pe=r}return null}function OR(e,t,n,r){do Pi();while(yr!==null);if(le&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pI(e,i),e===Ge&&(Be=Ge=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ll||(Ll=!0,_S($c,function(){return Pi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qt.transition,Qt.transition=null;var o=pe;pe=1;var a=le;le|=4,Rm.current=null,IR(e,n),hS(n,e),eR(uf),Uc=!!cf,uf=cf=null,e.current=n,RR(n),iI(),le=a,pe=o,Qt.transition=i}else e.current=n;if(Ll&&(Ll=!1,yr=e,nu=s),i=e.pendingLanes,i===0&&(Er=null),lI(n.stateNode),Tt(e,Le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(tu)throw tu=!1,e=Nf,Nf=null,e;return nu&1&&e.tag!==0&&Pi(),i=e.pendingLanes,i&1?e===Af?Yo++:(Yo=0,Af=e):Yo=0,Vr(),null}function Pi(){if(yr!==null){var e=Q_(nu),t=Qt.transition,n=pe;try{if(Qt.transition=null,pe=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,nu=0,le&6)throw Error(N(331));var s=le;for(le|=4,M=e.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var u=M;switch(u.tag){case 0:case 11:case 15:Ko(8,u,i)}var d=u.child;if(d!==null)d.return=u,M=d;else for(;M!==null;){u=M;var f=u.sibling,p=u.return;if(cS(u),u===c){M=null;break}if(f!==null){f.return=p,M=f;break}M=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ko(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,M=g;break e}M=i.return}}var y=e.current;for(M=y;M!==null;){o=M;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,M=w;else e:for(o=y;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wu(9,a)}}catch(S){Pe(a,a.return,S)}if(a===o){M=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,M=_;break e}M=a.return}}if(le=s,Vr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Lu,e)}catch{}r=!0}return r}finally{pe=n,Qt.transition=t}}return!1}function Rv(e,t,n){t=Ui(n,t),t=Qb(e,t,1),e=Sr(e,t,1),t=ft(),e!==null&&(Ga(e,1,t),Tt(e,t))}function Pe(e,t,n){if(e.tag===3)Rv(e,e,n);else for(;t!==null;){if(t.tag===3){Rv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){e=Ui(n,e),e=Zb(t,e,1),t=Sr(t,e,1),e=ft(),t!==null&&(Ga(t,1,e),Tt(t,e));break}}t=t.return}}function MR(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(tt&n)===n&&(He===4||He===3&&(tt&130023424)===tt&&500>Le()-Am?gs(e,0):Nm|=n),Tt(e,t)}function wS(e,t){t===0&&(e.mode&1?(t=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):t=1);var n=ft();e=Gn(e,t),e!==null&&(Ga(e,t,n),Tt(e,n))}function LR(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wS(e,n)}function DR(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),wS(e,n)}var xS;xS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,ER(e,t,n);bt=!!(e.flags&131072)}else bt=!1,Se&&t.flags&1048576&&Eb(t,Kc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;mc(e,t),e=t.pendingProps;var s=Li(t,ct.current);Ai(t,n),s=Em(null,t,r,e,s,n);var i=km();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(r)?(i=!0,Hc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wm(t),s.updater=zu,t.stateNode=s,s._reactInternals=t,wf(t,r,e,n),t=bf(null,t,r,!0,i,n)):(t.tag=0,Se&&i&&hm(t),dt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(mc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=FR(r),e=ln(r,e),s){case 0:t=_f(null,t,r,e,n);break e;case 1:t=wv(null,t,r,e,n);break e;case 11:t=yv(null,t,r,e,n);break e;case 14:t=vv(null,t,r,ln(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ln(r,s),_f(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ln(r,s),wv(e,t,r,s,n);case 3:e:{if(rS(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Nb(e,t),Jc(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ui(Error(N(423)),t),t=xv(e,t,r,n,s);break e}else if(r!==s){s=Ui(Error(N(424)),t),t=xv(e,t,r,n,s);break e}else for(Mt=br(t.stateNode.containerInfo.firstChild),Lt=t,Se=!0,pn=null,n=Ib(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===s){t=Yn(e,t,n);break e}dt(e,t,r,n)}t=t.child}return t;case 5:return Ab(t),e===null&&gf(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,df(r,s)?o=null:i!==null&&df(r,i)&&(t.flags|=32),nS(e,t),dt(e,t,o,n),t.child;case 6:return e===null&&gf(t),null;case 13:return sS(e,t,n);case 4:return xm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$i(t,null,r,n):dt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ln(r,s),yv(e,t,r,s,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,we(Gc,r._currentValue),r._currentValue=o,i!==null)if(wn(i.value,o)){if(i.children===s.children&&!Et.current){t=Yn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Fn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),yf(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yf(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}dt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ai(t,n),s=en(s),r=r(s),t.flags|=1,dt(e,t,r,n),t.child;case 14:return r=t.type,s=ln(r,t.pendingProps),s=ln(r.type,s),vv(e,t,r,s,n);case 15:return eS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ln(r,s),mc(e,t),t.tag=1,kt(r)?(e=!0,Hc(t)):e=!1,Ai(t,n),Xb(t,r,s),wf(t,r,s,n),bf(null,t,r,!0,e,n);case 19:return iS(e,t,n);case 22:return tS(e,t,n)}throw Error(N(156,t.tag))};function _S(e,t){return G_(e,t)}function $R(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,n,r){return new $R(e,t,n,r)}function Mm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FR(e){if(typeof e=="function")return Mm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===em)return 11;if(e===tm)return 14}return 2}function Tr(e,t){var n=e.alternate;return n===null?(n=Xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vc(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Mm(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case si:return ys(n.children,s,i,t);case Zp:o=8,s|=8;break;case Vh:return e=Xt(12,n,t,s|2),e.elementType=Vh,e.lanes=i,e;case zh:return e=Xt(13,n,t,s),e.elementType=zh,e.lanes=i,e;case Wh:return e=Xt(19,n,t,s),e.elementType=Wh,e.lanes=i,e;case A_:return qu(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R_:o=10;break e;case N_:o=9;break e;case em:o=11;break e;case tm:o=14;break e;case lr:o=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Xt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ys(e,t,n,r){return e=Xt(7,e,r,t),e.lanes=n,e}function qu(e,t,n,r){return e=Xt(22,e,r,t),e.elementType=A_,e.lanes=n,e.stateNode={isHidden:!1},e}function Jd(e,t,n){return e=Xt(6,e,null,t),e.lanes=n,e}function Xd(e,t,n){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UR(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ad(0),this.expirationTimes=Ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ad(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Lm(e,t,n,r,s,i,o,a,l){return e=new UR(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Xt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(i),e}function BR(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ri,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bS(e){if(!e)return jr;e=e._reactInternals;e:{if(Os(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(kt(n))return bb(e,n,t)}return t}function SS(e,t,n,r,s,i,o,a,l){return e=Lm(n,r,!0,e,s,i,o,a,l),e.context=bS(null),n=e.current,r=ft(),s=kr(n),i=Fn(r,s),i.callback=t??null,Sr(n,i,s),e.current.lanes=s,Ga(e,s,r),Tt(e,r),e}function Ku(e,t,n,r){var s=t.current,i=ft(),o=kr(s);return n=bS(n),t.context===null?t.context=n:t.pendingContext=n,t=Fn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sr(s,t,o),e!==null&&(yn(e,s,o,i),hc(e,s,o)),o}function su(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dm(e,t){Nv(e,t),(e=e.alternate)&&Nv(e,t)}function VR(){return null}var ES=typeof reportError=="function"?reportError:function(e){console.error(e)};function $m(e){this._internalRoot=e}Gu.prototype.render=$m.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Ku(e,t,null,null)};Gu.prototype.unmount=$m.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){Ku(null,e,null,null)}),t[Kn]=null}};function Gu(e){this._internalRoot=e}Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=tb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fr.length&&t!==0&&t<fr[n].priority;n++);fr.splice(n,0,e),n===0&&rb(e)}};function Fm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Av(){}function zR(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=su(o);i.call(c)}}var o=SS(t,r,e,0,null,!1,!1,"",Av);return e._reactRootContainer=o,e[Kn]=o.current,pa(e.nodeType===8?e.parentNode:e),Cs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=su(l);a.call(c)}}var l=Lm(e,0,!1,null,null,!1,!1,"",Av);return e._reactRootContainer=l,e[Kn]=l.current,pa(e.nodeType===8?e.parentNode:e),Cs(function(){Ku(t,l,n,r)}),l}function Ju(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=su(o);a.call(l)}}Ku(t,o,e,s)}else o=zR(n,t,e,s,r);return su(o)}Z_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mo(t.pendingLanes);n!==0&&(sm(t,n|1),Tt(t,Le()),!(le&6)&&(Bi=Le()+500,Vr()))}break;case 13:Cs(function(){var r=Gn(e,1);if(r!==null){var s=ft();yn(r,e,1,s)}}),Dm(e,1)}};im=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var n=ft();yn(t,e,134217728,n)}Dm(e,134217728)}};eb=function(e){if(e.tag===13){var t=kr(e),n=Gn(e,t);if(n!==null){var r=ft();yn(n,e,t,r)}Dm(e,t)}};tb=function(){return pe};nb=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};ef=function(e,t,n){switch(t){case"input":if(Kh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Uu(r);if(!s)throw Error(N(90));j_(r),Kh(r,s)}}}break;case"textarea":M_(e,n);break;case"select":t=n.value,t!=null&&Ci(e,!!n.multiple,t,!1)}};V_=Pm;z_=Cs;var WR={usingClientEntryPoint:!1,Events:[Ja,li,Uu,U_,B_,Pm]},Io={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HR={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q_(e),e===null?null:e.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||VR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{Lu=Dl.inject(HR),Tn=Dl}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WR;Bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fm(t))throw Error(N(200));return BR(e,t,null,n)};Bt.createRoot=function(e,t){if(!Fm(e))throw Error(N(299));var n=!1,r="",s=ES;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Lm(e,1,!1,null,null,n,!1,r,s),e[Kn]=t.current,pa(e.nodeType===8?e.parentNode:e),new $m(t)};Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=q_(t),e=e===null?null:e.stateNode,e};Bt.flushSync=function(e){return Cs(e)};Bt.hydrate=function(e,t,n){if(!Yu(t))throw Error(N(200));return Ju(null,e,t,!0,n)};Bt.hydrateRoot=function(e,t,n){if(!Fm(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ES;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=SS(t,null,e,1,n??null,s,!1,i,o),e[Kn]=t.current,pa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Gu(t)};Bt.render=function(e,t,n){if(!Yu(t))throw Error(N(200));return Ju(null,e,t,!1,n)};Bt.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(N(40));return e._reactRootContainer?(Cs(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[Kn]=null})}),!0):!1};Bt.unstable_batchedUpdates=Pm;Bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Ju(e,t,n,!1,r)};Bt.version="18.3.1-next-f1338f8080-20240426";function kS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kS)}catch(e){console.error(e)}}kS(),k_.exports=Bt;var qR=k_.exports,TS,Pv=qR;TS=Pv.createRoot,Pv.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(this,arguments)}var vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vr||(vr={}));const jv="popstate";function KR(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Of("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:iu(s)}return YR(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Um(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GR(){return Math.random().toString(36).substr(2,8)}function Ov(e,t){return{usr:e.state,key:e.key,idx:t}}function Of(e,t,n,r){return n===void 0&&(n=null),Sa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ro(t):t,{state:n,key:t&&t.key||r||GR()})}function iu(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ro(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function YR(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=vr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Sa({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=vr.Pop;let x=u(),g=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:g})}function f(x,g){a=vr.Push;let y=Of(v.location,x,g);c=u()+1;let w=Ov(y,c),_=v.createHref(y);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&l&&l({action:a,location:v.location,delta:1})}function p(x,g){a=vr.Replace;let y=Of(v.location,x,g);c=u();let w=Ov(y,c),_=v.createHref(y);o.replaceState(w,"",_),i&&l&&l({action:a,location:v.location,delta:0})}function m(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:iu(x);return y=y.replace(/ $/,"%20"),De(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return a},get location(){return e(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(jv,d),l=x,()=>{s.removeEventListener(jv,d),l=null}},createHref(x){return t(s,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return v}var Mv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mv||(Mv={}));function JR(e,t,n){return n===void 0&&(n="/"),XR(e,t,n,!1)}function XR(e,t,n,r){let s=typeof t=="string"?ro(t):t,i=Bm(s.pathname||"/",n);if(i==null)return null;let o=CS(e);QR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=cN(i);a=aN(o[l],c,r)}return a}function CS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Cr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(De(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),CS(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:iN(c,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of IS(i.path))s(i,o,l)}),t}function IS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=IS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function QR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:oN(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZR=/^:[\w-]+$/,eN=3,tN=2,nN=1,rN=10,sN=-2,Lv=e=>e==="*";function iN(e,t){let n=e.split("/"),r=n.length;return n.some(Lv)&&(r+=sN),t&&(r+=tN),n.filter(s=>!Lv(s)).reduce((s,i)=>s+(ZR.test(i)?eN:i===""?nN:rN),r)}function oN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function aN(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=Dv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Dv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Cr([i,d.pathname]),pathnameBase:pN(Cr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Cr([i,d.pathnameBase]))}return o}function Dv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=lN(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function lN(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Um(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function cN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Um(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const uN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dN=e=>uN.test(e);function hN(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ro(e):e,i;if(n)if(dN(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Um(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=$v(n.substring(1),"/"):i=$v(n,t)}else i=t;return{pathname:i,search:mN(r),hash:gN(s)}}function $v(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vm(e,t){let n=fN(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ro(e):(s=Sa({},e),De(!s.pathname||!s.pathname.includes("?"),Qd("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),Qd("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),Qd("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=hN(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),pN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const RS=["post","put","patch","delete"];new Set(RS);const vN=["get",...RS];new Set(vN);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(this,arguments)}const Wm=E.createContext(null),wN=E.createContext(null),zr=E.createContext(null),Xu=E.createContext(null),rr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),NS=E.createContext(null);function xN(e,t){let{relative:n}=t===void 0?{}:t;so()||De(!1);let{basename:r,navigator:s}=E.useContext(zr),{hash:i,pathname:o,search:a}=PS(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Cr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function so(){return E.useContext(Xu)!=null}function Ms(){return so()||De(!1),E.useContext(Xu).location}function AS(e){E.useContext(zr).static||E.useLayoutEffect(e)}function Ls(){let{isDataRoute:e}=E.useContext(rr);return e?MN():_N()}function _N(){so()||De(!1);let e=E.useContext(Wm),{basename:t,future:n,navigator:r}=E.useContext(zr),{matches:s}=E.useContext(rr),{pathname:i}=Ms(),o=JSON.stringify(Vm(s,n.v7_relativeSplatPath)),a=E.useRef(!1);return AS(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=zm(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Cr([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,i,e])}const bN=E.createContext(null);function SN(e){let t=E.useContext(rr).outlet;return t&&E.createElement(bN.Provider,{value:e},t)}function PS(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(zr),{matches:s}=E.useContext(rr),{pathname:i}=Ms(),o=JSON.stringify(Vm(s,r.v7_relativeSplatPath));return E.useMemo(()=>zm(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function EN(e,t){return kN(e,t)}function kN(e,t,n,r){so()||De(!1);let{navigator:s}=E.useContext(zr),{matches:i}=E.useContext(rr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ms(),u;if(t){var d;let x=typeof t=="string"?ro(t):t;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||De(!1),u=x}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=JR(e,{pathname:p}),v=NN(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Cr([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Cr([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&v?E.createElement(Xu.Provider,{value:{location:Ea({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vr.Pop}},v):v}function TN(){let e=ON(),t=yN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:s},n):null,null)}const CN=E.createElement(TN,null);class IN extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(rr.Provider,{value:this.props.routeContext},E.createElement(NS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RN(e){let{routeContext:t,match:n,children:r}=e,s=E.useContext(Wm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(rr.Provider,{value:t},r)}function NN(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||De(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,m=!1,v=null,x=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||CN,l&&(c<0&&f===0?(m=!0,x=null):c===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),y=()=>{let w;return p?w=v:m?w=x:d.route.Component?w=E.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,E.createElement(RN,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?E.createElement(IN,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var jS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jS||{}),ou=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ou||{});function AN(e){let t=E.useContext(Wm);return t||De(!1),t}function PN(e){let t=E.useContext(wN);return t||De(!1),t}function jN(e){let t=E.useContext(rr);return t||De(!1),t}function OS(e){let t=jN(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}function ON(){var e;let t=E.useContext(NS),n=PN(ou.UseRouteError),r=OS(ou.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function MN(){let{router:e}=AN(jS.UseNavigateStable),t=OS(ou.UseNavigateStable),n=E.useRef(!1);return AS(()=>{n.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ea({fromRouteId:t},i)))},[e,t])}function LN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $l(e){let{to:t,replace:n,state:r,relative:s}=e;so()||De(!1);let{future:i,static:o}=E.useContext(zr),{matches:a}=E.useContext(rr),{pathname:l}=Ms(),c=Ls(),u=zm(t,Vm(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return E.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function MS(e){return SN(e.context)}function $e(e){De(!1)}function DN(e){let{basename:t="/",children:n=null,location:r,navigationType:s=vr.Pop,navigator:i,static:o=!1,future:a}=e;so()&&De(!1);let l=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:o,future:Ea({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ro(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=r,v=E.useMemo(()=>{let x=Bm(u,l);return x==null?null:{location:{pathname:x,search:d,hash:f,state:p,key:m},navigationType:s}},[l,u,d,f,p,m,s]);return v==null?null:E.createElement(zr.Provider,{value:c},E.createElement(Xu.Provider,{children:n,value:v}))}function $N(e){let{children:t,location:n}=e;return EN(Mf(t),n)}new Promise(()=>{});function Mf(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,s)=>{if(!E.isValidElement(r))return;let i=[...t,s];if(r.type===E.Fragment){n.push.apply(n,Mf(r.props.children,i));return}r.type!==$e&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf.apply(this,arguments)}function FN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function UN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BN(e,t){return e.button===0&&(!t||t==="_self")&&!UN(e)}const VN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zN="6";try{window.__reactRouterVersion=zN}catch{}const WN="startTransition",Fv=MC[WN];function HN(e){let{basename:t,children:n,future:r,window:s}=e,i=E.useRef();i.current==null&&(i.current=KR({window:s,v5Compat:!0}));let o=i.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=E.useCallback(d=>{c&&Fv?Fv(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.useEffect(()=>LN(r),[r]),E.createElement(DN,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const qN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=E.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=t,f=FN(t,VN),{basename:p}=E.useContext(zr),m,v=!1;if(typeof c=="string"&&KN.test(c)&&(m=c,qN))try{let w=new URL(window.location.href),_=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=Bm(_.pathname,p);_.origin===w.origin&&S!=null?c=S+_.search+_.hash:v=!0}catch{}let x=xN(c,{relative:s}),g=GN(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function y(w){r&&r(w),w.defaultPrevented||g(w)}return E.createElement("a",Lf({},f,{href:m||x,onClick:v||i?r:y,ref:n,target:l}))});var Uv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Uv||(Uv={}));var Bv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bv||(Bv={}));function GN(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,l=Ls(),c=Ms(),u=PS(e,{relative:o});return E.useCallback(d=>{if(BN(d,n)){d.preventDefault();let f=r!==void 0?r:iu(c)===iu(u);l(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,e,i,o,a])}const Hm=E.createContext({});function qm(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qu=E.createContext(null),Km=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class YN extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function JN({children:e,isPresent:t}){const n=E.useId(),r=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=E.useContext(Km);return E.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.jsx(YN,{isPresent:t,childRef:r,sizeRef:s,children:E.cloneElement(e,{ref:r})})}const XN=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=qm(QN),l=E.useId(),c=E.useCallback(d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=E.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),i?[Math.random(),c]:[n,c]);return E.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=h.jsx(JN,{isPresent:n,children:e})),h.jsx(Qu.Provider,{value:u,children:e})};function QN(){return new Map}function LS(e=!0){const t=E.useContext(Qu);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=E.useId();E.useEffect(()=>{e&&s(i)},[e]);const o=E.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Fl=e=>e.key||"";function Vv(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const Gm=typeof window<"u",DS=Gm?E.useLayoutEffect:E.useEffect,ka=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=LS(o),c=E.useMemo(()=>Vv(e),[e]),u=o&&!a?[]:c.map(Fl),d=E.useRef(!0),f=E.useRef(c),p=qm(()=>new Map),[m,v]=E.useState(c),[x,g]=E.useState(c);DS(()=>{d.current=!1,f.current=c;for(let _=0;_<x.length;_++){const S=Fl(x[_]);u.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[x,u.length,u.join("-")]);const y=[];if(c!==m){let _=[...c];for(let S=0;S<x.length;S++){const k=x[S],b=Fl(k);u.includes(b)||(_.splice(S,0,k),y.push(k))}i==="wait"&&y.length&&(_=y),g(Vv(_)),v(c);return}const{forceRender:w}=E.useContext(Hm);return h.jsx(h.Fragment,{children:x.map(_=>{const S=Fl(_),k=o&&!a?!1:c===x||u.includes(S),b=()=>{if(p.has(S))p.set(S,!0);else return;let T=!0;p.forEach(j=>{j||(T=!1)}),T&&(w==null||w(),g(f.current),o&&(l==null||l()),r&&r())};return h.jsx(XN,{isPresent:k,initial:!d.current||n?void 0:!1,custom:k?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:b,children:_},S)})})},Dt=e=>e;let Df=Dt;function Ym(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Un=e=>e*1e3,Bn=e=>e/1e3,ZN={skipAnimations:!1,useManualTiming:!1};function eA(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const p=d&&r?t:n;return u&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const Ul=["read","resolveKeyframes","update","preRender","render","postRender"],tA=40;function $S(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ul.reduce((g,y)=>(g[y]=eA(i),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=o,p=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,tA),1),s.timestamp=g,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},m=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:Ul.reduce((g,y)=>{const w=o[y];return g[y]=(_,S=!1,k=!1)=>(n||m(),w.schedule(_,S,k)),g},{}),cancel:g=>{for(let y=0;y<Ul.length;y++)o[Ul[y]].cancel(g)},state:s,steps:o}}const{schedule:be,cancel:Or,state:et,steps:Zd}=$S(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dt,!0),FS=E.createContext({strict:!1}),zv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zi={};for(const e in zv)zi[e]={isEnabled:t=>zv[e].some(n=>!!t[n])};function nA(e){for(const t in e)zi[t]={...zi[t],...e[t]}}const rA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function au(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rA.has(e)}let US=e=>!au(e);function sA(e){e&&(US=t=>t.startsWith("on")?!au(t):e(t))}try{sA(require("@emotion/is-prop-valid").default)}catch{}function iA(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(US(s)||n===!0&&au(s)||!t&&!au(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function oA(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Zu=E.createContext({});function Ta(e){return typeof e=="string"||Array.isArray(e)}function ed(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Jm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xm=["initial",...Jm];function td(e){return ed(e.animate)||Xm.some(t=>Ta(e[t]))}function BS(e){return!!(td(e)||e.variants)}function aA(e,t){if(td(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ta(n)?n:void 0,animate:Ta(r)?r:void 0}}return e.inherit!==!1?t:{}}function lA(e){const{initial:t,animate:n}=aA(e,E.useContext(Zu));return E.useMemo(()=>({initial:t,animate:n}),[Wv(t),Wv(n)])}function Wv(e){return Array.isArray(e)?e.join(" "):e}const cA=Symbol.for("motionComponentSymbol");function mi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uA(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):mi(n)&&(n.current=r))},[t])}const Qm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dA="framerAppearId",VS="data-"+Qm(dA),{schedule:Zm,cancel:Yz}=$S(queueMicrotask,!1),zS=E.createContext({});function hA(e,t,n,r,s){var i,o;const{visualElement:a}=E.useContext(Zu),l=E.useContext(FS),c=E.useContext(Qu),u=E.useContext(Km).reducedMotion,d=E.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,p=E.useContext(zS);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&fA(d.current,n,s,p);const m=E.useRef(!1);E.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const v=n[VS],x=E.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return DS(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Zm.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),E.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),x.current=!1))}),f}function fA(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:WS(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&mi(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function WS(e){if(e)return e.options.allowProjection!==!1?e.projection:WS(e.parent)}function pA({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&nA(e);function a(c,u){let d;const f={...E.useContext(Km),...c,layoutId:mA(c)},{isStatic:p}=f,m=lA(c),v=r(c,p);if(!p&&Gm){gA();const x=yA(f);d=x.MeasureLayout,m.visualElement=hA(s,v,f,t,x.ProjectionNode)}return h.jsxs(Zu.Provider,{value:m,children:[d&&m.visualElement?h.jsx(d,{visualElement:m.visualElement,...f}):null,n(s,c,uA(v,m.visualElement,u),v,p,m.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=E.forwardRef(a);return l[cA]=s,l}function mA({layoutId:e}){const t=E.useContext(Hm).id;return t&&e!==void 0?t+"-"+e:e}function gA(e,t){E.useContext(FS).strict}function yA(e){const{drag:t,layout:n}=zi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const vA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eg(e){return typeof e!="string"||e.includes("-")?!1:!!(vA.indexOf(e)>-1||/[A-Z]/u.test(e))}function Hv(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function tg(e,t,n,r){if(typeof t=="function"){const[s,i]=Hv(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Hv(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const $f=e=>Array.isArray(e),wA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),xA=e=>$f(e)?e[e.length-1]||0:e,at=e=>!!(e&&e.getVelocity);function wc(e){const t=at(e)?e.get():e;return wA(t)?t.toValue():t}function _A({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:bA(r,s,i,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const HS=e=>(t,n)=>{const r=E.useContext(Zu),s=E.useContext(Qu),i=()=>_A(e,t,r,s);return n?i():qm(i)};function bA(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=wc(i[f]);let{initial:o,animate:a}=e;const l=td(e),c=BS(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!ed(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const m=tg(e,f[p]);if(m){const{transitionEnd:v,transition:x,...g}=m;for(const y in g){let w=g[y];if(Array.isArray(w)){const _=u?w.length-1:0;w=w[_]}w!==null&&(s[y]=w)}for(const y in v)s[y]=v[y]}}}return s}const io=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ds=new Set(io),qS=e=>t=>typeof t=="string"&&t.startsWith(e),KS=qS("--"),SA=qS("var(--"),ng=e=>SA(e)?EA.test(e.split("/*")[0].trim()):!1,EA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,GS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Jn=(e,t,n)=>n>t?t:n<e?e:n,oo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ca={...oo,transform:e=>Jn(0,1,e)},Bl={...oo,default:1},Qa=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ar=Qa("deg"),In=Qa("%"),B=Qa("px"),kA=Qa("vh"),TA=Qa("vw"),qv={...In,parse:e=>In.parse(e)/100,transform:e=>In.transform(e*100)},CA={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,top:B,right:B,bottom:B,left:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,backgroundPositionX:B,backgroundPositionY:B},IA={rotate:ar,rotateX:ar,rotateY:ar,rotateZ:ar,scale:Bl,scaleX:Bl,scaleY:Bl,scaleZ:Bl,skew:ar,skewX:ar,skewY:ar,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:Ca,originX:qv,originY:qv,originZ:B},Kv={...oo,transform:Math.round},rg={...CA,...IA,zIndex:Kv,size:B,fillOpacity:Ca,strokeOpacity:Ca,numOctaves:Kv},RA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NA=io.length;function AA(e,t,n){let r="",s=!0;for(let i=0;i<NA;i++){const o=io[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=GS(a,rg[o]);if(!l){s=!1;const u=RA[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function sg(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Ds.has(l)){o=!0;continue}else if(KS(l)){s[l]=c;continue}else{const u=GS(c,rg[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=AA(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const PA={offset:"stroke-dashoffset",array:"stroke-dasharray"},jA={offset:"strokeDashoffset",array:"strokeDasharray"};function OA(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?PA:jA;e[i.offset]=B.transform(-r);const o=B.transform(t),a=B.transform(n);e[i.array]=`${o} ${a}`}function Gv(e,t,n){return typeof e=="string"?e:B.transform(t+n*e)}function MA(e,t,n){const r=Gv(t,e.x,e.width),s=Gv(n,e.y,e.height);return`${r} ${s}`}function ig(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(sg(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=MA(m,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&OA(f,o,a,l,!1)}const og=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),YS=()=>({...og(),attrs:{}}),ag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function JS(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QS(e,t,n,r){JS(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(XS.has(s)?s:Qm(s),t.attrs[s])}const lu={};function LA(e){Object.assign(lu,e)}function ZS(e,{layout:t,layoutId:n}){return Ds.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!lu[e]||e==="opacity")}function lg(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(at(s[o])||t.style&&at(t.style[o])||ZS(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function eE(e,t,n){const r=lg(e,t,n);for(const s in e)if(at(e[s])||at(t[s])){const i=io.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function DA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Yv=["x","y","width","height","cx","cy","r"],$A={useVisualState:HS({scrapeMotionValuesFromProps:eE,createRenderState:YS,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const a in s)if(Ds.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<Yv.length;a++){const l=Yv[a];e[l]!==t[l]&&(o=!0)}o&&be.read(()=>{DA(n,r),be.render(()=>{ig(r,s,ag(n.tagName),e.transformTemplate),QS(n,r)})})}})},FA={useVisualState:HS({scrapeMotionValuesFromProps:lg,createRenderState:og})};function tE(e,t,n){for(const r in t)!at(t[r])&&!ZS(r,n)&&(e[r]=t[r])}function UA({transformTemplate:e},t){return E.useMemo(()=>{const n=og();return sg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function BA(e,t){const n=e.style||{},r={};return tE(r,n,e),Object.assign(r,UA(e,t)),r}function VA(e,t){const n={},r=BA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function zA(e,t,n,r){const s=E.useMemo(()=>{const i=YS();return ig(i,t,ag(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};tE(i,e.style,e),s.style={...i,...s.style}}return s}function WA(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(eg(n)?zA:VA)(r,i,o,n),c=iA(r,typeof n=="string",e),u=n!==E.Fragment?{...c,...l,ref:s}:{},{children:d}=r,f=E.useMemo(()=>at(d)?d.get():d,[d]);return E.createElement(n,{...u,children:f})}}function HA(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...eg(r)?$A:FA,preloadedFeatures:e,useRender:WA(s),createVisualElement:t,Component:r};return pA(o)}}function nE(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function nd(e,t,n){const r=e.getProps();return tg(r,t,n!==void 0?n:r.custom,e)}const qA=Ym(()=>window.ScrollTimeline!==void 0);class KA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(qA()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GA extends KA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function cg(e,t){return e?e[t]||e.default||e:void 0}const Ff=2e4;function rE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ff;)t+=n,r=e.next(t);return t>=Ff?1/0:t}function ug(e){return typeof e=="function"}function Jv(e,t){e.timeline=t,e.onfinish=null}const dg=e=>Array.isArray(e)&&typeof e[0]=="number",YA={linearEasing:void 0};function JA(e,t){const n=Ym(e);return()=>{var r;return(r=YA[t])!==null&&r!==void 0?r:n()}}const cu=JA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sE=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Vi(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function iE(e){return!!(typeof e=="function"&&cu()||!e||typeof e=="string"&&(e in Uf||cu())||dg(e)||Array.isArray(e)&&e.every(iE))}const Do=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Uf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Do([0,.65,.55,1]),circOut:Do([.55,0,1,.45]),backIn:Do([.31,.01,.66,-.59]),backOut:Do([.33,1.53,.69,.99])};function oE(e,t){if(e)return typeof e=="function"&&cu()?sE(e,t):dg(e)?Do(e):Array.isArray(e)?e.map(n=>oE(n,t)||Uf.easeOut):Uf[e]}const an={x:!1,y:!1};function aE(){return an.x||an.y}function lE(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function cE(e,t){const n=lE(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Xv(e){return t=>{t.pointerType==="touch"||aE()||e(t)}}function XA(e,t,n={}){const[r,s,i]=cE(e,n),o=Xv(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const u=Xv(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const uE=(e,t)=>t?e===t?!0:uE(e,t.parentElement):!1,hg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,QA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZA(e){return QA.has(e.tagName)||e.tabIndex!==-1}const $o=new WeakSet;function Qv(e){return t=>{t.key==="Enter"&&e(t)}}function eh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eP=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Qv(()=>{if($o.has(n))return;eh(n,"down");const s=Qv(()=>{eh(n,"up")}),i=()=>eh(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Zv(e){return hg(e)&&!aE()}function tP(e,t,n={}){const[r,s,i]=cE(e,n),o=a=>{const l=a.currentTarget;if(!Zv(a)||$o.has(l))return;$o.add(l);const c=t(a),u=(p,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!Zv(p)||!$o.has(l))&&($o.delete(l),typeof c=="function"&&c(p,{success:m}))},d=p=>{u(p,n.useGlobalTarget||uE(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!ZA(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>eP(c,s),s)}),i}function nP(e){return e==="x"||e==="y"?an[e]?null:(an[e]=!0,()=>{an[e]=!1}):an.x||an.y?null:(an.x=an.y=!0,()=>{an.x=an.y=!1})}const dE=new Set(["width","height","top","left","right","bottom",...io]);let xc;function rP(){xc=void 0}const Rn={now:()=>(xc===void 0&&Rn.set(et.isProcessing||ZN.useManualTiming?et.timestamp:performance.now()),xc),set:e=>{xc=e,queueMicrotask(rP)}};function fg(e,t){e.indexOf(t)===-1&&e.push(t)}function pg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mg{constructor(){this.subscriptions=[]}add(t){return fg(this.subscriptions,t),()=>pg(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hE(e,t){return t?e*(1e3/t):0}const e0=30,sP=e=>!isNaN(parseFloat(e));class iP{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Rn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mg);const r=this.events[t].add(n);return t==="change"?()=>{r(),be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>e0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,e0);return hE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ia(e,t){return new iP(e,t)}function oP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ia(n))}function aP(e,t){const n=nd(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=xA(i[o]);oP(e,o,a)}}function lP(e){return!!(at(e)&&e.add)}function Bf(e,t){const n=e.getValue("willChange");if(lP(n))return n.add(t)}function fE(e){return e.props[VS]}const pE=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cP=1e-7,uP=12;function dP(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=pE(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>cP&&++a<uP);return o}function Za(e,t,n,r){if(e===t&&n===r)return Dt;const s=i=>dP(i,0,1,e,n);return i=>i===0||i===1?i:pE(s(i),t,r)}const mE=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gE=e=>t=>1-e(1-t),yE=Za(.33,1.53,.69,.99),gg=gE(yE),vE=mE(gg),wE=e=>(e*=2)<1?.5*gg(e):.5*(2-Math.pow(2,-10*(e-1))),yg=e=>1-Math.sin(Math.acos(e)),xE=gE(yg),_E=mE(yg),bE=e=>/^0[^.\s]+$/u.test(e);function hP(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||bE(e):!0}const Jo=e=>Math.round(e*1e5)/1e5,vg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fP(e){return e==null}const pP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wg=(e,t)=>n=>!!(typeof n=="string"&&pP.test(n)&&n.startsWith(e)||t&&!fP(n)&&Object.prototype.hasOwnProperty.call(n,t)),SE=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(vg);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},mP=e=>Jn(0,255,e),th={...oo,transform:e=>Math.round(mP(e))},ds={test:wg("rgb","red"),parse:SE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+th.transform(e)+", "+th.transform(t)+", "+th.transform(n)+", "+Jo(Ca.transform(r))+")"};function gP(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Vf={test:wg("#"),parse:gP,transform:ds.transform},gi={test:wg("hsl","hue"),parse:SE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+In.transform(Jo(t))+", "+In.transform(Jo(n))+", "+Jo(Ca.transform(r))+")"},it={test:e=>ds.test(e)||Vf.test(e)||gi.test(e),parse:e=>ds.test(e)?ds.parse(e):gi.test(e)?gi.parse(e):Vf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ds.transform(e):gi.transform(e)},yP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(vg))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(yP))===null||n===void 0?void 0:n.length)||0)>0}const EE="number",kE="color",wP="var",xP="var(",t0="${}",_P=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ra(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(_P,l=>(it.test(l)?(r.color.push(i),s.push(kE),n.push(it.parse(l))):l.startsWith(xP)?(r.var.push(i),s.push(wP),n.push(l)):(r.number.push(i),s.push(EE),n.push(parseFloat(l))),++i,t0)).split(t0);return{values:n,split:a,indexes:r,types:s}}function TE(e){return Ra(e).values}function CE(e){const{split:t,types:n}=Ra(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===EE?i+=Jo(s[o]):a===kE?i+=it.transform(s[o]):i+=s[o]}return i}}const bP=e=>typeof e=="number"?0:e;function SP(e){const t=TE(e);return CE(e)(t.map(bP))}const Mr={test:vP,parse:TE,createTransformer:CE,getAnimatableNone:SP},EP=new Set(["brightness","contrast","saturate","opacity"]);function kP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(vg)||[];if(!r)return e;const s=n.replace(r,"");let i=EP.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const TP=/\b([a-z-]*)\(.*?\)/gu,zf={...Mr,getAnimatableNone:e=>{const t=e.match(TP);return t?t.map(kP).join(" "):e}},CP={...rg,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:zf,WebkitFilter:zf},xg=e=>CP[e];function IE(e,t){let n=xg(e);return n!==zf&&(n=Mr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const IP=new Set(["auto","none","0"]);function RP(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!IP.has(i)&&Ra(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=IE(n,s)}const n0=e=>e===oo||e===B,r0=(e,t)=>parseFloat(e.split(", ")[t]),s0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return r0(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?r0(i[1],e):0}},NP=new Set(["x","y","z"]),AP=io.filter(e=>!NP.has(e));function PP(e){const t=[];return AP.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Wi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:s0(4,13),y:s0(5,14)};Wi.translateX=Wi.x;Wi.translateY=Wi.y;const vs=new Set;let Wf=!1,Hf=!1;function RE(){if(Hf){const e=Array.from(vs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=PP(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hf=!1,Wf=!1,vs.forEach(e=>e.complete()),vs.clear()}function NE(){vs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hf=!0)})}function jP(){NE(),RE()}class _g{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vs.add(this),Wf||(Wf=!0,be.read(NE),be.resolveKeyframes(RE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AE=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),OP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MP(e){const t=OP.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function PE(e,t,n=1){const[r,s]=MP(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return AE(o)?parseFloat(o):o}return ng(s)?PE(s,t,n+1):s}const jE=e=>t=>t.test(e),LP={test:e=>e==="auto",parse:e=>e},OE=[oo,B,In,ar,TA,kA,LP],i0=e=>OE.find(jE(e));class ME extends _g{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),ng(c))){const u=PE(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!dE.has(r)||t.length!==2)return;const[s,i]=t,o=i0(s),a=i0(i);if(o!==a)if(n0(o)&&n0(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)hP(t[s])&&r.push(s);r.length&&RP(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Wi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const o0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mr.test(e)||e==="0")&&!e.startsWith("url("));function DP(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function $P(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=o0(s,t),a=o0(i,t);return!o||!a?!1:DP(e)||(n==="spring"||ug(n))&&r}const FP=e=>e!==null;function rd(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(FP),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const UP=40;class LE{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Rn.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>UP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&jP(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Rn.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!$P(t,r,s,i))if(o)this.options.duration=0;else{l&&l(rd(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ke=(e,t,n)=>e+(t-e)*n;function nh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function BP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=nh(l,a,e+1/3),i=nh(l,a,e),o=nh(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function uu(e,t){return n=>n>0?t:e}const rh=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},VP=[Vf,ds,gi],zP=e=>VP.find(t=>t.test(e));function a0(e){const t=zP(e);if(!t)return!1;let n=t.parse(e);return t===gi&&(n=BP(n)),n}const l0=(e,t)=>{const n=a0(e),r=a0(t);if(!n||!r)return uu(e,t);const s={...n};return i=>(s.red=rh(n.red,r.red,i),s.green=rh(n.green,r.green,i),s.blue=rh(n.blue,r.blue,i),s.alpha=ke(n.alpha,r.alpha,i),ds.transform(s))},WP=(e,t)=>n=>t(e(n)),el=(...e)=>e.reduce(WP),qf=new Set(["none","hidden"]);function HP(e,t){return qf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function qP(e,t){return n=>ke(e,t,n)}function bg(e){return typeof e=="number"?qP:typeof e=="string"?ng(e)?uu:it.test(e)?l0:YP:Array.isArray(e)?DE:typeof e=="object"?it.test(e)?l0:KP:uu}function DE(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>bg(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function KP(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=bg(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function GP(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const YP=(e,t)=>{const n=Mr.createTransformer(t),r=Ra(e),s=Ra(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?qf.has(e)&&!s.values.length||qf.has(t)&&!r.values.length?HP(e,t):el(DE(GP(r,s),s.values),n):uu(e,t)};function $E(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ke(e,t,n):bg(e)(e,t)}const JP=5;function FE(e,t,n){const r=Math.max(t-JP,0);return hE(n-e(r),t-r)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sh=.001;function XP({duration:e=Ae.duration,bounce:t=Ae.bounce,velocity:n=Ae.velocity,mass:r=Ae.mass}){let s,i,o=1-t;o=Jn(Ae.minDamping,Ae.maxDamping,o),e=Jn(Ae.minDuration,Ae.maxDuration,Bn(e)),o<1?(s=c=>{const u=c*o,d=u*e,f=u-n,p=Kf(c,o),m=Math.exp(-d);return sh-f/p*m},i=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),v=Kf(Math.pow(c,2),o);return(-s(c)+sh>0?-1:1)*((f-p)*m)/v}):(s=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-sh+u*d},i=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=ZP(s,i,a);if(e=Un(e),isNaN(l))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const QP=12;function ZP(e,t,n){let r=n;for(let s=1;s<QP;s++)r=r-e(r)/t(r);return r}function Kf(e,t){return e*Math.sqrt(1-t*t)}const ej=["duration","bounce"],tj=["stiffness","damping","mass"];function c0(e,t){return t.some(n=>e[n]!==void 0)}function nj(e){let t={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...e};if(!c0(e,tj)&&c0(e,ej))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Jn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ae.mass,stiffness:s,damping:i}}else{const n=XP(e);t={...t,...n,mass:Ae.mass},t.isResolvedFromDuration=!0}return t}function UE(e=Ae.visualDuration,t=Ae.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=nj({...n,velocity:-Bn(n.velocity||0)}),m=f||0,v=c/(2*Math.sqrt(l*u)),x=o-i,g=Bn(Math.sqrt(l/u)),y=Math.abs(x)<5;r||(r=y?Ae.restSpeed.granular:Ae.restSpeed.default),s||(s=y?Ae.restDelta.granular:Ae.restDelta.default);let w;if(v<1){const S=Kf(g,v);w=k=>{const b=Math.exp(-v*g*k);return o-b*((m+v*g*x)/S*Math.sin(S*k)+x*Math.cos(S*k))}}else if(v===1)w=S=>o-Math.exp(-g*S)*(x+(m+g*x)*S);else{const S=g*Math.sqrt(v*v-1);w=k=>{const b=Math.exp(-v*g*k),T=Math.min(S*k,300);return o-b*((m+v*g*x)*Math.sinh(T)+S*x*Math.cosh(T))/S}}const _={calculatedDuration:p&&d||null,next:S=>{const k=w(S);if(p)a.done=S>=d;else{let b=0;v<1&&(b=S===0?Un(m):FE(w,S,k));const T=Math.abs(b)<=r,j=Math.abs(o-k)<=s;a.done=T&&j}return a.value=a.done?o:k,a},toString:()=>{const S=Math.min(rE(_),Ff),k=sE(b=>_.next(S*b).value,S,30);return S+"ms "+k}};return _}function u0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},p=T=>a!==void 0&&T<a||l!==void 0&&T>l,m=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*t;const x=d+v,g=o===void 0?x:o(x);g!==x&&(v=g-d);const y=T=>-v*Math.exp(-T/r),w=T=>g+y(T),_=T=>{const j=y(T),I=w(T);f.done=Math.abs(j)<=c,f.value=f.done?g:I};let S,k;const b=T=>{p(f.value)&&(S=T,k=UE({keyframes:[f.value,m(f.value)],velocity:FE(w,T,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return b(0),{calculatedDuration:null,next:T=>{let j=!1;return!k&&S===void 0&&(j=!0,_(T),b(T)),S!==void 0&&T>=S?k.next(T-S):(!j&&_(T),f)}}}const rj=Za(.42,0,1,1),sj=Za(0,0,.58,1),BE=Za(.42,0,.58,1),ij=e=>Array.isArray(e)&&typeof e[0]!="number",d0={linear:Dt,easeIn:rj,easeInOut:BE,easeOut:sj,circIn:yg,circInOut:_E,circOut:xE,backIn:gg,backInOut:vE,backOut:yE,anticipate:wE},h0=e=>{if(dg(e)){Df(e.length===4);const[t,n,r,s]=e;return Za(t,n,r,s)}else if(typeof e=="string")return Df(d0[e]!==void 0),d0[e];return e};function oj(e,t,n){const r=[],s=n||$E,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Dt:t;a=el(l,a)}r.push(a)}return r}function aj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Df(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=oj(t,r,s),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Vi(e[d],e[d+1],u);return a[d](f)};return n?u=>c(Jn(e[0],e[i-1],u)):c}function lj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Vi(0,t,r);e.push(ke(n,1,s))}}function cj(e){const t=[0];return lj(t,e.length-1),t}function uj(e,t){return e.map(n=>n*t)}function dj(e,t){return e.map(()=>t||BE).splice(0,e.length-1)}function du({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=ij(r)?r.map(h0):h0(r),i={done:!1,value:t[0]},o=uj(n&&n.length===t.length?n:cj(t),e),a=aj(o,t,{ease:Array.isArray(s)?s:dj(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const hj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>be.update(t,!0),stop:()=>Or(t),now:()=>et.isProcessing?et.timestamp:Rn.now()}},fj={decay:u0,inertia:u0,tween:du,keyframes:du,spring:UE},pj=e=>e/100;class Sg extends LE{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||_g,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=ug(n)?n:fj[n]||du;let l,c;a!==du&&typeof t[0]!="number"&&(l=el(pj,$E(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});i==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=rE(u));const{calculatedDuration:d}=u,f=d+s,p=f*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,_=i;if(p){const T=Math.min(this.currentTime,u)/d;let j=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&j--,j=Math.min(j,p+1),!!(j%2)&&(m==="reverse"?(I=1-I,v&&(I-=v/d)):m==="mirror"&&(_=o)),w=Jn(0,1,I)*d}const S=y?{done:!1,value:l[0]}:_.next(w);a&&(S.value=a(S.value));let{done:k}=S;!y&&c!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return b&&s!==void 0&&(S.value=rd(l,this.options,s)),x&&x(S.value),b&&this.finish(),S}get duration(){const{resolved:t}=this;return t?Bn(t.calculatedDuration):0}get time(){return Bn(this.currentTime)}set time(t){t=Un(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Bn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=hj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const mj=new Set(["opacity","clipPath","filter","transform"]);function gj(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=oE(a,s);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const yj=Ym(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hu=10,vj=2e4;function wj(e){return ug(e.type)||e.type==="spring"||!iE(e.ease)}function xj(e,t){const n=new Sg({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<vj;)r=n.sample(i),s.push(r.value),i+=hu;return{times:void 0,keyframes:s,duration:i-hu,ease:"linear"}}const VE={anticipate:wE,backInOut:vE,circInOut:_E};function _j(e){return e in VE}class f0 extends LE{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new ME(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&cu()&&_j(i)&&(i=VE[i]),wj(this.options)){const{onComplete:d,onUpdate:f,motionValue:p,element:m,...v}=this.options,x=xj(t,v);t=x.keyframes,t.length===1&&(t[1]=t[0]),r=x.duration,s=x.times,i=x.ease,o="keyframes"}const u=gj(a.owner.current,l,t,{...this.options,duration:r,times:s,ease:i});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Jv(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(rd(t,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Bn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Bn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Un(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Dt;const{animation:r}=n;Jv(r,t)}return Dt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...p}=this.options,m=new Sg({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),v=Un(this.time);c.setWithVelocity(m.sample(v-hu).value,m.sample(v).value,hu)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return yj()&&r&&mj.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const bj={type:"spring",stiffness:500,damping:25,restSpeed:10},Sj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ej={type:"keyframes",duration:.8},kj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tj=(e,{keyframes:t})=>t.length>2?Ej:Ds.has(e)?e.startsWith("scale")?Sj(t[1]):bj:kj;function Cj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Eg=(e,t,n,r={},s,i)=>o=>{const a=cg(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Un(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Cj(a)||(u={...u,...Tj(e,u)}),u.duration&&(u.duration=Un(u.duration)),u.repeatDelay&&(u.repeatDelay=Un(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!i&&t.get()!==void 0){const f=rd(u.keyframes,a);if(f!==void 0)return be.update(()=>{u.onUpdate(f),u.onComplete()}),new GA([])}return!i&&f0.supports(u)?new f0(u):new Sg(u)};function Ij({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function zE(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,(i=e.latestValues[d])!==null&&i!==void 0?i:null),p=l[d];if(p===void 0||u&&Ij(u,d))continue;const m={delay:n,...cg(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const g=fE(e);if(g){const y=window.MotionHandoffAnimation(g,d,be);y!==null&&(m.startTime=y,v=!0)}}Bf(e,d),f.start(Eg(d,f,p,e.shouldReduceMotion&&dE.has(d)?{type:!1}:m,e,v));const x=f.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{be.update(()=>{a&&aP(e,a)})}),c}function Gf(e,t,n={}){var r;const s=nd(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(zE(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Rj(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Rj(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(Nj).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(Gf(c,t,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function Nj(e,t){return e.sortNodePosition(t)}function Aj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Gf(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Gf(e,t,n);else{const s=typeof t=="function"?nd(e,t,n.custom):t;r=Promise.all(zE(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Pj=Xm.length;function WE(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?WE(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Pj;n++){const r=Xm[n],s=e.props[r];(Ta(s)||s===!1)&&(t[r]=s)}return t}const jj=[...Jm].reverse(),Oj=Jm.length;function Mj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Aj(e,n,r)))}function Lj(e){let t=Mj(e),n=p0(),r=!0;const s=l=>(c,u)=>{var d;const f=nd(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:p,transitionEnd:m,...v}=f;c={...c,...v,...m}}return c};function i(l){t=l(e)}function o(l){const{props:c}=e,u=WE(e.parent)||{},d=[],f=new Set;let p={},m=1/0;for(let x=0;x<Oj;x++){const g=jj[x],y=n[g],w=c[g]!==void 0?c[g]:u[g],_=Ta(w),S=g===l?y.isActive:null;S===!1&&(m=x);let k=w===u[g]&&w!==c[g]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...p},!y.isActive&&S===null||!w&&!y.prevProp||ed(w)||typeof w=="boolean")continue;const b=Dj(y.prevProp,w);let T=b||g===l&&y.isActive&&!k&&_||x>m&&_,j=!1;const I=Array.isArray(w)?w:[w];let O=I.reduce(s(g),{});S===!1&&(O={});const{prevResolvedValues:J={}}=y,X={...J,...O},H=q=>{T=!0,f.has(q)&&(j=!0,f.delete(q)),y.needsAnimating[q]=!0;const C=e.getValue(q);C&&(C.liveStyle=!1)};for(const q in X){const C=O[q],P=J[q];if(p.hasOwnProperty(q))continue;let R=!1;$f(C)&&$f(P)?R=!nE(C,P):R=C!==P,R?C!=null?H(q):f.add(q):C!==void 0&&f.has(q)?H(q):y.protectedKeys[q]=!0}y.prevProp=w,y.prevResolvedValues=O,y.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(T=!1),T&&(!(k&&b)||j)&&d.push(...I.map(q=>({animation:q,options:{type:g}})))}if(f.size){const x={};f.forEach(g=>{const y=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),x[g]=y??null}),d.push({animation:x})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=p0(),r=!0}}}function Dj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!nE(t,e):!1}function Xr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function p0(){return{animate:Xr(!0),whileInView:Xr(),whileHover:Xr(),whileTap:Xr(),whileDrag:Xr(),whileFocus:Xr(),exit:Xr()}}class Wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $j extends Wr{constructor(t){super(t),t.animationState||(t.animationState=Lj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ed(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Fj=0;class Uj extends Wr{constructor(){super(...arguments),this.id=Fj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Bj={animation:{Feature:$j},exit:{Feature:Uj}};function Na(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function tl(e){return{point:{x:e.pageX,y:e.pageY}}}const Vj=e=>t=>hg(t)&&e(t,tl(t));function Xo(e,t,n,r){return Na(e,t,Vj(n),r)}const m0=(e,t)=>Math.abs(e-t);function zj(e,t){const n=m0(e.x,t.x),r=m0(e.y,t.y);return Math.sqrt(n**2+r**2)}class HE{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=oh(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=zj(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:v}=et;this.history.push({...m,timestamp:v});const{onStart:x,onMove:g}=this.handlers;f||(x&&x(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ih(f,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=oh(d.type==="pointercancel"?this.lastMoveEventInfo:ih(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,x),m&&m(d,x)},!hg(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=tl(t),a=ih(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=et;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,oh(a,this.history)),this.removeListeners=el(Xo(this.contextWindow,"pointermove",this.handlePointerMove),Xo(this.contextWindow,"pointerup",this.handlePointerUp),Xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Or(this.updatePoint)}}function ih(e,t){return t?{point:t(e.point)}:e}function g0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oh({point:e},t){return{point:e,delta:g0(e,qE(t)),offset:g0(e,Wj(t)),velocity:Hj(t,.1)}}function Wj(e){return e[0]}function qE(e){return e[e.length-1]}function Hj(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=qE(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Un(t)));)n--;if(!r)return{x:0,y:0};const i=Bn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const KE=1e-4,qj=1-KE,Kj=1+KE,GE=.01,Gj=0-GE,Yj=0+GE;function Ut(e){return e.max-e.min}function Jj(e,t,n){return Math.abs(e-t)<=n}function y0(e,t,n,r=.5){e.origin=r,e.originPoint=ke(t.min,t.max,e.origin),e.scale=Ut(n)/Ut(t),e.translate=ke(n.min,n.max,e.origin)-e.originPoint,(e.scale>=qj&&e.scale<=Kj||isNaN(e.scale))&&(e.scale=1),(e.translate>=Gj&&e.translate<=Yj||isNaN(e.translate))&&(e.translate=0)}function Qo(e,t,n,r){y0(e.x,t.x,n.x,r?r.originX:void 0),y0(e.y,t.y,n.y,r?r.originY:void 0)}function v0(e,t,n){e.min=n.min+t.min,e.max=e.min+Ut(t)}function Xj(e,t,n){v0(e.x,t.x,n.x),v0(e.y,t.y,n.y)}function w0(e,t,n){e.min=t.min-n.min,e.max=e.min+Ut(t)}function Zo(e,t,n){w0(e.x,t.x,n.x),w0(e.y,t.y,n.y)}function Qj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ke(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ke(n,e,r.max):Math.min(e,n)),e}function x0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Zj(e,{top:t,left:n,bottom:r,right:s}){return{x:x0(e.x,n,s),y:x0(e.y,t,r)}}function _0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function eO(e,t){return{x:_0(e.x,t.x),y:_0(e.y,t.y)}}function tO(e,t){let n=.5;const r=Ut(e),s=Ut(t);return s>r?n=Vi(t.min,t.max-r,e.min):r>s&&(n=Vi(e.min,e.max-s,t.min)),Jn(0,1,n)}function nO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Yf=.35;function rO(e=Yf){return e===!1?e=0:e===!0&&(e=Yf),{x:b0(e,"left","right"),y:b0(e,"top","bottom")}}function b0(e,t,n){return{min:S0(e,t),max:S0(e,n)}}function S0(e,t){return typeof e=="number"?e:e[t]||0}const E0=()=>({translate:0,scale:1,origin:0,originPoint:0}),yi=()=>({x:E0(),y:E0()}),k0=()=>({min:0,max:0}),Me=()=>({x:k0(),y:k0()});function Gt(e){return[e("x"),e("y")]}function YE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function sO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ah(e){return e===void 0||e===1}function Jf({scale:e,scaleX:t,scaleY:n}){return!ah(e)||!ah(t)||!ah(n)}function ns(e){return Jf(e)||JE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function JE(e){return T0(e.x)||T0(e.y)}function T0(e){return e&&e!=="0%"}function fu(e,t,n){const r=e-n,s=t*r;return n+s}function C0(e,t,n,r,s){return s!==void 0&&(e=fu(e,s,r)),fu(e,n,r)+t}function Xf(e,t=0,n=1,r,s){e.min=C0(e.min,t,n,r,s),e.max=C0(e.max,t,n,r,s)}function XE(e,{x:t,y:n}){Xf(e.x,t.translate,t.scale,t.originPoint),Xf(e.y,n.translate,n.scale,n.originPoint)}const I0=.999999999999,R0=1.0000000000001;function oO(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&wi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,XE(e,o)),r&&ns(i.latestValues)&&wi(e,i.latestValues))}t.x<R0&&t.x>I0&&(t.x=1),t.y<R0&&t.y>I0&&(t.y=1)}function vi(e,t){e.min=e.min+t,e.max=e.max+t}function N0(e,t,n,r,s=.5){const i=ke(e.min,e.max,s);Xf(e,t,n,i,r)}function wi(e,t){N0(e.x,t.x,t.scaleX,t.scale,t.originX),N0(e.y,t.y,t.scaleY,t.scale,t.originY)}function QE(e,t){return YE(iO(e.getBoundingClientRect(),t))}function aO(e,t,n){const r=QE(e,n),{scroll:s}=t;return s&&(vi(r.x,s.offset.x),vi(r.y,s.offset.y)),r}const ZE=({current:e})=>e?e.ownerDocument.defaultView:null,lO=new WeakMap;class cO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Me(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tl(u).point)},i=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nP(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gt(x=>{let g=this.getAxisMotionValue(x).get()||0;if(In.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[x];w&&(g=Ut(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),m&&be.postRender(()=>m(u,d)),Bf(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=d;if(p&&this.currentDirection===null){this.currentDirection=uO(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,x),this.updateAxis("y",d.point,x),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Gt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new HE(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ZE(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&be.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Vl(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Qj(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&mi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Zj(s.layoutBox,n):this.constraints=!1,this.elastic=rO(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Gt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nO(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!mi(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=aO(r,s.root,this.visualElement.getTransformPagePoint());let o=eO(s.layout.layoutBox,i);if(n){const a=n(sO(o));this.hasMutatedConstraints=!!a,a&&(o=YE(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Gt(u=>{if(!Vl(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Bf(this.visualElement,t),r.start(Eg(t,r,0,n,this.visualElement,!1))}stopAnimation(){Gt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gt(n=>{const{drag:r}=this.getProps();if(!Vl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ke(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Gt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=tO({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gt(o=>{if(!Vl(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ke(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;lO.set(this.visualElement,this);const t=this.visualElement.current,n=Xo(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();mi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),be.read(r);const o=Na(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Gt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Yf,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Vl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function uO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class dO extends Wr{constructor(t){super(t),this.removeGroupControls=Dt,this.removeListeners=Dt,this.controls=new cO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const A0=e=>(t,n)=>{e&&be.postRender(()=>e(t,n))};class hO extends Wr{constructor(){super(...arguments),this.removePointerDownListener=Dt}onPointerDown(t){this.session=new HE(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZE(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:A0(t),onStart:A0(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&be.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Xo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _c={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function P0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ro={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(B.test(e))e=parseFloat(e);else return e;const n=P0(e,t.target.x),r=P0(e,t.target.y);return`${n}% ${r}%`}},fO={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Mr.parse(e);if(s.length>5)return r;const i=Mr.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const c=ke(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class pO extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;LA(mO),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_c.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Zm.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function e1(e){const[t,n]=LS(),r=E.useContext(Hm);return h.jsx(pO,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(zS),isPresent:t,safeToRemove:n})}const mO={borderRadius:{...Ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ro,borderTopRightRadius:Ro,borderBottomLeftRadius:Ro,borderBottomRightRadius:Ro,boxShadow:fO};function gO(e,t,n){const r=at(e)?e:Ia(e);return r.start(Eg("",r,t,n)),r.animation}function yO(e){return e instanceof SVGElement&&e.tagName!=="svg"}const vO=(e,t)=>e.depth-t.depth;class wO{constructor(){this.children=[],this.isDirty=!1}add(t){fg(this.children,t),this.isDirty=!0}remove(t){pg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(vO),this.isDirty=!1,this.children.forEach(t)}}function xO(e,t){const n=Rn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Or(r),e(i-t))};return be.read(r,!0),()=>Or(r)}const t1=["TopLeft","TopRight","BottomLeft","BottomRight"],_O=t1.length,j0=e=>typeof e=="string"?parseFloat(e):e,O0=e=>typeof e=="number"||B.test(e);function bO(e,t,n,r,s,i){s?(e.opacity=ke(0,n.opacity!==void 0?n.opacity:1,SO(r)),e.opacityExit=ke(t.opacity!==void 0?t.opacity:1,0,EO(r))):i&&(e.opacity=ke(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<_O;o++){const a=`border${t1[o]}Radius`;let l=M0(t,a),c=M0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||O0(l)===O0(c)?(e[a]=Math.max(ke(j0(l),j0(c),r),0),(In.test(c)||In.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=ke(t.rotate||0,n.rotate||0,r))}function M0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const SO=n1(0,.5,xE),EO=n1(.5,.95,Dt);function n1(e,t,n){return r=>r<e?0:r>t?1:n(Vi(e,t,r))}function L0(e,t){e.min=t.min,e.max=t.max}function Ht(e,t){L0(e.x,t.x),L0(e.y,t.y)}function D0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $0(e,t,n,r,s){return e-=t,e=fu(e,1/n,r),s!==void 0&&(e=fu(e,1/s,r)),e}function kO(e,t=0,n=1,r=.5,s,i=e,o=e){if(In.test(t)&&(t=parseFloat(t),t=ke(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ke(i.min,i.max,r);e===i&&(a-=t),e.min=$0(e.min,t,n,a,s),e.max=$0(e.max,t,n,a,s)}function F0(e,t,[n,r,s],i,o){kO(e,t[n],t[r],t[s],t.scale,i,o)}const TO=["x","scaleX","originX"],CO=["y","scaleY","originY"];function U0(e,t,n,r){F0(e.x,t,TO,n?n.x:void 0,r?r.x:void 0),F0(e.y,t,CO,n?n.y:void 0,r?r.y:void 0)}function B0(e){return e.translate===0&&e.scale===1}function r1(e){return B0(e.x)&&B0(e.y)}function V0(e,t){return e.min===t.min&&e.max===t.max}function IO(e,t){return V0(e.x,t.x)&&V0(e.y,t.y)}function z0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function s1(e,t){return z0(e.x,t.x)&&z0(e.y,t.y)}function W0(e){return Ut(e.x)/Ut(e.y)}function H0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class RO{constructor(){this.members=[]}add(t){fg(this.members,t),t.scheduleRender()}remove(t){if(pg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NO(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const rs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fo=typeof window<"u"&&window.MotionDebug!==void 0,lh=["","X","Y","Z"],AO={visibility:"hidden"},q0=1e3;let PO=0;function ch(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function i1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=fE(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",be,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&i1(r)}function o1({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=PO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fo&&(rs.totalNodes=rs.resolvedTargetDeltas=rs.recalculatedProjection=0),this.nodes.forEach(MO),this.nodes.forEach(UO),this.nodes.forEach(BO),this.nodes.forEach(LO),Fo&&window.MotionDebug.record(rs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new wO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yO(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=xO(f,250),_c.hasAnimatedSinceResize&&(_c.hasAnimatedSinceResize=!1,this.nodes.forEach(G0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||qO,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=u.getProps(),y=!this.targetLayout||!s1(this.targetLayout,m)||p,w=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const _={...cg(v,"layout"),onPlay:x,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||G0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&i1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(K0);return}this.isUpdating||this.nodes.forEach($O),this.isUpdating=!1,this.nodes.forEach(FO),this.nodes.forEach(jO),this.nodes.forEach(OO),this.clearAllSnapshots();const a=Rn.now();et.delta=Jn(0,1e3/60,a-et.timestamp),et.timestamp=a,et.isProcessing=!0,Zd.update.process(et),Zd.preRender.process(et),Zd.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DO),this.sharedNodes.forEach(zO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!r1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ns(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),KO(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Me();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(GO))){const{scroll:u}=this.root;u&&(vi(l.x,u.offset.x),vi(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Me();if(Ht(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Ht(l,o),vi(l.x,d.offset.x),vi(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Me();Ht(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&wi(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ns(u.latestValues)&&wi(l,u.latestValues)}return ns(this.latestValues)&&wi(l,this.latestValues),l}removeTransform(o){const a=Me();Ht(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ns(c.latestValues))continue;Jf(c.latestValues)&&c.updateSnapshot();const u=Me(),d=c.measurePageBox();Ht(u,d),U0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ns(this.latestValues)&&U0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),Zo(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Me(),this.targetWithTransforms=Me()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ht(this.target,this.layout.layoutBox),XE(this.target,this.targetDelta)):Ht(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),Zo(this.relativeTargetOrigin,this.target,p.target),Ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fo&&rs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jf(this.parent.latestValues)||JE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===et.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ht(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;oO(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Me());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D0(this.prevProjectionDelta.x,this.projectionDelta.x),D0(this.prevProjectionDelta.y,this.projectionDelta.y)),Qo(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!H0(this.projectionDelta.x,this.prevProjectionDelta.x)||!H0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Fo&&rs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yi(),this.projectionDelta=yi(),this.projectionDeltaWithTransform=yi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=yi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Me(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,x=this.getStack(),g=!x||x.members.length<=1,y=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(HO));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;Y0(d.x,o.x,S),Y0(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zo(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WO(this.relativeTarget,this.relativeTargetOrigin,f,S),w&&IO(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Me()),Ht(w,this.relativeTarget)),v&&(this.animationValues=u,bO(u,c,this.latestValues,S,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{_c.hasAnimatedSinceResize=!0,this.currentAnimation=gO(0,q0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&a1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Me();const d=Ut(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Ut(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Ht(a,l),wi(a,u),Qo(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new RO),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ch("z",o,c,this.animationValues);for(let u=0;u<lh.length;u++)ch(`rotate${lh[u]}`,o,c,this.animationValues),ch(`skew${lh[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return AO;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=wc(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=wc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=NO(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in lu){if(f[v]===void 0)continue;const{correct:x,applyTo:g}=lu[v],y=c.transform==="none"?f[v]:x(f[v],d);if(g){const w=g.length;for(let _=0;_<w;_++)c[g[_]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=d===this?wc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(K0),this.root.sharedNodes.clear()}}}function jO(e){e.updateLayout()}function OO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Gt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Ut(f);f.min=r[d].min,f.max=f.min+p}):a1(i,n.layoutBox,r)&&Gt(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Ut(r[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=yi();Qo(a,r,n.layoutBox);const l=yi();o?Qo(l,e.applyTransform(s,!0),n.measuredBox):Qo(l,r,n.layoutBox);const c=!r1(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=Me();Zo(m,n.layoutBox,f.layoutBox);const v=Me();Zo(v,r,p.layoutBox),s1(m,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function MO(e){Fo&&rs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function LO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function DO(e){e.clearSnapshot()}function K0(e){e.clearMeasurements()}function $O(e){e.isLayoutDirty=!1}function FO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function G0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function UO(e){e.resolveTargetDelta()}function BO(e){e.calcProjection()}function VO(e){e.resetSkewAndRotation()}function zO(e){e.removeLeadSnapshot()}function Y0(e,t,n){e.translate=ke(t.translate,0,n),e.scale=ke(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function J0(e,t,n,r){e.min=ke(t.min,n.min,r),e.max=ke(t.max,n.max,r)}function WO(e,t,n,r){J0(e.x,t.x,n.x,r),J0(e.y,t.y,n.y,r)}function HO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qO={duration:.45,ease:[.4,0,.1,1]},X0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Q0=X0("applewebkit/")&&!X0("chrome/")?Math.round:Dt;function Z0(e){e.min=Q0(e.min),e.max=Q0(e.max)}function KO(e){Z0(e.x),Z0(e.y)}function a1(e,t,n){return e==="position"||e==="preserve-aspect"&&!Jj(W0(t),W0(n),.2)}function GO(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const YO=o1({attachResizeListener:(e,t)=>Na(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uh={current:void 0},l1=o1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!uh.current){const e=new YO({});e.mount(window),e.setOptions({layoutScroll:!0}),uh.current=e}return uh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JO={pan:{Feature:hO},drag:{Feature:dO,ProjectionNode:l1,MeasureLayout:e1}};function ew(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&be.postRender(()=>i(t,tl(t)))}class XO extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=XA(t,n=>(ew(this.node,n,"Start"),r=>ew(this.node,r,"End"))))}unmount(){}}class QO extends Wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=el(Na(this.node.current,"focus",()=>this.onFocus()),Na(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tw(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&be.postRender(()=>i(t,tl(t)))}class ZO extends Wr{mount(){const{current:t}=this.node;t&&(this.unmount=tP(t,n=>(tw(this.node,n,"Start"),(r,{success:s})=>tw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qf=new WeakMap,dh=new WeakMap,eM=e=>{const t=Qf.get(e.target);t&&t(e)},tM=e=>{e.forEach(eM)};function nM({root:e,...t}){const n=e||document;dh.has(n)||dh.set(n,{});const r=dh.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(tM,{root:e,...t})),r[s]}function rM(e,t,n){const r=nM(t);return Qf.set(e,n),r.observe(e),()=>{Qf.delete(e),r.unobserve(e)}}const sM={some:0,all:1};class iM extends Wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:sM[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return rM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(oM(t,n))&&this.startObserver()}unmount(){}}function oM({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const aM={inView:{Feature:iM},tap:{Feature:ZO},focus:{Feature:QO},hover:{Feature:XO}},lM={layout:{ProjectionNode:l1,MeasureLayout:e1}},Zf={current:null},c1={current:!1};function cM(){if(c1.current=!0,!!Gm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zf.current=e.matches;e.addListener(t),t()}else Zf.current=!1}const uM=[...OE,it,Mr],dM=e=>uM.find(jE(e)),nw=new WeakMap;function hM(e,t,n){for(const r in t){const s=t[r],i=n[r];if(at(s))e.addValue(r,s);else if(at(i))e.addValue(r,Ia(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ia(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const rw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fM{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_g,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Rn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,be.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=td(n),this.isVariantNode=BS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&at(m)&&m.set(l[p],!1)}}mount(t){this.current=t,nw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),c1.current||cM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nw.delete(this.current),this.projection&&this.projection.unmount(),Or(this.notifyUpdate),Or(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ds.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zi){const n=zi[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Me()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rw.length;r++){const s=rw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=hM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ia(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(AE(s)||bE(s))?s=parseFloat(s):!dM(s)&&Mr.test(n)&&(s=IE(t,n)),this.setBaseTarget(t,at(s)?s.get():s)),at(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=tg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!at(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class u1 extends fM{constructor(){super(...arguments),this.KeyframeResolver=ME}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;at(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pM(e){return window.getComputedStyle(e)}class mM extends u1{constructor(){super(...arguments),this.type="html",this.renderInstance=JS}readValueFromInstance(t,n){if(Ds.has(n)){const r=xg(n);return r&&r.default||0}else{const r=pM(t),s=(KS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return QE(t,n)}build(t,n,r){sg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return lg(t,n,r)}}class gM extends u1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Me}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ds.has(n)){const r=xg(n);return r&&r.default||0}return n=XS.has(n)?n:Qm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return eE(t,n,r)}build(t,n,r){ig(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){QS(t,n,r,s)}mount(t){this.isSVGTag=ag(t.tagName),super.mount(t)}}const yM=(e,t)=>eg(e)?new gM(t):new mM(t,{allowProjection:e!==E.Fragment}),vM=HA({...Bj,...aM,...JO,...lM},yM),ie=oA(vM),wM={some:0,all:1};function xM(e,t,{root:n,margin:r,amount:s="some"}={}){const i=lE(e),o=new WeakMap,a=c=>{c.forEach(u=>{const d=o.get(u.target);if(u.isIntersecting!==!!d)if(u.isIntersecting){const f=t(u);typeof f=="function"?o.set(u.target,f):l.unobserve(u.target)}else typeof d=="function"&&(d(u),o.delete(u.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof s=="number"?s:wM[s]});return i.forEach(c=>l.observe(c)),()=>l.disconnect()}function d1(e,{root:t,margin:n,amount:r,once:s=!1}={}){const[i,o]=E.useState(!1);return E.useEffect(()=>{if(!e.current||s&&i)return;const a=()=>(o(!0),s?void 0:()=>o(!1)),l={root:t&&t.current||void 0,margin:n,amount:r};return xM(e.current,a,l)},[t,e,n,s,r]),i}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _M={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(e,t)=>{const n=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>E.createElement("svg",{ref:u,..._M,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${bM(e)}`,a].join(" "),...c},[...t.map(([d,f])=>E.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=W("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=W("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=W("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=W("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=W("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=W("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=W("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=W("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=W("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=W("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=W("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=W("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=W("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=W("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=W("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=W("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=W("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=W("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=W("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=W("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=W("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=W("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=W("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Lr=[{slug:"ai-chat-assistants",path:"/services/ai-chat-assistants",icon:h1,title:"AI Chat Assistants",subtitle:"Your 24/7 digital team member",description:"Handle FAQs, showcase listings, and capture leads 24/7  on your website, WhatsApp, or Instagram. Your AI assistant never sleeps, never takes a break, and always knows your inventory.",heroDescription:"Deploy intelligent chat assistants on your website, WhatsApp, or Instagram  wherever your clients already spend their time. Built specifically for real estate conversations, our AI handles lead inquiries, showcases listings, and qualifies prospects in real-time across every channel.",color:"gold",features:[{icon:m1,text:"Natural language conversations that feel human"},{icon:FM,text:"Deploy on your website, WhatsApp, or Instagram"},{icon:bc,text:"Instant lead qualification and scoring"},{icon:Sc,text:"Automated listing recommendations based on buyer criteria"},{icon:pu,text:"After-hours coverage that never misses a lead"},{icon:zl,text:"Conversation analytics and conversion tracking"}],benefits:["Website, WhatsApp & Instagram","Instant lead qualification","Listing recommendations"],pas:{problem:{headline:"Your website visitors are leaving without a trace",description:"Every day, dozens of potential buyers and sellers land on your website outside of office hours. They have questions about listings, want to schedule viewings, or need a quick valuation. But there is nobody there to answer. By the time your team checks in the next morning, those leads have already contacted your competitor.",painPoints:["Website visitors bounce within 30 seconds without engagement","After-hours inquiries go unanswered until the next business day","Manual lead qualification wastes your top agents' selling time","No consistent follow-up process for initial website inquiries"]},agitation:{headline:"Every unanswered inquiry is money walking out the door",description:"The cost of silence is not just one lost lead. It is the compound effect of hundreds of missed opportunities every single month. Your competitors who respond instantly are winning the listings you worked hard to attract. Meanwhile, your team is buried in repetitive FAQ responses instead of closing deals.",consequences:[{stat:"78%",label:"of buyers go with the first responder",detail:"Speed-to-lead is the number one predictor of conversion in real estate."},{stat:"5 min",label:"is the maximum response window",detail:"After 5 minutes, your odds of qualifying a lead drop by 80%."},{stat:"67%",label:"of leads never get a follow-up",detail:"Without automation, most inquiries fall through the cracks entirely."}]},solution:{headline:"An AI assistant that converts visitors into viewings while you sleep",description:"VirtueNex AI Chat Assistants respond to every single website visitor in under 3 seconds, 24 hours a day, 7 days a week. Trained on thousands of real estate conversations, our AI understands property jargon, buyer intent, and local market nuances. It qualifies leads, recommends listings, and books viewings directly into your calendar.",outcomes:[{title:"Instant 24/7 engagement",description:"Every visitor gets a knowledgeable response in under 3 seconds, day or night."},{title:"Smart lead qualification",description:"AI scores and segments leads by budget, timeline, and intent before your agents touch them."},{title:"Automated viewing bookings",description:"Prospects book viewings directly from the chat, synced to your team's calendar."},{title:"Reclaim 2+ hours daily",description:"Eliminate repetitive FAQ responses so your agents focus exclusively on closing."}]}},faqs:[{question:"Where can the chat assistant be deployed?",answer:"We can deploy your AI chat assistant on your website, WhatsApp, and/or Instagram  whichever channels your clients are already using. Many clients run all three simultaneously, so a lead can start a conversation on Instagram, continue it on WhatsApp, and book a viewing directly from your website, all handled by the same AI."},{question:"How long does it take to build and launch a chat assistant?",answer:"Most AI chat assistants are fully built and live within 2 to 3 weeks. This includes designing the conversation flows, training the AI on your listings and FAQs, integrating it with your website and CRM, and thorough testing before go-live."},{question:"What platform do you use to build the chat assistants?",answer:"We build all our AI chat assistants on Voiceflow, a leading conversational AI platform trusted by enterprise teams worldwide. Voiceflow gives us the flexibility to design highly customised conversation flows that match your brand voice and handle complex real estate queries."},{question:"Can the assistant integrate with my existing CRM?",answer:"Yes. Our chat assistants can push qualified lead data directly into popular CRMs including HubSpot, Salesforce, Pipedrive, and others via API or native integration. Every conversation, contact detail, and lead score flows automatically into your existing workflow."},{question:"What happens when the AI does not know the answer?",answer:"The assistant is designed to gracefully handle unknown queries by capturing the visitor's contact details and flagging the question for your team. It never leaves a visitor stuck, and you receive an instant notification so a human can follow up promptly."},{question:"Can I customise the conversation flows after launch?",answer:"Absolutely. You have full visibility into your assistant's conversation flows and we can update them any time your listings, services, or processes change. We also provide ongoing optimisation based on real conversation data to continually improve performance."}]},{slug:"inbound-phone-agents",path:"/services/inbound-phone-agents",icon:MM,title:"Inbound Phone Agents",subtitle:"Never miss a call again",description:"AI voice agents that book viewings and answer listing queries instantly. Never miss a call, even during showings.",heroDescription:"AI voice agents that answer calls, respond to listing inquiries, and book viewings with natural-sounding conversation. Your callers get immediate, knowledgeable responses while your agents focus on high-value activities.",color:"emerald",features:[{icon:np,text:"Natural voice AI with real-time conversation handling"},{icon:CM,text:"Automated viewing scheduling with calendar sync"},{icon:ow,text:"Full call transcripts sent to your CRM instantly"},{icon:bc,text:"Warm transfer to agents for hot leads"},{icon:pu,text:"24/7 availability including weekends and holidays"},{icon:zl,text:"Call analytics with sentiment and intent tracking"}],benefits:["Natural conversation","Calendar integration","Call transcripts"],pas:{problem:{headline:"Missed calls are killing your pipeline",description:"Your phone rings while your agents are on viewings, in negotiations, or simply at lunch. Every missed call is a potential six-figure commission walking away. Voicemail is not a strategy. Buyers and sellers who cannot reach a human immediately move on to the next agency on their list.",painPoints:["Agents miss 40% of inbound calls during showings and meetings","Voicemail return rates are below 5% in the real estate industry","Peak call times overlap with your team's highest-value activities","No after-hours coverage means losing weekend and evening leads"]},agitation:{headline:"While your phone rings out, your competitor picks up",description:'A single missed call from a motivated seller could represent a $15,000+ commission. Multiply that across every unanswered call each week, and you are looking at hundreds of thousands in lost annual revenue. Your agents are not ignoring calls on purpose. They are stretched too thin. The problem is structural, and no amount of "try harder" will fix it.',consequences:[{stat:"$15K+",label:"average lost commission per missed seller call",detail:"One missed listing appointment can cost more than most monthly marketing budgets."},{stat:"40%",label:"of calls go unanswered during business hours",detail:"Your team physically cannot answer every call while doing their actual job."},{stat:"<5%",label:"voicemail callback success rate",detail:"Once a caller hangs up, you have almost certainly lost them to a competitor."}]},solution:{headline:"An AI voice agent that sounds human and books viewings instantly",description:"VirtueNex Inbound Phone Agents answer every call within 2 rings using natural-sounding voice AI trained specifically for real estate conversations. Our agents handle listing inquiries, book viewings into your calendar, capture caller details into your CRM, and warm-transfer hot leads to available team members.",outcomes:[{title:"Zero missed calls",description:"Every inbound call is answered within 2 rings, 24 hours a day, 365 days a year."},{title:"Natural voice conversations",description:"Callers consistently rate our AI as natural and helpful. No robotic menus."},{title:"Real-time calendar sync",description:"Viewings are booked directly into your agents' calendars with zero manual input."},{title:"Reclaim 2+ hours daily",description:"Your team stops playing phone tag and starts closing deals."}]}},faqs:[{question:"How long does it take to set up an inbound phone agent?",answer:"Your AI phone agent is fully configured and live within 2 weeks. Our team handles the entire process  scripting the conversation flows, connecting your phone number, syncing your calendar, and testing the agent across dozens of real-call scenarios before we go live."},{question:"What platform powers the voice AI?",answer:"We build our inbound phone agents on Vapi AI, one of the most advanced voice AI platforms available. Vapi delivers ultra-low latency responses and natural-sounding speech, which means callers experience a smooth, human-like conversation rather than the stilted pauses you get with older phone systems."},{question:"Does the AI voice sound natural, or will callers know it is a bot?",answer:"Our agents are built to sound as natural as possible, with realistic pacing, appropriate pauses, and conversational language. Many callers do not realise they are speaking to an AI. That said, we always recommend being transparent with callers if they ask directly."},{question:"Can the AI transfer calls to a human agent?",answer:"Yes. When a caller is identified as a hot lead or requires complex handling, the AI performs a warm transfer to an available agent. Your team receives a brief handoff summary before they pick up so they are always prepared."},{question:"What happens if the AI cannot answer a caller's question?",answer:"If the agent encounters a question outside its trained knowledge, it politely captures the caller's details and informs them that a team member will follow up shortly. You receive an instant notification with the call details so nothing slips through the cracks."}]},{slug:"real-estate-websites",path:"/services/real-estate-websites",icon:OM,title:"Real Estate Websites",subtitle:"High-conversion digital hubs",description:"High-conversion, mobile-responsive websites with backend automations, Local SEO, and AEO optimization  built to rank and convert.",heroDescription:"Modern, mobile-first websites designed specifically for real estate workflows. Every page, form, and interaction is optimized to capture leads and convert visitors into clients  with built-in IDX integration, AI-powered property search, backend automation workflows, Local SEO, and AEO optimization so you rank everywhere your clients are searching.",color:"amber",features:[{icon:Cg,text:"AI-powered property search and recommendations"},{icon:bc,text:"Lead capture forms with smart qualification"},{icon:PM,text:"Local SEO optimization for neighborhood-level Google rankings"},{icon:En,text:"AEO optimization to appear in AI search engines (Perplexity, ChatGPT, Gemini)"},{icon:Ig,text:"Backend automations  bookings, follow-ups, and notifications built-in"},{icon:np,text:"Mobile-first responsive design for agents on the go"},{icon:Sc,text:"Lightning-fast load times for better conversion"},{icon:zl,text:"Built-in analytics dashboard for tracking performance"}],benefits:["Local SEO & AEO","Backend automation","Lead capture forms"],pas:{problem:{headline:"Your website is a digital brochure, not a lead machine",description:"Most real estate websites are built by generic web agencies who do not understand your business. The result is a pretty page that does nothing. No intelligent search, no lead capture strategy, no conversion optimization. Visitors browse, admire the photos, and leave without ever giving you their contact details.",painPoints:["Generic template websites with no real estate-specific functionality","No IDX integration means visitors leave to search on Zillow and Rightmove","Slow loading speeds on mobile drive away 53% of visitors","No analytics means you have no idea which pages or listings convert"]},agitation:{headline:"You are paying for traffic that your website cannot convert",description:"You spend thousands on Google Ads, social media, and portal listings to drive traffic to your website. But your website leaks leads like a sieve. Every visitor who leaves without engaging is wasted ad spend. Your competitors with optimized, AI-powered websites are capturing those same leads and converting them into clients.",consequences:[{stat:"97%",label:"of visitors leave without converting",detail:"The average real estate website converts less than 3% of its traffic."},{stat:"53%",label:"bounce rate on slow mobile sites",detail:"If your site takes more than 3 seconds to load, half your visitors are gone."},{stat:"$0",label:"ROI from a website with no lead capture",detail:"A website without conversion optimization is just an expensive business card."}]},solution:{headline:"A website engineered to turn every visitor into a lead",description:"VirtueNex Real Estate Websites are not templates. They are conversion machines built from the ground up for your specific market. AI-powered property search keeps visitors on your site instead of sending them to portals. Smart lead capture forms adapt to visitor behavior. And we handle the full backend  automations, Local SEO, and AEO  so your site works hard in every corner of the internet.",outcomes:[{title:"AI-powered property search",description:"Visitors find their dream property on your site, not Zillow. Keep the lead, keep the commission."},{title:"Smart lead capture",description:"Forms that adapt to visitor intent, capturing contact details at the perfect moment."},{title:"Local SEO & AEO dominance",description:"Rank #1 in your target neighborhoods on Google and surface as the trusted answer in AI-powered searches like Perplexity, ChatGPT, and Gemini."},{title:"Backend automations included",description:"Booking confirmations, lead follow-ups, and internal notifications are all wired up and running from day one  no extra setup needed."}]}},faqs:[{question:"How quickly can my website be built and launched?",answer:"Your new real estate website is designed, built, and delivered within 5 to 7 days. We move fast without cutting corners  every site goes through a thorough review and testing process before handoff so you launch with confidence."},{question:"What tools do you use to build the websites?",answer:"We build using Bolt for rapid AI-assisted development combined with VS Code for precise, hand-crafted customisation. This combination gives us both speed and the fine-grained control needed to create a site that is truly unique to your brand."},{question:"Will I be able to update content on the site myself?",answer:"Yes. We build every site with content management in mind so you can update listings, team profiles, blog posts, and other content without needing a developer. We also provide a short walkthrough after launch so your team knows exactly how to make changes."},{question:"Is the website mobile-friendly?",answer:"Every site we build is mobile-first, meaning it is designed for phones before desktops. Given that the majority of property searches now happen on mobile, this is non-negotiable. Your site will look and perform flawlessly across all screen sizes."},{question:"Can the website integrate with my CRM and other tools?",answer:"Yes. We connect your website to your CRM, email marketing platform, calendar, and any other tools in your stack. Lead forms, enquiry submissions, and property alerts all flow automatically into the right systems without manual intervention."},{question:"What backend automations do you include with the website?",answer:"Every website we build includes a set of backend automation workflows as standard. These cover instant lead notifications when a form is submitted, automated booking confirmations and reminders when a viewing is scheduled, internal Slack or email alerts to your team, and follow-up sequences that nurture leads who did not convert immediately. We map these to your existing tools  CRM, calendar, email  so everything runs without anyone touching a keyboard."},{question:"What is AEO and why does it matter for my real estate business?",answer:`AEO stands for Answer Engine Optimization. While traditional SEO helps you rank on Google, AEO ensures your business appears as the trusted source when people ask AI assistants like Perplexity, ChatGPT, or Gemini questions such as "best real estate agent in [city]" or "who handles luxury properties in [neighbourhood]". As more buyers and sellers start their property search through AI tools, being the answer those engines surface is a significant competitive edge. We structure your site's content and data to be AI-readable and citation-worthy.`}]},{slug:"intelligent-data-sync",path:"/services/intelligent-data-sync",icon:ep,title:"Intelligent Data Sync",subtitle:"Zero manual data entry",description:"Eliminate manual grunt work with automated CRM entry and document processing. Our systems instantly sync lead data from portals directly into your workflow, ensuring no valuation or viewing detail ever slips through the cracks.",heroDescription:"Eliminate manual grunt work with automated CRM entry and document processing. Our systems instantly sync lead data from portals directly into your workflow, ensuring no valuation or viewing detail ever slips through the cracks.",color:"rose",features:[{icon:g1,text:"Real-time bi-directional CRM synchronization"},{icon:ow,text:"Automated document processing and data extraction"},{icon:ep,text:"Cross-platform sync across your entire tech stack"},{icon:y1,text:"Enterprise-grade encryption for all data transfers"},{icon:Sc,text:"Instant contact enrichment from public data sources"},{icon:zl,text:"Data quality monitoring and anomaly detection"}],benefits:["Auto CRM updates","Document processing","Cross-platform sync"],pas:{problem:{headline:"Your team is drowning in manual data entry",description:"Every new lead from Rightmove, Zoopla, or your website needs to be manually copied into your CRM. Every viewing confirmation needs to be logged. Every valuation report needs to be filed. Your agents spend more time on admin than on selling, and critical details slip through the cracks daily.",painPoints:["Leads from portals are manually copied into CRM, one field at a time","Viewing notes and follow-ups live in notebooks and sticky notes","Document processing takes hours of manual data extraction","No single source of truth means conflicting data across systems"]},agitation:{headline:"Every typo and missed entry is a deal at risk",description:"Manual data entry is not just slow. It is dangerous. A mistyped phone number means a lost follow-up. A forgotten viewing note means an embarrassing client call. A delayed CRM update means two agents chasing the same lead. Your team is burning out on work a machine should be doing, and the errors are costing you real money.",consequences:[{stat:"23%",label:"of CRM data contains errors from manual entry",detail:"Nearly a quarter of your database is unreliable because humans make mistakes."},{stat:"5.5 hrs",label:"per week spent on data entry per agent",detail:"That is 5.5 hours your top performers are not spending on revenue-generating activities."},{stat:"1 in 5",label:"follow-ups are missed due to incomplete data",detail:"Leads fall through the cracks because the information never made it into the system."}]},solution:{headline:"Automated data flow that never misses a detail",description:"VirtueNex Intelligent Data Sync eliminates manual data entry entirely. Our system pulls lead data from every portal, email, and web form and injects it directly into your CRM in real time. Documents are scanned, parsed, and filed automatically. Your team gets a single source of truth with zero manual input required.",outcomes:[{title:"Zero manual entry",description:"Leads from every source flow directly into your CRM without anyone touching a keyboard."},{title:"Automated document processing",description:"Contracts, valuations, and reports are scanned, parsed, and filed instantly."},{title:"Single source of truth",description:"Every system stays perfectly synced so your team always has accurate, up-to-date data."},{title:"Reclaim 2+ hours daily",description:"Eliminate admin grunt work so your agents can focus on what they do best: closing deals."}]}},faqs:[{question:"Which CRMs and portals does Intelligent Data Sync support?",answer:"We integrate with all major real estate CRMs including HubSpot, Salesforce, Pipedrive, and Zoho, as well as leading portals like Rightmove, Zoopla, OnTheMarket, and Zillow. If your platform has an API or webhook capability, we can connect to it."},{question:"How long does the initial setup take?",answer:"Most clients have their data sync fully operational within 2 to 3 weeks. Setup time depends on the number of systems being connected and the complexity of your existing data structure. Our team handles the entire configuration  you just need to provide access."},{question:"Is my data secure during sync?",answer:"Absolutely. All data transfers are encrypted end-to-end using enterprise-grade encryption standards. We never store your client data on our servers beyond what is required for the sync process, and all connections are authenticated with secure API credentials."},{question:"What happens if a sync connection breaks or an error occurs?",answer:"Our system monitors every sync connection in real time and alerts you immediately if anything goes wrong. Failed syncs are automatically retried, and our support team is notified so we can investigate and resolve any issues before they impact your workflow."},{question:"Can it handle document uploads and attachments, not just text data?",answer:"Yes. Our document processing pipeline can ingest PDFs, scanned contracts, valuation reports, and other file types. It extracts key data fields automatically and files the documents in the correct location within your CRM or document management system."},{question:"Will it work with our existing tech stack without disrupting current processes?",answer:"Our sync layer is designed to sit alongside your existing tools without replacing or disrupting them. We map your current data flows first, then layer in automation incrementally so your team experiences minimal disruption during the transition."}]}],sd={gold:{bg:"bg-gold-500/10",border:"border-gold-500/20",text:"text-gold-400",dot:"bg-gold-400"},emerald:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",dot:"bg-emerald-400"},amber:{bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-400",dot:"bg-amber-400"},rose:{bg:"bg-rose-500/10",border:"border-rose-500/20",text:"text-rose-400",dot:"bg-rose-400"}};function HM(){const[e,t]=E.useState(!1),[n,r]=E.useState(!1),[s,i]=E.useState(!1),o=E.useRef(null),{pathname:a}=Ms();return E.useEffect(()=>{const l=()=>t(window.scrollY>40);return window.addEventListener("scroll",l,{passive:!0}),()=>window.removeEventListener("scroll",l)},[]),E.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),E.useEffect(()=>{r(!1),i(!1)},[a]),E.useEffect(()=>{function l(c){o.current&&!o.current.contains(c.target)&&i(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),h.jsxs(h.Fragment,{children:[h.jsx(ie.header,{initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:[.25,.46,.45,.94]},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${e?"glass border-b border-white/[0.06]":"bg-transparent"}`,children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("nav",{className:"flex items-center justify-between h-16 sm:h-20",children:[h.jsxs(ae,{to:"/",className:"flex items-center gap-2.5 group",children:[h.jsx("img",{src:"/images/VirtueNex-Automation-Logo.png",alt:"VirtueNex Automation",className:"h-8 sm:h-9 w-auto"}),h.jsxs("span",{className:"text-base sm:text-lg font-bold tracking-tight",children:[h.jsx("span",{className:"text-white",children:"Virtue"}),h.jsx("span",{className:"text-gold-500",children:"Nex"})]})]}),h.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[h.jsx(ae,{to:"/",className:`px-4 py-2 text-sm transition-colors duration-200 rounded-lg hover:bg-white/[0.04] ${a==="/"?"text-white":"text-gray-400 hover:text-white"}`,children:"Home"}),h.jsxs("div",{ref:o,className:"relative",children:[h.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-1 px-4 py-2 text-sm transition-colors duration-200 rounded-lg hover:bg-white/[0.04] ${a.startsWith("/services")?"text-white":"text-gray-400 hover:text-white"}`,children:["Solutions",h.jsx(kg,{className:`w-3.5 h-3.5 transition-transform duration-200 ${s?"rotate-180":""}`})]}),h.jsx(ka,{children:s&&h.jsx(ie.div,{initial:{opacity:0,y:8,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:8,scale:.96},transition:{duration:.15},className:"absolute top-full left-0 mt-2 w-64 glass-card p-2 shadow-xl shadow-black/40",children:Lr.map(l=>h.jsxs(ae,{to:l.path,className:"flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm text-gray-400 hover:text-white hover:bg-white/[0.06] transition-all duration-200",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-gold-500/10 border border-gold-500/20 flex items-center justify-center shrink-0",children:h.jsx(l.icon,{className:"w-4 h-4 text-gold-400"})}),l.title]},l.slug))})})]}),h.jsx(ae,{to:"/how-it-works",className:`px-4 py-2 text-sm transition-colors duration-200 rounded-lg hover:bg-white/[0.04] ${a==="/how-it-works"?"text-white":"text-gray-400 hover:text-white"}`,children:"How It Works"}),h.jsx(ae,{to:"/pricing",className:`px-4 py-2 text-sm transition-colors duration-200 rounded-lg hover:bg-white/[0.04] ${a==="/pricing"?"text-white":"text-gray-400 hover:text-white"}`,children:"Pricing"}),h.jsx(ae,{to:"/contact",className:`px-4 py-2 text-sm transition-colors duration-200 rounded-lg hover:bg-white/[0.04] ${a==="/contact"?"text-white":"text-gray-400 hover:text-white"}`,children:"Contact"})]}),h.jsx("div",{className:"hidden md:block",children:h.jsx(ae,{to:"/contact",className:"btn-gradient inline-flex items-center px-5 py-2.5 text-sm font-medium text-white rounded-xl",children:"Book a Call"})}),h.jsx("button",{onClick:()=>r(!n),className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors","aria-label":"Toggle menu",children:n?h.jsx(WM,{className:"w-5 h-5"}):h.jsx(jM,{className:"w-5 h-5"})})]})})}),h.jsx(ka,{children:n&&h.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 bg-black/95 backdrop-blur-xl md:hidden",children:h.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-5",children:[h.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},children:h.jsx(ae,{to:"/",className:"text-2xl text-gray-300 hover:text-white transition-colors",children:"Home"})}),Lr.map((l,c)=>h.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05+c*.05},children:h.jsxs(ae,{to:l.path,className:"text-base text-gray-500 hover:text-gray-300 transition-colors flex items-center gap-2",children:[h.jsx(l.icon,{className:"w-4 h-4 text-gold-400"}),l.title]})},l.slug)),h.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:h.jsx(ae,{to:"/how-it-works",className:"text-2xl text-gray-300 hover:text-white transition-colors",children:"How It Works"})}),h.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:h.jsx(ae,{to:"/pricing",className:"text-2xl text-gray-300 hover:text-white transition-colors",children:"Pricing"})}),h.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:h.jsx(ae,{to:"/contact",className:"text-2xl text-gray-300 hover:text-white transition-colors",children:"Contact"})}),h.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:h.jsx(ae,{to:"/contact",className:"btn-gradient mt-4 inline-flex items-center px-8 py-3 text-base font-medium text-white rounded-xl",children:"Book a Call"})})]})})})]})}function qM(){return h.jsx("footer",{className:"relative border-t border-white/[0.06]",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[h.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-10 lg:gap-8 mb-12",children:[h.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[h.jsx(ae,{to:"/",className:"flex items-center gap-2.5 mb-4",children:h.jsx("img",{src:"/images/VirtueNex-Automation-Logo.png",alt:"VirtueNex Automation",className:"h-8 w-auto"})}),h.jsx("p",{className:"text-sm text-gray-500 leading-relaxed max-w-xs",children:"Custom AI systems for Real Estate teams. Automate the grunt work, focus on closing deals."})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Solutions"}),h.jsx("ul",{className:"space-y-2.5",children:Lr.map(e=>h.jsx("li",{children:h.jsx(ae,{to:e.path,className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:e.title})},e.slug))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Company"}),h.jsxs("ul",{className:"space-y-2.5",children:[h.jsx("li",{children:h.jsx(ae,{to:"/how-it-works",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"How It Works"})}),h.jsx("li",{children:h.jsx(ae,{to:"/pricing",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"Pricing"})}),h.jsx("li",{children:h.jsx(ae,{to:"/contact",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"Contact"})}),h.jsx("li",{children:h.jsx(ae,{to:"/privacy-policy",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"Privacy Policy"})})]})]})]}),h.jsx("div",{className:"pt-8 border-t border-white/[0.06]",children:h.jsxs("p",{className:"text-sm text-gray-600",children:[" ",new Date().getFullYear()," VirtueNex Automation. All rights reserved."]})})]})})}const KM={initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12}};function GM(){const{pathname:e}=Ms();return E.useEffect(()=>{window.scrollTo(0,0)},[e]),h.jsxs("div",{className:"min-h-screen bg-black overflow-x-hidden",children:[h.jsx("div",{className:"hex-grid"}),h.jsx(HM,{}),h.jsx(ka,{mode:"wait",children:h.jsx(ie.div,{variants:KM,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.3,ease:[.25,.46,.45,.94]},children:h.jsx(MS,{})},e)}),h.jsx(qM,{})]})}function YM(){return h.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black"}),h.jsx("div",{className:"absolute inset-0 radial-glow-hero"}),h.jsx("div",{className:"absolute top-1/2 left-1/3 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px]",children:h.jsx(ie.div,{animate:{scale:[1,1.15,1],opacity:[.08,.12,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-full blur-[180px]",style:{background:"rgba(120, 40, 200, 0.15)"}})}),h.jsx("div",{className:"absolute top-[40%] right-1/3 translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px]",children:h.jsx(ie.div,{animate:{scale:[1,1.2,1],opacity:[.06,.1,.06]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute inset-0 rounded-full blur-[150px]",style:{background:"rgba(234, 179, 8, 0.15)"}})}),h.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 pt-28 pb-20 sm:pt-32 sm:pb-28 text-center",children:[h.jsx(ie.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.7,delay:.2,ease:[.25,.46,.45,.94]},children:h.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold leading-[1.08] tracking-tight mb-7",children:[h.jsx("span",{className:"text-white",children:"Automate Your Agency."}),h.jsx("br",{}),h.jsx("span",{className:"text-gold-500",children:"Dominate Your Postcode."})]})}),h.jsx(ie.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"text-base sm:text-lg md:text-xl text-gray-400 leading-relaxed mb-10 max-w-2xl mx-auto",children:"We deploy autonomous AI systems that handle valuations, viewings, and offers while you sleep. Reclaim 2+ hours every single day."}),h.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs(ae,{to:"/contact",className:"btn-gradient inline-flex items-center justify-center gap-2 px-8 py-4 text-base font-medium text-white rounded-xl group",children:["Share your biggest challenge",h.jsx(xn,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]}),h.jsx("a",{href:"#solutions",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-base font-medium text-gray-300 glass-card hover:bg-white/[0.08] transition-all duration-200",children:"See Our Solutions"})]}),h.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1},className:"flex items-center justify-center gap-10 sm:gap-16 mt-16 pt-8 border-t border-white/[0.06]",children:[{value:"2h+",label:"Saved Daily"},{value:"24/7",label:"Lead Capture"},{value:"98%",label:"Data Accuracy"}].map(e=>h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-white",children:e.value}),h.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:e.label})]},e.label))})]})]})}function ne({children:e,className:t="",delay:n=0}){return h.jsx(ie.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.7,delay:n,ease:[.25,.46,.45,.94]},className:t,children:e})}function JM({target:e,suffix:t=""}){const n=E.useRef(null),r=d1(n,{once:!0}),[s,i]=E.useState(0);return E.useEffect(()=>{if(!r)return;let o=0;const l=e/(2e3/16),c=setInterval(()=>{o+=l,o>=e?(i(e),clearInterval(c)):i(Math.floor(o))},16);return()=>clearInterval(c)},[r,e]),h.jsxs("span",{ref:n,children:[s,t]})}function XM(){return h.jsx("section",{className:"relative py-24 sm:py-32 overflow-hidden",children:h.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{className:"text-center mb-16 sm:mb-20",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-red-500/10 border border-red-500/20 text-sm text-red-400 mb-6",children:[h.jsx(hs,{className:"w-3.5 h-3.5"}),"The Cost of Silence"]}),h.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6",children:["Every Minute of Silence",h.jsx("br",{className:"hidden sm:block"})," Costs You Money"]}),h.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:"Research shows that leads contacted within 5 minutes are 21x more likely to convert. After that window closes, lead value drops by 80%."})]}),h.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-16",children:[{icon:pu,stat:5,suffix:" min",label:"The golden window to respond before a lead goes cold",accent:"bg-amber-500/10 border-amber-500/20 text-amber-400"},{icon:v1,stat:80,suffix:"%",label:"Drop in lead value when contacted after 5 minutes",accent:"bg-red-500/10 border-red-500/20 text-red-400"},{icon:hs,stat:78,suffix:"%",label:"Of buyers go with the agent who responds first",accent:"bg-orange-500/10 border-orange-500/20 text-orange-400"}].map((e,t)=>h.jsx(ne,{delay:t*.12,children:h.jsxs("div",{className:"glass-card p-8 text-center h-full",children:[h.jsx("div",{className:`w-12 h-12 rounded-2xl ${e.accent} border flex items-center justify-center mx-auto mb-5`,children:h.jsx(e.icon,{className:"w-5 h-5"})}),h.jsx("div",{className:"text-4xl sm:text-5xl font-bold text-white mb-3",children:h.jsx(JM,{target:e.stat,suffix:e.suffix})}),h.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:e.label})]})},e.label))}),h.jsx(ne,{delay:.2,children:h.jsx("div",{className:"glass-card glow-border p-8 sm:p-10 lg:p-12",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-10 items-center",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"VirtueNex Responds in Under 3 Seconds"}),h.jsx("p",{className:"text-gray-400 leading-relaxed mb-8",children:"While your competitors scramble to return calls, our AI agents are already qualifying leads, answering listing questions, and booking viewings. Every single time, 24 hours a day."}),h.jsxs("a",{href:"#contact",className:"inline-flex items-center gap-2 text-gold-400 hover:text-gold-500 font-medium transition-colors group",children:["See how it works",h.jsx(xn,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]})]}),h.jsx("div",{className:"space-y-4",children:[{time:"0-3s",label:"AI responds to inbound lead",status:"active"},{time:"10s",label:"Lead qualified and scored",status:"active"},{time:"30s",label:"Viewing booked or listing info sent",status:"active"},{time:"1 min",label:"CRM updated, team notified",status:"active"}].map((e,t)=>h.jsxs(ie.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.4+t*.1},className:"flex items-center gap-4 p-4 rounded-xl bg-white/[0.03] border border-white/[0.06]",children:[h.jsx("div",{className:"w-14 shrink-0 text-center",children:h.jsx("span",{className:"text-sm font-semibold text-gold-400",children:e.time})}),h.jsx("div",{className:"flex-1 text-sm text-gray-300",children:e.label}),h.jsx(Is,{className:"w-4 h-4 text-emerald-400 shrink-0"})]},e.time))})]})})})]})})}function QM({target:e,suffix:t=""}){const n=E.useRef(null),r=d1(n,{once:!0}),[s,i]=E.useState(0);return E.useEffect(()=>{if(!r)return;let o=0;const l=e/(2e3/16),c=setInterval(()=>{o+=l,o>=e?(i(e),clearInterval(c)):i(Math.floor(o))},16);return()=>clearInterval(c)},[r,e]),h.jsxs("span",{ref:n,className:"text-4xl sm:text-5xl font-bold text-white",children:[s,t]})}const ZM=[{icon:hs,text:"Leads sit unanswered for hours"},{icon:hs,text:"Manual CRM data entry after every call"},{icon:hs,text:"Missed calls during viewings"},{icon:hs,text:"Copy-pasting listing info repeatedly"}],e2=[{icon:En,text:"Every lead gets an instant, intelligent response"},{icon:En,text:"CRM updates automatically in real-time"},{icon:En,text:"AI answers calls and books viewings 24/7"},{icon:En,text:"Listings auto-synced across every platform"}];function t2(){return h.jsx("section",{id:"problem",className:"relative py-24 sm:py-32",children:h.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{className:"text-center mb-16 sm:mb-20",children:[h.jsx("p",{className:"text-sm font-medium text-gold-500 tracking-wide uppercase mb-4",children:"The Problem"}),h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Your Team is Drowning in Admin Work"}),h.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:"Real estate agents lose up to 40% of their day on repetitive tasks that could be automated. That's time you could spend on valuations, negotiations, and closing."})]}),h.jsx("div",{className:"grid sm:grid-cols-3 gap-6 sm:gap-8 mb-20 sm:mb-24",children:[{value:40,suffix:"%",label:"Of agent time wasted on admin",icon:pu},{value:78,suffix:"%",label:"Of leads lost to slow follow-up",icon:BM},{value:2,suffix:"hrs",label:"Saved daily with VirtueNex",icon:En}].map((e,t)=>h.jsx(ne,{delay:t*.15,children:h.jsxs("div",{className:"glass-card glow-border p-8 text-center",children:[h.jsx(e.icon,{className:"w-6 h-6 text-gold-400 mx-auto mb-4"}),h.jsx(QM,{target:e.value,suffix:e.suffix}),h.jsx("p",{className:"text-gray-400 text-sm mt-3",children:e.label})]})},e.label))}),h.jsxs(ne,{className:"mb-12",children:[h.jsx("p",{className:"text-sm font-medium text-gold-500 tracking-wide uppercase text-center mb-4",children:"Before & After"}),h.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white text-center mb-12",children:"The Old Way vs. The VirtueNex Way"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 sm:gap-8",children:[h.jsx(ne,{delay:.1,children:h.jsxs("div",{className:"glass-card p-8 h-full border-red-500/10",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:h.jsx(zM,{className:"w-5 h-5 text-red-400"})}),h.jsx("h4",{className:"text-lg font-semibold text-red-400",children:"The Old Way"})]}),h.jsx("div",{className:"space-y-5",children:ZM.map((e,t)=>h.jsxs(ie.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.3+t*.1},className:"flex items-start gap-3",children:[h.jsx(e.icon,{className:"w-4 h-4 text-red-400/60 mt-0.5 shrink-0"}),h.jsx("span",{className:"text-gray-400",children:e.text})]},t))})]})}),h.jsx(ne,{delay:.25,children:h.jsxs("div",{className:"glass-card glow-border p-8 h-full",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gold-500/10 flex items-center justify-center",children:h.jsx(Is,{className:"w-5 h-5 text-gold-400"})}),h.jsx("h4",{className:"text-lg font-semibold text-gold-400",children:"The VirtueNex Way"})]}),h.jsx("div",{className:"space-y-5",children:e2.map((e,t)=>h.jsxs(ie.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.45+t*.1},className:"flex items-start gap-3",children:[h.jsx(e.icon,{className:"w-4 h-4 text-gold-400/60 mt-0.5 shrink-0"}),h.jsx("span",{className:"text-gray-300",children:e.text})]},t))})]})})]})]})})}const n2={0:"md:col-span-2",3:"md:col-span-2"};function r2(){return h.jsxs("section",{id:"solutions",className:"relative py-24 sm:py-32",children:[h.jsx("div",{className:"absolute inset-0 radial-gradient-bottom"}),h.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{className:"text-center mb-16 sm:mb-20",children:[h.jsx("p",{className:"text-sm font-medium text-gold-500 tracking-wide uppercase mb-4",children:"Our Solutions"}),h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6",children:"AI That Works While You Close Deals"}),h.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:"Four powerful automation systems designed specifically for high-performing real estate teams."})]}),h.jsx("div",{className:"grid md:grid-cols-3 gap-5 sm:gap-6",children:Lr.map((e,t)=>{const n=sd[e.color];return h.jsx(ne,{delay:t*.12,className:n2[t]||"",children:h.jsx(ae,{to:e.path,className:"block h-full",children:h.jsxs("div",{className:"glass-card glow-border glow-border-hover group p-7 sm:p-8 h-full hover:bg-white/[0.06] transition-all duration-500",children:[h.jsxs("div",{className:"flex items-start justify-between mb-6",children:[h.jsx("div",{className:`w-12 h-12 rounded-2xl ${n.bg} border ${n.border} flex items-center justify-center`,children:h.jsx(e.icon,{className:`w-5 h-5 ${n.text}`})}),h.jsx(EM,{className:"w-5 h-5 text-gray-600 group-hover:text-gold-400 transition-colors"})]}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:e.title}),h.jsx("p",{className:"text-gray-400 leading-relaxed mb-6",children:e.description}),h.jsx("div",{className:"flex flex-wrap gap-2",children:e.benefits.map(r=>h.jsx("span",{className:"px-3 py-1.5 text-xs font-medium text-gray-400 bg-white/[0.04] border border-white/[0.06] rounded-lg",children:r},r))})]})})},e.slug)})})]})]})}const s2=[{icon:h1,title:"AI Layer",subtitle:"Instant Intelligence",items:["Chat assistants","Voice agents","Lead scoring","Auto-responses"],color:"gold"},{icon:ep,title:"CRM Sync",subtitle:"Seamless Data Flow",items:["Auto-entry","Contact enrichment","Pipeline updates","Document processing"],color:"emerald"},{icon:bc,title:"Human Touch",subtitle:"Your Team Amplified",items:["Hot lead alerts","Prioritized tasks","Full context briefs","Performance insights"],color:"amber"}],lw={gold:{bg:"bg-gold-500/10",border:"border-gold-500/20",text:"text-gold-400",dot:"bg-gold-400"},emerald:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",dot:"bg-emerald-400"},amber:{bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-400",dot:"bg-amber-400"}};function i2(){return h.jsx("section",{className:"relative py-24 sm:py-32 overflow-hidden",children:h.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{className:"text-center mb-16 sm:mb-20",children:[h.jsx("p",{className:"text-sm font-medium text-gold-500 tracking-wide uppercase mb-4",children:"The Ecosystem"}),h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6",children:"AI + CRM + Human Touch"}),h.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:"Three layers working together so your team operates at peak efficiency without losing the personal touch your clients expect."})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-6 lg:gap-0 relative",children:[h.jsx("div",{className:"hidden lg:flex items-center absolute top-1/2 left-[33.33%] -translate-y-1/2 -translate-x-1/2 z-10",children:h.jsx("div",{className:"w-10 h-10 rounded-full bg-black border border-white/[0.08] flex items-center justify-center",children:h.jsx(iw,{className:"w-5 h-5 text-gray-500"})})}),h.jsx("div",{className:"hidden lg:flex items-center absolute top-1/2 left-[66.66%] -translate-y-1/2 -translate-x-1/2 z-10",children:h.jsx("div",{className:"w-10 h-10 rounded-full bg-black border border-white/[0.08] flex items-center justify-center",children:h.jsx(iw,{className:"w-5 h-5 text-gray-500"})})}),s2.map((e,t)=>{const n=lw[e.color];return h.jsx(ne,{delay:t*.15,children:h.jsxs("div",{className:"glass-card p-7 sm:p-8 h-full lg:rounded-none lg:border-x-0 first:lg:rounded-l-2xl first:lg:border-l last:lg:rounded-r-2xl last:lg:border-r",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:`w-11 h-11 rounded-xl ${n.bg} border ${n.border} flex items-center justify-center`,children:h.jsx(e.icon,{className:`w-5 h-5 ${n.text}`})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:e.title}),h.jsx("p",{className:`text-xs ${n.text}`,children:e.subtitle})]})]}),h.jsx("ul",{className:"space-y-3",children:e.items.map(r=>h.jsxs("li",{className:"flex items-center gap-2.5 text-sm text-gray-400",children:[h.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${n.dot} shrink-0`}),r]},r))})]})},e.title)})]}),h.jsx(ne,{delay:.3,className:"mt-12 text-center",children:h.jsxs(ie.div,{whileHover:{scale:1.02},className:"inline-flex items-center gap-3 px-6 py-3 glass-card hover:bg-white/[0.06] transition-all cursor-default",children:[h.jsx("div",{className:"flex -space-x-2",children:["gold","emerald","amber"].map(e=>h.jsx("div",{className:`w-6 h-6 rounded-full ${lw[e].bg} border-2 border-black`},e))}),h.jsx("span",{className:"text-sm text-gray-300",children:"All layers work together seamlessly"}),h.jsx(xn,{className:"w-4 h-4 text-gray-500"})]})})]})})}const o2=[{question:"Does the AI sound human?",answer:"Yes, we use low-latency NLP models for natural flow. Our voice agents are trained on thousands of real estate conversations and use advanced speech synthesis to deliver responses that are virtually indistinguishable from a human agent. Callers consistently rate the experience as natural and helpful."},{question:"Can it book into my calendar?",answer:"Native integration with Calendly, Google, and Outlook. Our AI agents can check real-time availability, book viewings, schedule callbacks, and send confirmation emails automatically. Your calendar stays up to date without any manual intervention from your team."},{question:"Will this replace my team?",answer:"Not at all. VirtueNex AI is designed to amplify your existing team, not replace them. It handles the repetitive, time-consuming tasks like initial lead responses, data entry, and after-hours inquiries so your agents can focus on building relationships, negotiating deals, and closing sales."},{question:"How long does it take to get set up?",answer:"Most clients are fully live within 21 days. Our onboarding team handles the entire setup  from CRM integration to AI training and testing  so you can hit the ground running without disrupting your existing workflows."},{question:"How quickly will I see results?",answer:"Most teams see measurable time savings within the first week. Our AI agents start handling leads immediately after setup. Within 30 days, you can expect improved response times, higher lead conversion rates, and a significant reduction in manual admin tasks."}];function a2({faq:e,isOpen:t,onToggle:n}){return h.jsxs("div",{className:"border-b border-white/[0.06] last:border-b-0",children:[h.jsxs("button",{onClick:n,className:"w-full flex items-center justify-between gap-4 py-6 text-left group",children:[h.jsx("span",{className:`text-base sm:text-lg font-medium transition-colors duration-200 ${t?"text-white":"text-gray-300 group-hover:text-white"}`,children:e.question}),h.jsx(ie.div,{animate:{rotate:t?180:0},transition:{duration:.2},className:"shrink-0",children:h.jsx(kg,{className:`w-5 h-5 transition-colors duration-200 ${t?"text-gold-400":"text-gray-500"}`})})]}),h.jsx(ka,{initial:!1,children:t&&h.jsx(ie.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:[.25,.46,.45,.94]},className:"overflow-hidden",children:h.jsx("p",{className:"pb-6 text-gray-400 leading-relaxed pr-8",children:e.answer})})})]})}function x1(){const[e,t]=E.useState(null);return h.jsx("section",{className:"relative py-24 sm:py-32",children:h.jsxs("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{className:"text-center mb-14",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full glass-card text-sm text-gold-400 mb-6",children:[h.jsx(f1,{className:"w-3.5 h-3.5"}),"FAQ"]}),h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Common Questions"}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Everything you need to know about working with VirtueNex."})]}),h.jsx(ne,{delay:.15,children:h.jsx("div",{className:"glass-card glow-border p-6 sm:p-8",children:o2.map((n,r)=>h.jsx(a2,{faq:n,isOpen:e===r,onToggle:()=>t(e===r?null:r)},r))})})]})})}function l2(){return h.jsxs("section",{id:"contact",className:"relative py-24 sm:py-32",children:[h.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[400px] bg-gold-500/[0.04] rounded-full blur-[120px] pointer-events-none"}),h.jsx("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:h.jsxs(ne,{children:[h.jsx("p",{className:"text-sm font-medium text-gold-500 tracking-wide uppercase mb-4",children:"Get Started"}),h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Ready to Reclaim Your Time?"}),h.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed mb-10",children:"Book a free discovery call and we'll show you exactly how VirtueNex can automate 2+ hours of your team's daily workload."}),h.jsxs(ae,{to:"/contact",className:"btn-gradient inline-flex items-center justify-center gap-2 px-8 py-4 text-base font-medium text-white rounded-xl group",children:["Get In Touch",h.jsx(xn,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]})]})})]})}const c2=[{name:"Starter",price:"$600",period:"/mo",highlight:!1,note:"Chat Agent + Analytics"},{name:"Standard",price:"$1,500",period:"/mo",highlight:!0,note:"Website + SEO + Everything in Starter"},{name:"Ultra",price:"$3,000",period:"/mo",highlight:!1,note:"Full stack  Phone, Data & Custom"}];function u2(){return h.jsxs("section",{className:"relative py-24 sm:py-32",children:[h.jsx("div",{className:"absolute inset-0 radial-gradient-bottom pointer-events-none"}),h.jsxs("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{className:"text-center mb-12",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gold-500/10 border border-gold-500/20 text-gold-400 text-xs font-medium mb-5",children:[h.jsx(En,{className:"w-3.5 h-3.5"}),"Pricing"]}),h.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:["Transparent packages,"," ",h.jsx("span",{className:"text-gradient-gold",children:"built to scale"})]}),h.jsx("p",{className:"text-gray-400 text-lg max-w-xl mx-auto",children:"Every plan is fully customizable. Add or remove features  pricing adjusts to fit."})]}),h.jsx("div",{className:"grid sm:grid-cols-3 gap-4 mb-10",children:c2.map((e,t)=>h.jsx(ne,{delay:t*.1,children:h.jsxs("div",{className:`rounded-2xl p-6 text-center transition-all duration-300 ${e.highlight?"bg-white/[0.05] border border-gold-500/40 shadow-lg shadow-gold-500/10":"glass-card border border-white/[0.06]"}`,children:[e.highlight&&h.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-gold-500 text-black text-[10px] font-bold mb-3",children:[h.jsx(En,{className:"w-2.5 h-2.5"}),"Most Popular"]}),h.jsx("p",{className:`text-xs font-semibold uppercase tracking-widest mb-2 ${e.highlight?"text-gold-400":"text-gray-500"}`,children:e.name}),h.jsxs("div",{className:"flex items-end justify-center gap-1 mb-2",children:[h.jsx("span",{className:"text-3xl font-bold text-white",children:e.price}),h.jsx("span",{className:"text-gray-500 text-sm mb-1",children:e.period})]}),h.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:e.note})]})},e.name))}),h.jsx(ne,{delay:.3,className:"text-center",children:h.jsxs(ae,{to:"/pricing",className:"inline-flex items-center gap-2 px-7 py-3.5 rounded-xl btn-gradient text-sm font-semibold text-white group",children:["See Full Pricing & Features",h.jsx(xn,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]})})]})]})}function cw(){return h.jsxs(h.Fragment,{children:[h.jsx(YM,{}),h.jsx(XM,{}),h.jsx(t2,{}),h.jsx(r2,{}),h.jsx(i2,{}),h.jsx(x1,{}),h.jsx(u2,{}),h.jsx(l2,{})]})}function d2({service:e}){const{pas:t}=e;return h.jsxs("section",{className:"relative py-20 sm:py-28",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-950/10 via-transparent to-transparent pointer-events-none"}),h.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-red-500/10 border border-red-500/20 text-sm text-red-400 mb-8",children:[h.jsx(hs,{className:"w-3.5 h-3.5"}),"The Problem"]}),h.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6",children:[h.jsx("span",{className:"text-gold-500",children:t.problem.headline.split(" ").slice(0,3).join(" ")})," ",h.jsx("span",{className:"text-white",children:t.problem.headline.split(" ").slice(3).join(" ")})]}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed max-w-3xl mb-12",children:t.problem.description})]}),h.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:t.problem.painPoints.map((n,r)=>h.jsx(ne,{delay:r*.1,children:h.jsxs("div",{className:"glass-card p-5 flex items-start gap-4 group hover:bg-white/[0.06] transition-all duration-300",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-500/10 border border-red-500/20 flex items-center justify-center shrink-0 mt-0.5",children:h.jsx("span",{className:"text-red-400 text-sm font-bold",children:r+1})}),h.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:n})]})},r))})]})]})}function h2({service:e}){const{pas:t}=e;return h.jsxs("section",{className:"relative py-20 sm:py-28",children:[h.jsx("div",{className:"absolute inset-0 radial-glow-hero opacity-30"}),h.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{className:"text-center mb-16",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-amber-500/10 border border-amber-500/20 text-sm text-amber-400 mb-8",children:[h.jsx(v1,{className:"w-3.5 h-3.5"}),"The Real Cost"]}),h.jsxs("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6",children:[h.jsx("span",{className:"text-gold-500",children:t.agitation.headline.split(" ").slice(0,4).join(" ")})," ",h.jsx("span",{className:"text-white",children:t.agitation.headline.split(" ").slice(4).join(" ")})]}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed max-w-3xl mx-auto",children:t.agitation.description})]}),h.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:t.agitation.consequences.map((n,r)=>h.jsx(ne,{delay:r*.15,children:h.jsxs("div",{className:"glass-card glow-border p-7 text-center h-full hover:bg-white/[0.06] transition-all duration-300",children:[h.jsx("div",{className:"text-4xl sm:text-5xl font-bold text-gold-500 mb-3",children:n.stat}),h.jsx("p",{className:"text-white font-medium text-sm mb-3",children:n.label}),h.jsx("p",{className:"text-gray-500 text-sm leading-relaxed",children:n.detail})]})},r))})]})]})}function f2({service:e}){const{pas:t}=e,n=sd[e.color];return h.jsxs("section",{className:"relative py-20 sm:py-28",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-emerald-950/5 to-transparent pointer-events-none"}),h.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{children:[h.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${n.bg} border ${n.border} text-sm ${n.text} mb-8`,children:[h.jsx(Sc,{className:"w-3.5 h-3.5"}),"The Solution"]}),h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6",children:h.jsx("span",{className:"text-white",children:t.solution.headline})}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed max-w-3xl mb-14",children:t.solution.description})]}),h.jsx("div",{className:"grid sm:grid-cols-2 gap-6",children:t.solution.outcomes.map((r,s)=>h.jsx(ne,{delay:s*.1,children:h.jsx("div",{className:"glass-card glow-border p-7 h-full group hover:bg-white/[0.06] transition-all duration-300",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl ${n.bg} border ${n.border} flex items-center justify-center shrink-0`,children:h.jsx(Is,{className:`w-5 h-5 ${n.text}`})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-white font-semibold text-lg mb-2",children:r.title}),h.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:r.description})]})]})})},s))})]})]})}function p2({service:e}){const t=sd[e.color];return h.jsx("section",{className:"relative py-20 sm:py-28",children:h.jsx("div",{className:"relative max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx(ne,{children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-10 lg:gap-16 items-start",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-5",children:"Key Capabilities"}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed mb-8",children:"Everything your team needs to operate at peak efficiency, delivered through our battle-tested AI systems."}),h.jsxs(ae,{to:"/contact",className:"btn-gradient inline-flex items-center gap-2 px-6 py-3 text-sm font-medium text-white rounded-xl group",children:["Get Started",h.jsx(xn,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]})]}),h.jsx("div",{className:"glass-card glow-border p-6 sm:p-8",children:h.jsx("div",{className:"space-y-4",children:e.features.map((n,r)=>h.jsxs(ie.div,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:r*.08},className:"flex items-start gap-3",children:[h.jsx("div",{className:`w-8 h-8 rounded-lg ${t.bg} border ${t.border} flex items-center justify-center shrink-0 mt-0.5`,children:h.jsx(n.icon,{className:`w-4 h-4 ${t.text}`})}),h.jsx("span",{className:"text-sm text-gray-300 leading-relaxed pt-1",children:n.text})]},n.text))})})]})})})})}function m2({faq:e,isOpen:t,onToggle:n}){return h.jsxs("div",{className:"border-b border-white/[0.06] last:border-b-0",children:[h.jsxs("button",{onClick:n,className:"w-full flex items-center justify-between gap-4 py-6 text-left group",children:[h.jsx("span",{className:`text-base sm:text-lg font-medium transition-colors duration-200 ${t?"text-white":"text-gray-300 group-hover:text-white"}`,children:e.question}),h.jsx(ie.div,{animate:{rotate:t?180:0},transition:{duration:.2},className:"shrink-0",children:h.jsx(kg,{className:`w-5 h-5 transition-colors duration-200 ${t?"text-gold-400":"text-gray-500"}`})})]}),h.jsx(ka,{initial:!1,children:t&&h.jsx(ie.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:[.25,.46,.45,.94]},className:"overflow-hidden",children:h.jsx("p",{className:"pb-6 text-gray-400 leading-relaxed pr-8",children:e.answer})})})]})}function g2({service:e}){const[t,n]=E.useState(null);return h.jsx("section",{className:"relative py-20 sm:py-28",children:h.jsxs("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(ne,{className:"text-center mb-14",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full glass-card text-sm text-gold-400 mb-6",children:[h.jsx(f1,{className:"w-3.5 h-3.5"}),"FAQ"]}),h.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Common Questions"}),h.jsxs("p",{className:"text-gray-400 text-lg leading-relaxed",children:["Everything you need to know about ",e.title.toLowerCase(),"."]})]}),h.jsx(ne,{delay:.15,children:h.jsx("div",{className:"glass-card glow-border p-6 sm:p-8",children:e.faqs.map((r,s)=>h.jsx(m2,{faq:r,isOpen:t===s,onToggle:()=>n(t===s?null:s)},s))})})]})})}function id({service:e}){const t=sd[e.color];return h.jsxs("div",{children:[h.jsxs("section",{className:"relative pt-32 pb-16 sm:pt-40 sm:pb-20 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black"}),h.jsx("div",{className:"absolute inset-0 radial-glow-hero"}),h.jsx("div",{className:"absolute top-1/2 left-1/3 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px]",children:h.jsx(ie.div,{animate:{scale:[1,1.15,1],opacity:[.08,.13,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-full blur-[180px]",style:{background:"rgba(120, 40, 200, 0.15)"}})}),h.jsx("div",{className:"absolute top-[40%] right-1/3 translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px]",children:h.jsx(ie.div,{animate:{scale:[1,1.2,1],opacity:[.06,.11,.06]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute inset-0 rounded-full blur-[150px]",style:{background:"rgba(234, 179, 8, 0.15)"}})}),h.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx(ie.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-8",children:h.jsxs(ae,{to:"/",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-300 transition-colors",children:[h.jsx(SM,{className:"w-4 h-4"}),"Back to Home"]})}),h.jsxs(ie.div,{initial:{opacity:0,y:20,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,delay:.1},className:"text-center",children:[h.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${t.bg} border ${t.border} text-sm ${t.text} mb-6`,children:[h.jsx(e.icon,{className:"w-3.5 h-3.5"}),e.subtitle]}),h.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6",children:e.title}),h.jsx("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto leading-relaxed",children:e.heroDescription})]})]})]}),h.jsx(d2,{service:e}),h.jsx(h2,{service:e}),h.jsx(f2,{service:e}),h.jsx(p2,{service:e}),h.jsx(g2,{service:e}),h.jsxs("section",{className:"relative py-20 sm:py-24",children:[h.jsx("div",{className:"absolute inset-0 radial-glow-hero opacity-50"}),h.jsx("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:h.jsxs(ne,{children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-6",children:"Ready to Get Started?"}),h.jsxs("p",{className:"text-gray-400 text-lg leading-relaxed mb-8",children:["Book a 15-minute discovery call and we will map out exactly how"," ",e.title.toLowerCase()," can save your team time."]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs(ae,{to:"/contact",className:"btn-gradient inline-flex items-center justify-center gap-2 px-8 py-4 text-base font-medium text-white rounded-xl group",children:["Book Your Discovery Call",h.jsx(xn,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]}),h.jsxs(ae,{to:"/pricing",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-base font-medium text-gray-300 hover:text-white rounded-xl glass-card border border-white/[0.08] hover:border-white/[0.16] transition-all duration-200",children:[h.jsx(UM,{className:"w-4 h-4 text-gold-400"}),"View Pricing"]})]}),h.jsx("div",{className:"flex items-center justify-center gap-6 mt-8",children:["Free audit","No commitment","15-minute call"].map(n=>h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[h.jsx(Is,{className:"w-3.5 h-3.5 text-emerald-500"}),n]},n))})]})})]})]})}function y2(){return h.jsx(id,{service:Lr[0]})}function v2(){return h.jsx(id,{service:Lr[1]})}function w2(){return h.jsx(id,{service:Lr[2]})}function x2(){return h.jsx(id,{service:Lr[3]})}const _2=[{number:"01",icon:Cg,title:"Workflow Audit",subtitle:"We map your bottlenecks",description:"We start with a deep-dive into your team's daily operations. Every phone call, every CRM entry, every lead follow-up is analysed to identify exactly where time is being wasted and revenue is leaking.",details:["Full analysis of your current tech stack and workflows","Identify the top 3 time-draining tasks for your agents","Quantify the revenue impact of slow response times","Benchmark against top-performing teams in your market"],color:"gold"},{number:"02",icon:w1,title:"Custom Build",subtitle:"We engineer your AI systems",description:"No templates. No generic chatbots. We build bespoke AI systems trained on your specific listings, your market terminology, and your team's voice. Every interaction is designed to feel like it came from your best agent.",details:["AI trained on your brand voice and listing inventory","Custom conversation flows for your buyer and seller journeys","Integration architecture designed for your specific CRM","Rigorous testing with real-world scenarios from your market"],color:"emerald"},{number:"03",icon:LM,title:"Integration",subtitle:"We connect everything seamlessly",description:"Your AI systems plug directly into your existing tools. CRM, calendar, email, phone system, property portals. Everything syncs in real-time with zero disruption to your current operations.",details:["Direct integration with your CRM (Follow Up Boss, KvCORE, etc.)","Calendar sync for automated viewing bookings","Portal connections for instant lead capture","End-to-end encryption for all data transfers"],color:"amber"},{number:"04",icon:DM,title:"Launch & Optimise",subtitle:"We go live and keep improving",description:"Your AI systems go live and start handling leads immediately. But we do not walk away. We monitor performance, analyse conversion data, and continuously refine your systems to maximise results.",details:["Guided launch with real-time monitoring","Weekly performance reports with actionable insights","Continuous AI refinement based on conversation data","Dedicated account manager for ongoing support"],color:"rose"}],b2={gold:{bg:"bg-gold-500/10",border:"border-gold-500/20",text:"text-gold-400",line:"bg-gold-500/30"},emerald:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",line:"bg-emerald-500/30"},amber:{bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-400",line:"bg-amber-500/30"},rose:{bg:"bg-rose-500/10",border:"border-rose-500/20",text:"text-rose-400",line:"bg-rose-500/30"}};function S2(){return h.jsxs("div",{children:[h.jsxs("section",{className:"relative pt-32 pb-16 sm:pt-40 sm:pb-20 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black"}),h.jsx("div",{className:"absolute inset-0 radial-glow-hero"}),h.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px]",children:h.jsx("div",{className:"absolute inset-0 rounded-full bg-gold-500 blur-[150px] opacity-[0.07]"})}),h.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:h.jsxs(ie.div,{initial:{opacity:0,y:20,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.6},children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gold-500/10 border border-gold-500/20 text-sm text-gold-400 mb-6",children:[h.jsx(w1,{className:"w-3.5 h-3.5"}),"Our Process"]}),h.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6",children:[h.jsx("span",{className:"text-gold-500",children:"Four Steps"})," ",h.jsx("span",{className:"text-white",children:"to Automation"})]}),h.jsx("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto leading-relaxed",children:"From initial audit to full deployment, we handle everything. Your team stays focused on selling while we build, integrate, and optimise your AI systems."})]})})]}),h.jsx("section",{className:"relative py-20 sm:py-28",children:h.jsx("div",{className:"relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-8 md:left-1/2 md:-translate-x-px top-0 bottom-0 w-px bg-gradient-to-b from-gold-500/30 via-emerald-500/30 via-amber-500/30 to-rose-500/30 hidden sm:block"}),_2.map((e,t)=>{const n=b2[e.color],r=t%2===0;return h.jsx(ne,{delay:t*.15,children:h.jsxs("div",{className:`relative flex items-start gap-6 md:gap-12 mb-16 sm:mb-24 last:mb-0 ${r?"md:flex-row":"md:flex-row-reverse"}`,children:[h.jsx("div",{className:`hidden sm:block absolute left-8 md:left-1/2 -translate-x-1/2 w-4 h-4 rounded-full ${n.bg} border-2 ${n.border} z-10`,children:h.jsx("div",{className:`absolute inset-1 rounded-full ${n.line}`})}),h.jsx("div",{className:`flex-1 ${r?"md:text-right md:pr-16":"md:text-left md:pl-16"} sm:pl-20 md:pl-0`,children:h.jsxs("div",{className:"glass-card glow-border p-7 sm:p-8 hover:bg-white/[0.06] transition-all duration-300",children:[h.jsxs("div",{className:`flex items-center gap-4 mb-5 ${r?"md:flex-row-reverse":""}`,children:[h.jsx("div",{className:`w-12 h-12 rounded-2xl ${n.bg} border ${n.border} flex items-center justify-center shrink-0`,children:h.jsx(e.icon,{className:`w-5 h-5 ${n.text}`})}),h.jsxs("div",{className:r?"md:text-right":"",children:[h.jsxs("span",{className:`text-xs font-bold ${n.text} uppercase tracking-widest`,children:["Step ",e.number]}),h.jsx("h3",{className:"text-xl font-bold text-white",children:e.title})]})]}),h.jsx("p",{className:`text-sm text-gold-400 font-medium mb-3 ${r?"md:text-right":""}`,children:e.subtitle}),h.jsx("p",{className:`text-gray-400 text-sm leading-relaxed mb-6 ${r?"md:text-right":""}`,children:e.description}),h.jsx("ul",{className:`space-y-2.5 ${r?"md:flex md:flex-col md:items-end":""}`,children:e.details.map(s=>h.jsxs("li",{className:`flex items-start gap-2.5 text-sm text-gray-300 ${r?"md:flex-row-reverse md:text-right":""}`,children:[h.jsx(Is,{className:`w-4 h-4 ${n.text} shrink-0 mt-0.5`}),h.jsx("span",{children:s})]},s))})]})}),h.jsx("div",{className:"hidden md:block flex-1"})]})},e.number)})]})})}),h.jsxs("section",{className:"relative py-20 sm:py-24",children:[h.jsx("div",{className:"absolute inset-0 radial-glow-hero opacity-50"}),h.jsx("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:h.jsxs(ne,{children:[h.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white mb-6",children:"Ready to Start Your Audit?"}),h.jsx("p",{className:"text-gray-400 text-lg leading-relaxed mb-8",children:"Book a free 15-minute discovery call. We will identify the biggest time-wasters in your workflow and show you exactly where AI can help."}),h.jsxs(ae,{to:"/contact",className:"btn-gradient inline-flex items-center justify-center gap-2 px-8 py-4 text-base font-medium text-white rounded-xl group",children:["Book Your Free Audit",h.jsx(xn,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"})]}),h.jsx("div",{className:"flex items-center justify-center gap-6 mt-8",children:["Free audit","No commitment","15-minute call"].map(e=>h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[h.jsx(Is,{className:"w-3.5 h-3.5 text-emerald-500"}),e]},e))})]})})]})]})}function E2(){const e=E.useRef(null);return E.useEffect(()=>{const t=e.current;if(!t)return;const n=()=>{window.Calendly&&window.Calendly.initInlineWidget({url:"https://calendly.com/erdemerolsuer/virtuenex?background_color=fa4997&primary_color=e4cc25",parentElement:t})};n();const r=new MutationObserver(()=>n());return r.observe(document.head,{childList:!0,subtree:!0}),()=>r.disconnect()},[]),h.jsx("div",{ref:e,className:"rounded-xl overflow-hidden",style:{minWidth:320,height:700}})}function k2(){const[e,t]=E.useState({name:"",email:"",phone:"",company:"",teamSize:"",message:""}),[n,r]=E.useState("idle"),s=o=>{t(a=>({...a,[o.target.name]:o.target.value}))},i=async o=>{o.preventDefault(),r("sending");try{await fetch("https://hook.eu2.make.com/p2c5rw51yy4s1evqd8gjqmd8hkt7yano",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r("sent"),t({name:"",email:"",phone:"",company:"",teamSize:"",message:""}),setTimeout(()=>r("idle"),4e3)}catch{r("idle")}};return h.jsxs("div",{children:[h.jsxs("section",{className:"relative pt-32 pb-16 sm:pt-40 sm:pb-20 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black"}),h.jsx("div",{className:"absolute inset-0 radial-glow-hero"}),h.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px]",children:h.jsx("div",{className:"absolute inset-0 rounded-full bg-gold-500 blur-[150px] opacity-[0.07]"})}),h.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:h.jsxs(ie.div,{initial:{opacity:0,y:20,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.6},children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gold-500/10 border border-gold-500/20 text-sm text-gold-400 mb-6",children:[h.jsx(aw,{className:"w-3.5 h-3.5"}),"Get In Touch"]}),h.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6",children:[h.jsx("span",{className:"text-gold-500",children:"Let's Build"})," ",h.jsx("span",{className:"text-white",children:"Your AI System"})]}),h.jsx("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto leading-relaxed",children:"Book a free discovery call and we'll show you exactly how VirtueNex can automate 2+ hours of your team's daily workload."})]})})]}),h.jsx("section",{className:"relative py-16 sm:py-24",children:h.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-16 max-w-6xl mx-auto",children:[h.jsx(ne,{delay:.1,children:h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"glass-card glow-border p-7",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gold-500/10 border border-gold-500/20 flex items-center justify-center",children:h.jsx(IM,{className:"w-5 h-5 text-gold-400"})}),h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Schedule a Discovery Call"})]}),h.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-6",children:"A 15-minute, no-pressure conversation about your team's workflow and where AI can save you the most time."}),h.jsx("ul",{className:"space-y-3 mb-8",children:["Free workflow audit","Custom automation roadmap","ROI projection for your team"].map(o=>h.jsxs("li",{className:"flex items-center gap-2.5 text-sm text-gray-300",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-400"}),o]},o))}),h.jsx(E2,{})]})})}),h.jsx(ne,{delay:.2,children:h.jsxs("div",{className:"space-y-5",children:[h.jsxs("form",{onSubmit:i,className:"glass-card glow-border p-7 sm:p-8",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),h.jsx("span",{className:"text-xs text-gray-500 font-mono uppercase tracking-widest",children:"sys.contact.init()"})]}),h.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contact-name",className:"block text-xs font-mono text-gray-500 uppercase tracking-wider mb-2",children:"full_name"}),h.jsx("input",{type:"text",id:"contact-name",name:"name",value:e.name,onChange:s,placeholder:"John Smith",required:!0,className:"input-field font-mono text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contact-email",className:"block text-xs font-mono text-gray-500 uppercase tracking-wider mb-2",children:"email_address"}),h.jsx("input",{type:"email",id:"contact-email",name:"email",value:e.email,onChange:s,placeholder:"john@realestate.com",required:!0,className:"input-field font-mono text-sm"})]})]}),h.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contact-phone",className:"block text-xs font-mono text-gray-500 uppercase tracking-wider mb-2",children:"phone_number"}),h.jsx("input",{type:"tel",id:"contact-phone",name:"phone",value:e.phone,onChange:s,placeholder:"+1 (555) 000-0000",required:!0,className:"input-field font-mono text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"contact-company",className:"block text-xs font-mono text-gray-500 uppercase tracking-wider mb-2",children:"company_name"}),h.jsx("input",{type:"text",id:"contact-company",name:"company",value:e.company,onChange:s,placeholder:"Acme Realty",required:!0,className:"input-field font-mono text-sm"})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{htmlFor:"contact-team",className:"block text-xs font-mono text-gray-500 uppercase tracking-wider mb-2",children:"team_size"}),h.jsxs("select",{id:"contact-team",name:"teamSize",value:e.teamSize,onChange:s,required:!0,className:"input-field font-mono text-sm appearance-none",children:[h.jsx("option",{value:"",className:"bg-black",children:"Select team size"}),h.jsx("option",{value:"1-5",className:"bg-black",children:"1-5 agents"}),h.jsx("option",{value:"6-15",className:"bg-black",children:"6-15 agents"}),h.jsx("option",{value:"16-50",className:"bg-black",children:"16-50 agents"}),h.jsx("option",{value:"50+",className:"bg-black",children:"50+ agents"})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{htmlFor:"contact-message",className:"block text-xs font-mono text-gray-500 uppercase tracking-wider mb-2",children:"message_body"}),h.jsx("textarea",{id:"contact-message",name:"message",value:e.message,onChange:s,placeholder:"What's your biggest daily time drain? What CRM do you use?",rows:4,required:!0,className:"input-field font-mono text-sm resize-none"})]}),h.jsx("button",{type:"submit",disabled:n==="sending",className:"w-full btn-gradient inline-flex items-center justify-center gap-2 px-7 py-3.5 text-base font-medium text-white disabled:opacity-70 rounded-xl",children:n==="sending"?h.jsxs(h.Fragment,{children:[h.jsx(AM,{className:"w-4 h-4 animate-spin"}),h.jsx("span",{className:"font-mono text-sm",children:"transmitting..."})]}):n==="sent"?h.jsx("span",{className:"font-mono text-sm",children:"transmission_complete // we'll be in touch"}):h.jsxs(h.Fragment,{children:[h.jsx($M,{className:"w-4 h-4"}),h.jsx("span",{children:"Send Message"})]})})]}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{icon:RM,label:"AI-First",detail:"Custom built"},{icon:TM,label:"API-Ready",detail:"Full integration"},{icon:aw,label:"Dev-Ops",detail:"Managed for you"}].map(o=>h.jsxs("div",{className:"glass-card p-4 text-center hover:bg-white/[0.06] transition-all duration-300",children:[h.jsx(o.icon,{className:"w-5 h-5 text-gold-400 mx-auto mb-2"}),h.jsx("p",{className:"text-xs font-semibold text-white",children:o.label}),h.jsx("p",{className:"text-[10px] text-gray-500 mt-0.5",children:o.detail})]},o.label))}),h.jsxs("div",{className:"glass-card p-6",children:[h.jsxs("h4",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[h.jsx(xn,{className:"w-4 h-4 text-gold-400"}),"What happens next?"]}),h.jsx("div",{className:"space-y-4",children:[{step:"01",title:"We review your message",desc:"Our team reads every submission and tailors the response to your setup."},{step:"02",title:"Discovery call scheduled",desc:"A 15-minute no-pressure call to map out your workflow and goals."},{step:"03",title:"Custom roadmap delivered",desc:"You leave with a clear automation plan and projected ROI  no strings attached."}].map(o=>h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-7 h-7 rounded-lg bg-gold-500/10 border border-gold-500/20 flex items-center justify-center shrink-0 mt-0.5",children:h.jsx("span",{className:"text-[10px] font-bold text-gold-400",children:o.step})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-white",children:o.title}),h.jsx("p",{className:"text-xs text-gray-500 mt-0.5 leading-relaxed",children:o.desc})]})]},o.step))}),h.jsxs("div",{className:"mt-5 pt-4 border-t border-white/[0.06] flex items-center gap-3",children:[h.jsx(Is,{className:"w-4 h-4 text-emerald-400 shrink-0"}),h.jsx("p",{className:"text-xs text-gray-500",children:"No commitment required. Cancel or adjust anytime."})]})]})]})})]})})}),h.jsx(x1,{})]})}const T2=[{number:"1",title:"Information We Collect",content:h.jsx("p",{className:"text-gray-400 leading-relaxed",children:"We only collect information that you voluntarily provide to us:"}),list:[{label:"Contact Forms",detail:"Name, email address, company details, and any project information you share."},{label:"Calendly",detail:"Information required to schedule a meeting, such as your name, email, and time zone."}]},{number:"2",title:"How We Use Your Data",content:h.jsxs("div",{className:"space-y-3 text-gray-400 leading-relaxed",children:[h.jsx("p",{children:"We use your data strictly to communicate with you regarding your inquiry. Specifically:"}),h.jsxs("ul",{className:"space-y-2 pl-4",children:[h.jsxs("li",{className:"flex items-start gap-2.5",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-400 mt-2 shrink-0"}),h.jsx("span",{children:"Data submitted via our website form is sent to Make.com via a secure webhook."})]}),h.jsxs("li",{className:"flex items-start gap-2.5",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-400 mt-2 shrink-0"}),h.jsx("span",{children:"This data is then routed to a private Telegram bot to notify our team instantly so we can respond to you faster."})]}),h.jsxs("li",{className:"flex items-start gap-2.5",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-400 mt-2 shrink-0"}),h.jsx("span",{children:"We do not sell, rent, or trade your personal information to third parties for marketing purposes."})]})]})]})},{number:"3",title:"Third-Party Services",content:h.jsx("p",{className:"text-gray-400 leading-relaxed",children:"To provide a seamless experience, we use the following trusted processors:"}),list:[{label:"Calendly",detail:"For meeting scheduling."},{label:"Make.com",detail:"For workflow automation."},{label:"Telegram",detail:"For internal team notifications."},{label:"Google Cloud / Hosting Providers",detail:"Where our website and backend services are hosted."}]},{number:"4",title:"Data Security",content:h.jsx("p",{className:"text-gray-400 leading-relaxed",children:"We implement industry-standard security measures to ensure your data is handled safely during the automation process. However, please note that no method of transmission over the internet is 100% secure."})},{number:"5",title:"Your Rights",content:h.jsx("p",{className:"text-gray-400 leading-relaxed",children:"You have the right to:"}),list:[{detail:"Request access to the data we have about you."},{detail:"Request that we delete your data from our internal notification logs."},{detail:"Withdraw consent for us to contact you at any time."}]},{number:"6",title:"Contact Us",content:h.jsxs("p",{className:"text-gray-400 leading-relaxed",children:["If you have any questions regarding this Privacy Policy or wish to exercise your data rights, please visit our"," ",h.jsx(ae,{to:"/contact",className:"text-gold-400 hover:text-gold-300 transition-colors underline underline-offset-2",children:"Contact Page"})," ","to get in touch with our team."]})}];function C2(){return h.jsxs("div",{children:[h.jsxs("section",{className:"relative pt-32 pb-16 sm:pt-40 sm:pb-20 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black"}),h.jsx("div",{className:"absolute inset-0 radial-glow-hero"}),h.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px]",children:h.jsx("div",{className:"absolute inset-0 rounded-full bg-gold-500 blur-[150px] opacity-[0.07]"})}),h.jsx("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:h.jsxs(ie.div,{initial:{opacity:0,y:20,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.6},children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gold-500/10 border border-gold-500/20 text-sm text-gold-400 mb-6",children:[h.jsx(y1,{className:"w-3.5 h-3.5"}),"Legal"]}),h.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6",children:[h.jsx("span",{className:"text-white",children:"Privacy "}),h.jsx("span",{className:"text-gold-500",children:"Policy"})]}),h.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated: February 25, 2026"})]})})]}),h.jsx("section",{className:"relative py-16 sm:py-24",children:h.jsxs("div",{className:"relative max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx(ie.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.6,delay:.15},className:"glass-card glow-border p-8 sm:p-10 mb-10",children:h.jsx("p",{className:"text-gray-300 leading-relaxed text-base",children:"At VirtueNex Automation, we take your privacy seriously. This policy explains how we collect, use, and protect your information when you interact with our website, use our contact forms, or book a meeting via Calendly."})}),h.jsx("div",{className:"space-y-8",children:T2.map((e,t)=>h.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+t*.07},className:"glass-card p-7 sm:p-8",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg bg-gold-500/10 border border-gold-500/20 flex items-center justify-center shrink-0 mt-0.5",children:h.jsx("span",{className:"text-xs font-bold text-gold-400",children:e.number})}),h.jsx("h2",{className:"text-lg font-semibold text-white pt-1",children:e.title})]}),h.jsxs("div",{className:"pl-12",children:[e.content,e.list&&h.jsx("ul",{className:"mt-4 space-y-3",children:e.list.map((n,r)=>h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold-400 mt-2 shrink-0"}),h.jsx("span",{className:"text-gray-400 text-sm leading-relaxed",children:"label"in n&&n.label?h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"text-gray-200 font-medium",children:[n.label,":"]})," ",n.detail]}):n.detail})]},r))})]})]},e.number))})]})})]})}const I2=[{name:"Starter",price:600,bestFor:"Small real estate teams taking their first step into AI automation.",features:[{icon:m1,text:"Chat Agent + Agent Design"},{icon:kM,text:"Weekly Analytics"}],highlighted:!1,badge:null},{name:"Standard",price:1500,bestFor:"Growing agencies ready to build a complete AI-powered digital presence.",features:[{icon:sw,text:"Everything in Starter"},{icon:NM,text:"Brand New Website with Maintenance"},{icon:Cg,text:"SEO & AEO Optimization"}],highlighted:!0,badge:"Most Popular"},{name:"Ultra",price:3e3,bestFor:"High-volume teams and brokerages needing a full-stack AI ecosystem.",features:[{icon:sw,text:"Everything in Standard"},{icon:np,text:"Phone Agent"},{icon:g1,text:"Data Sync Automation"},{icon:Ig,text:"Custom Needs"}],highlighted:!1,badge:null}];function R2(){return h.jsxs("main",{className:"min-h-screen bg-black pt-28 pb-24",children:[h.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-20",children:h.jsxs(ne,{children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gold-500/10 border border-gold-500/20 text-gold-400 text-xs font-medium mb-6",children:[h.jsx(En,{className:"w-3.5 h-3.5"}),"Flexible Pricing"]}),h.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white leading-tight tracking-tight mb-5",children:["Simple, Transparent"," ",h.jsx("span",{className:"text-gradient-gold",children:"Pricing"})]}),h.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:"Every package is fully customizable. Add or remove features to match your team's exact needs  pricing adjusts accordingly."})]})}),h.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-20",children:h.jsx("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8 items-start",children:I2.map((e,t)=>h.jsx(ne,{delay:t*.1,children:h.jsxs("div",{className:`relative flex flex-col h-full rounded-2xl p-8 transition-all duration-300 ${e.highlighted?"bg-white/[0.05] border border-gold-500/40 shadow-2xl shadow-gold-500/10":"glass-card border border-white/[0.06] hover:border-white/[0.12]"}`,children:[e.highlighted&&h.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:h.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-gold-500 text-black text-xs font-semibold",children:[h.jsx(En,{className:"w-3 h-3"}),e.badge]})}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:`text-sm font-semibold uppercase tracking-widest mb-3 ${e.highlighted?"text-gold-400":"text-gray-400"}`,children:e.name}),h.jsxs("div",{className:"flex items-end gap-1.5 mb-1",children:[h.jsxs("span",{className:"text-5xl font-bold text-white",children:["$",e.price.toLocaleString()]}),h.jsx("span",{className:"text-gray-500 mb-2 text-sm",children:"/ month"})]})]}),h.jsxs("div",{className:`rounded-xl p-4 mb-6 ${e.highlighted?"bg-gold-500/10 border border-gold-500/20":"bg-white/[0.03] border border-white/[0.06]"}`,children:[h.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-1",children:"Best For"}),h.jsx("p",{className:`text-sm leading-relaxed ${e.highlighted?"text-gray-200":"text-gray-400"}`,children:e.bestFor})]}),h.jsx("ul",{className:"space-y-3 mb-8 flex-1",children:e.features.map(n=>h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`mt-0.5 w-5 h-5 rounded-md flex items-center justify-center shrink-0 ${e.highlighted?"bg-gold-500/20":"bg-white/[0.06]"}`,children:h.jsx(n.icon,{className:`w-3 h-3 ${e.highlighted?"text-gold-400":"text-gray-400"}`})}),h.jsx("span",{className:"text-sm text-gray-300",children:n.text})]},n.text))}),h.jsxs(ae,{to:"/contact",className:`w-full inline-flex items-center justify-center gap-2 py-3 px-6 rounded-xl text-sm font-semibold transition-all duration-200 ${e.highlighted?"btn-gradient text-white":"bg-white/[0.06] text-white hover:bg-white/[0.10] border border-white/[0.08]"}`,children:["Get Started",h.jsx(xn,{className:"w-4 h-4"})]})]})},e.name))})}),h.jsx("section",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx(ne,{children:h.jsxs("div",{className:"glass-card border border-white/[0.08] p-8 text-center",children:[h.jsx("div",{className:"w-10 h-10 rounded-xl bg-gold-500/10 border border-gold-500/20 flex items-center justify-center mx-auto mb-4",children:h.jsx(Ig,{className:"w-5 h-5 text-gold-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Fully Customizable"}),h.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-6",children:"These packages are starting points, not limits. Mix and match features across tiers, remove what you don't need, or add capabilities from other plans. Pricing reflects your final configuration."}),h.jsxs(ae,{to:"/contact",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl btn-gradient text-sm font-semibold text-white",children:["Talk to Us About a Custom Package",h.jsx(xn,{className:"w-4 h-4"})]})]})})})]})}function od(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function N2(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}const A2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Rg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class P2 extends Rg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uw extends Rg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dw extends Rg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rp||(rp={}));class j2{constructor(t,{headers:n={},customFetch:r,region:s=rp.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=A2(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return N2(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=r;let f={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let x=u;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),u?(x=o.signal,u.addEventListener("abort",()=>o.abort())):x=o.signal);const g=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:v,signal:x}).catch(S=>{throw new P2(S)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new uw(g);if(!g.ok)throw new dw(g);let w=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield g.json():w==="application/octet-stream"||w==="application/pdf"?_=yield g.blob():w==="text/event-stream"?_=g:w==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(a){return{data:null,error:a,response:a instanceof dw||a instanceof uw?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var O2=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},M2=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var d,f;if(n.method!=="HEAD"){var p;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=g:a=JSON.parse(g))}const v=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),x=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var m;const v=await i.text();try{o=JSON.parse(v),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&v===""?(c=204,u="No Content"):o={message:v}}if(o&&n.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&n.shouldThrowOnError)throw new O2(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",l="",c="";const u=i==null?void 0:i.cause;if(u){var d,f,p,m;const g=(d=u==null?void 0:u.message)!==null&&d!==void 0?d:"",y=(f=u==null?void 0:u.code)!==null&&f!==void 0?f:"";a=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(m=u==null?void 0:u.name)!==null&&m!==void 0?m:"Error"}: ${g}`,y&&(a+=` (${y})`),u!=null&&u.stack&&(a+=`
${u.stack}`)}else{var v;a=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}const x=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((u==null?void 0:u.name)==="HeadersOverflowError"||(u==null?void 0:u.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(l+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},L2=class extends M2{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const hw=new RegExp("[,()]");var Qs=class extends L2{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&hw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&hw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},D2=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new Qs({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Qs({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new Qs({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Qs({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Qs({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Aa(e){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(e)}function $2(e,t){if(Aa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F2(e){var t=$2(e,"string");return Aa(t)=="symbol"?t:t+""}function U2(e,t,n){return(t=F2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(n),!0).forEach(function(r){U2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var B2=class _1{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,c)=>{const u=new AbortController,d=setTimeout(()=>u.abort(),i),f=c==null?void 0:c.signal;if(f){if(f.aborted)return clearTimeout(d),a(l,c);const p=()=>{clearTimeout(d),u.abort()};return f.addEventListener("abort",p,{once:!0}),a(l,Wl(Wl({},c),{},{signal:u.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",p)})}return a(l,Wl(Wl({},c),{},{signal:u.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new D2(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new _1(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(u)),d=r&&Object.values(n).some(u);d?(a="POST",c=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(a="POST",c=n);const f=new Headers(this.headers);return d?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Qs({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class V2{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const z2="2.98.0",W2=`realtime-js/${z2}`,H2="1.0.0",b1="2.0.0",pw=b1,sp=1e4,q2=1e3,K2=100;var ur;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ur||(ur={}));var Ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ve||(Ve={}));var dn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dn||(dn={}));var ip;(function(e){e.websocket="websocket"})(ip||(ip={}));var is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(is||(is={}));class G2{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(p),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,a.length),m.setUint8(v++,o.length),m.setUint8(v++,c.length),m.setUint8(v++,d.length),m.setUint8(v++,n),Array.from(l,g=>m.setUint8(v++,g.charCodeAt(0))),Array.from(a,g=>m.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>m.setUint8(v++,g.charCodeAt(0))),Array.from(c,g=>m.setUint8(v++,g.charCodeAt(0))),Array.from(d,g=>m.setUint8(v++,g.charCodeAt(0)));var x=new Uint8Array(p.byteLength+r.byteLength);return x.set(new Uint8Array(p),0),x.set(new Uint8Array(r),p.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+s));l=l+s;const u=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+o));l=l+o;const f=t.slice(l,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,m={type:this.BROADCAST_EVENT,event:u,payload:p};return o>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class S1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ye||(ye={}));const mw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Y2(o,e,t,s),i),{}):{}},Y2=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?E1(i,o):op(o)},E1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Z2(t,n)}switch(e){case ye.bool:return J2(t);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return X2(t);case ye.json:case ye.jsonb:return Q2(t);case ye.timestamp:return eL(t);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return op(t);default:return op(t)}},op=e=>e,J2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},X2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Q2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Z2=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>E1(t,a))}return e},eL=e=>typeof e=="string"?e.replace(" ","T"):e,k1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hh{constructor(t,n,r={},s=sp){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gw||(gw={}));class ea{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ea.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ea.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ea.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),m=u.filter(x=>p.indexOf(x.presence_ref)<0),v=d.filter(x=>f.indexOf(x.presence_ref)<0);m.length>0&&(a[c]=m),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yw||(yw={}));var ta;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ta||(ta={}));var Mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class xi{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hh(this,dn.join,this.params,this.timeout),this.rejoinTimer=new S1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ve.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ea(this),this.broadcastEndpointURL=k1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ve.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[ta.PRESENCE]&&this.bindings[ta.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Mn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Mn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,g=[];for(let y=0;y<x;y++){const w=v[y],{filter:{event:_,schema:S,table:k,filter:b}}=w,T=p&&p[y];if(T&&T.event===_&&xi.isFilterValueEqual(T.schema,S)&&xi.isFilterValueEqual(T.table,k)&&xi.isFilterValueEqual(T.filter,b))g.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=Ve.errored,t==null||t(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Mn.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ve.errored,t==null||t(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ve.joined&&t===ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ve.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new hh(this,dn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ve.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new hh(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>K2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=dn;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,v,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,v,x,g,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:x,commit_timestamp:g,type:y,errors:w}=m;f=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===Ve.closed}_isJoined(){return this.state===Ve.joined}_isJoining(){return this.state===Ve.joining}_isLeaving(){return this.state===Ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&xi.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dn.close,{},t)}_onError(t){this._on(dn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mw(t.columns,t.old_record)),n}}const fh=()=>{},Hl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tL=[1e3,2e3,5e3,1e4],nL=1e4,rL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sL{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sp,this.transport=null,this.heartbeatIntervalMs=Hl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fh,this.ref=0,this.reconnectTimer=null,this.vsn=pw,this.logger=fh,this.conn=null,this.sendBuffer=[],this.serializer=new G2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ip.websocket}`,this.httpEndpoint=k1(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=V2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ur.connecting:return is.Connecting;case ur.open:return is.Open;case ur.closing:return is.Closing;default:return is.Closed}}isConnected(){return this.connectionState()===is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new xi(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(q2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Hl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ur.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ur.open||this.conn.readyState===ur.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(n=>{n.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(n=>{n._isJoining()&&(n.joinPush.sent=!1,n.joinPush.send())})),this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(dn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([rL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:W2};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(dn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new S1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,c,u,d,f,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:sp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Hl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:fh,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:pw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>tL[m-1]||nL,this.vsn){case H2:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(m,v)=>v(JSON.stringify(m)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(m,v)=>v(JSON.parse(m));break;case b1:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Pa=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iL(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function oL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function aL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const a=iL(e.baseUrl,r,s),l=await oL(e.auth),c=await t(a,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),f=d&&u?JSON.parse(u):u;if(!c.ok){const p=d?f:void 0,m=p==null?void 0:p.error;throw new Pa((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:f}}}}function ql(e){return e.join("")}var lL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ql(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ql(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ql(e.namespace)}`}),!0}catch(t){if(t instanceof Pa&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Pa&&n.status===409)return;throw n}}};function Ws(e){return e.join("")}var cL=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ws(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ws(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ws(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ws(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Pa&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Pa&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},uL=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=aL({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new lL(this.client,t),this.tableOps=new cL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ad=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function ld(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Kl=class extends ad{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},T1=class extends ad{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const dL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ap=e=>{if(Array.isArray(e))return e.map(n=>ap(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ap(r)}),t},fL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ja(e){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}function pL(e,t){if(ja(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mL(e){var t=pL(e,"string");return ja(t)=="symbol"?t:t+""}function gL(e,t,n){return(t=mL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(r){gL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const ww=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},yL=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Kl(ww(o),i,a,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new Kl(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new Kl(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new Kl(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new T1(ww(e),e,r))},vL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?F(F({},s),n):(hL(r)?(s.headers=F({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),F(F({},s),n))};async function No(e,t,n,r,s,i,o){return new Promise((a,l)=>{e(n,vL(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;if(o==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>yL(c,l,r,o))})}function C1(e="storage"){return{get:async(t,n,r,s)=>No(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>No(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>No(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>No(t,"HEAD",n,F(F({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>No(t,"DELETE",n,s,i,r,e)}}const wL=C1("storage"),{get:Oa,post:cn,put:lp,head:xL,remove:Ng}=wL,Ot=C1("vectors");var ao=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=dL(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=F(F({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ld(n))return{data:null,error:n};throw n}}},_L=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ld(t))return{data:null,error:t};throw t}}};let I1;I1=Symbol.toStringTag;var bL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[I1]="BlobDownloadBuilder",this.promise=null}asStream(){return new _L(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ld(t))return{data:null,error:t};throw t}}};const SL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var EL=class extends ao{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=F(F({},xw),r);let a=F(F({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=F(F({},a),r.headers));const c=s._removeEmptyFolders(t),u=s._getFinalPath(c),d=await(e=="PUT"?lp:cn)(s.fetch,`${s.url}/object/${u}`,i,F({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let l;const c=F({upsert:xw.upsert},r),u=F(F({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:i,fullPath:(await lp(s.fetch,a.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=F({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await cn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),a=o.searchParams.get("token");if(!a)throw new ad("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await cn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await cn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await cn(r.fetch,`${r.url}/object/sign/${s}`,F({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await cn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>F(F({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(e),a=()=>Oa(this.fetch,`${this.url}/${r}/${o}${i}`,{headers:this.headers,noResolveJson:!0},n);return new bL(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>ap(await Oa(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await xL(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ld(r)&&r instanceof T1){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ng(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=F(F(F({},SL),t),{},{prefix:e||""});return await cn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=F({},e);return await cn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const kL="2.98.0",nl={"X-Client-Info":`storage-js/${kL}`};var TL=class extends ao{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=F(F({},nl),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Oa(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Oa(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await cn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await lp(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ng(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},CL=class extends ao{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=F(F({},nl),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Oa(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ng(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!fL(e))throw new ad("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new uL({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},IL=class extends ao{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=F(F({},nl),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Ot.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},RL=class extends ao{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=F(F({},nl),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},NL=class extends ao{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=F(F({},nl),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},AL=class extends NL{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new PL(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},PL=class extends IL{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,F(F({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,F(F({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new jL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},jL=class extends RL{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,F(F({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,F(F({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,F(F({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,F(F({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,F(F({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},OL=class extends TL{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new EL(this.url,this.headers,e,this.fetch)}get vectors(){return new AL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new CL(this.url+"/iceberg",this.headers,this.fetch)}};const R1="2.98.0",Zs=30*1e3,cp=3,ph=cp*Zs,ML="http://localhost:9999",LL="supabase.auth.token",DL={"X-Client-Info":`gotrue-js/${R1}`},up="X-Supabase-Api-Version",N1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$L=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FL=10*60*1e3;class Ma extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class UL extends Ma{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function BL(e){return L(e)&&e.name==="AuthApiError"}class os extends Ma{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class sr extends Ma{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class At extends sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mh(e){return L(e)&&e.name==="AuthSessionMissingError"}class Hs extends sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gl extends sr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yl extends sr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VL(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class _w extends sr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zL extends sr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class dp extends sr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function gh(e){return L(e)&&e.name==="AuthRetryableFetchError"}class bw extends sr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class hp extends sr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sw=` 	
\r=`.split(""),WL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sw.length;t+=1)e[Sw[t].charCodeAt(0)]=-2;for(let t=0;t<mu.length;t+=1)e[mu[t].charCodeAt(0)]=t;return e})();function Ew(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(mu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(mu[r]),t.queuedBits-=6}}function A1(e,t,n){const r=WL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kw(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{KL(o,r,n)};for(let o=0;o<e.length;o+=1)A1(e.charCodeAt(o),s,i);return t.join("")}function HL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}HL(r,t)}}function KL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ji(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)A1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function GL(e){const t=[];return qL(e,n=>t.push(n)),new Uint8Array(t)}function fs(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ew(s,n,r)),Ew(null,n,r),t.join("")}function YL(e){return Math.round(Date.now()/1e3)+e}function JL(){return Symbol("auth-callback")}const Qe=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},P1=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function XL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const j1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),QL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ei=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xe=async(e,t)=>{await e.removeItem(t)};class cd{constructor(){this.promise=new cd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}cd.promiseConstructor=Promise;function Jl(e){const t=e.split(".");if(t.length!==3)throw new hp("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$L.test(t[r]))throw new hp("JWT not in base64url format");return{header:JSON.parse(kw(t[0])),payload:JSON.parse(kw(t[1])),signature:ji(t[2]),raw:{header:t[0],payload:t[1]}}}async function ZL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eD(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function tD(e){return("0"+e.toString(16)).substr(-2)}function nD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,tD).join("")}async function rD(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function sD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await rD(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(e,t,n=!1){const r=nD();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ei(e,`${t}-code-verifier`,s);const i=await sD(r);return[i,r===i?"plain":"s256"]}const iD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oD(e){const t=e.headers.get(up);if(!t||!t.match(iD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function lD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ks(e){if(!cD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uD(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Tw(e){return JSON.parse(JSON.stringify(e))}const ss=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dD=[502,503,504];async function Cw(e){var t;if(!QL(e))throw new dp(ss(e),0);if(dD.includes(e.status))throw new dp(ss(e),e.status);let n;try{n=await e.json()}catch(i){throw new os(ss(i),i)}let r;const s=oD(e);if(s&&s.getTime()>=N1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bw(ss(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bw(ss(n),e.status,n.weak_password.reasons);throw new UL(ss(n),e.status||500,r)}const hD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[up]||(i[up]=N1["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await fD(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function fD(e,t,n,r,s,i){const o=hD(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new dp(ss(l),0)}if(a.ok||await Cw(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Cw(l)}}function sn(e){var t;let n=null;gD(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=YL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Iw(e){const t=sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function mr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pD(e){return{data:e,error:null}}function mD(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=od(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Rw(e){return e}function gD(e){return e.access_token&&e.refresh_token&&e.expires_in}const vh=["global","local","others"];class yD{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=j1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=vh[0]){if(vh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vh.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:mr})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=od(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mr})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rw});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ks(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mr})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ks(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:mr})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ks(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:mr})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ks(t.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ks(t.userId),Ks(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rw});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(L(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}}function Nw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const An={debug:!!(globalThis&&P1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vD extends O1{}async function wD(e,t,n){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(An.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){if((s==null?void 0:s.name)==="AbortError"&&t>0)return An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",e),console.warn(`@supabase/gotrue-js: Lock "${e}" was not released within ${t}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,{mode:"exclusive",steal:!0},async i=>{if(i){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",e,i.name);try{return await n()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",e,i.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await n()}));throw s}}function xD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function M1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _D(e){return parseInt(e,16)}function bD(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function SD(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=M1(e.address),m=u?`${u}://${r}`:r,v=e.statement?`${e.statement}
`:"",x=`${m} wants you to sign in with your Ethereum account:
${p}

${v}`;let g=`URI: ${d}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}g+=y}return`${x}
${g}`}class Fe extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class gu extends Fe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function ED({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(L1(o)){if(i.rp.id!==o)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function kD({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(L1(r)){if(n.rpId!==r)return new Fe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class TD{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const CD=new TD;function ID(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=od(e,["challenge","user","excludeCredentials"]),i=ji(t).buffer,o=Object.assign(Object.assign({},n),{id:ji(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:ji(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function RD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=od(e,["challenge","allowCredentials"]),s=ji(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:ji(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function ND(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:fs(new Uint8Array(e.response.attestationObject)),clientDataJSON:fs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function AD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fs(new Uint8Array(s.authenticatorData)),clientDataJSON:fs(new Uint8Array(s.clientDataJSON)),signature:fs(new Uint8Array(s.signature)),userHandle:s.userHandle?fs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function L1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Aw(){var e,t;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function PD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gu("Browser returned unexpected credential type",t)}:{data:null,error:new gu("Empty credential response",t)}}catch(t){return{data:null,error:ED({error:t,options:e})}}}async function jD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new gu("Browser returned unexpected credential type",t)}:{data:null,error:new gu("Empty credential response",t)}}catch(t){return{data:null,error:kD({error:t,options:e})}}}const OD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},MD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=yu(a,o):r[i]=yu(o)}else r[i]=o}return r}function LD(e,t){return yu(OD,e,t||{})}function DD(e,t){return yu(MD,e,t||{})}class $D{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const c=s??CD.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){const d=r;if(d)u.name=`${u.id}:${d}`;else{const p=(await this.client.getUser()).data.user,m=((o=p==null?void 0:p.user_metadata)===null||o===void 0?void 0:o.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";u.name=`${u.id}:${m}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=LD(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await PD({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=DD(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await jD(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return L(a)?{data:null,error:a}:{data:null,error:new os("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ma("rpId is required for WebAuthn authentication")};try{if(!Aw())return{data:null,error:new os("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new os("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ma("rpId is required for WebAuthn registration")};try{if(!Aw())return{data:null,error:new os("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new os("Unexpected error in register",o)}}}}xD();const FD={url:ML,storageKey:LL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function Pw(e,t,n){return await n()}const Gs={};class La{get jwks(){var t,n;return(n=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},FD),t);if(this.storageKey=i.storageKey,this.instanceID=(n=La.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,La.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Qe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=j1(i.fetch),this.lock=i.lock||Pw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=wD:this.lock=Pw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $D(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:P1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Nw(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}i.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${R1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Qe()&&(n=XL(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Qe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),VL(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?this._returnResult({error:n}):this._returnResult({error:new os("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:sn}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:u,password:d,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await qs(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:sn})}else if("phone"in t){const{phone:u,password:d,options:f}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:sn})}else throw new Gl("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Iw})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Iw})}else throw new Gl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Hs;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,c,u,d,f;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:v,wallet:x,statement:g,options:y}=t;let w;if(Qe())if(typeof x=="object")w=x;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")w=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const _=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=M1(S[0]);let b=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!b){const j=await w.request({method:"eth_chainId"});b=_D(j)}const T={domain:_.host,address:k,statement:g,uri:_.href,version:"1",chainId:b,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=SD(T),m=await w.request({method:"personal_sign",params:[bD(p),k]})}try{const{data:v,error:x}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:sn});if(x)throw x;if(!v||!v.session||!v.user){const g=new Hs;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(L(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,s,i,o,a,l,c,u,d,f,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:x,wallet:g,statement:y,options:w}=t;let _;if(Qe())if(typeof g=="object")_=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let b;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")b=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)b=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)m=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),v=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:x,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:fs(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sn});if(g)throw g;if(!x||!x.session||!x.user){const y=new Hs;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(L(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new zL;const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:sn});if(await Xe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Hs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:sn}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Hs;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await qs(this.storage,this.storageKey));const{error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Gl("You must provide either an email or phone number.")}catch(a){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),L(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:sn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await qs(this.storage,this.storageKey));const c=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:pD});return!((i=c.data)===null||i===void 0)&&i.url&&Qe()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),L(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new At;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(L(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Gl("You must provide either an email or phone number and a type")}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ph:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Zr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=yh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=uD(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:mr})})}catch(n){if(L(n))return mh(n)&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new At;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await qs(this.storage,this.storageKey));const{data:c,error:u}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:mr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),L(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new At;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Jl(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(L(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new At;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Qe())throw new Yl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _w("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _w("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Yl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=Zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!mh(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(BL(a)&&(a.status===404||a.status===401||a.status===403)||mh(a)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=JL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await qs(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Qe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(L(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,d=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sn}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Hs}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Xe(this.storage,`${this.storageKey}-code-verifier`),L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await eD(async s=>(s>0&&await ZL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&gh(i)&&Date.now()+o-r<Zs})}catch(r){if(this._debug(n,"error",r),L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Qe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Zr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ei(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:yh()}else if(s&&!s.user&&!s.user){const o=await Zr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Xe(this.storage,this.storageKey+"-user"),await ei(this.storage,this.storageKey,s)):s.user=yh()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ph;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ph}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),gh(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new cd;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={data:null,error:i};return gh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ei(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Tw(s);await ei(this.storage,this.storageKey,i)}else{const s=Tw(n);await ei(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Xe(this.storage,this.storageKey),await Xe(this.storage,this.storageKey+"-code-verifier"),await Xe(this.storage,this.storageKey+"-user"),this.userStorage&&await Xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zs}ms, refresh threshold is ${cp} ticks`),s<=cp&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof O1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await qs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ND(t.webauthn.credential_response):AD(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:ID(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:RD(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:p}=Jl(t);let m=null;p.aal&&(m=p.aal);let v=m;const{data:{user:x},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((r=(n=x==null?void 0:x.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const w=p.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:w},error:null}}catch(p){if(L(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Jl(o.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new At})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new At});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Qe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new At});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Qe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new At})})}catch(t){if(L(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new At})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+FL>s)return r;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Jl(r);n!=null&&n.allowExpired||aD(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=lD(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,GL(`${a}.${l}`)))throw new hp("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}}La.nextInstanceID={};const UD=La,BD="2.98.0";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const VD={"X-Client-Info":`supabase-js-${Uo}/${BD}`},zD={headers:VD},WD={schema:"public"},HD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qD={};function Da(e){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}function KD(e,t){if(Da(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Da(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GD(e){var t=KD(e,"string");return Da(t)=="symbol"?t:t+""}function YD(e,t,n){return(t=GD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(n),!0).forEach(function(r){YD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const JD=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XD=()=>Headers,QD=(e,t,n)=>{const r=JD(n),s=XD();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Ne(Ne({},o),{},{headers:c}))}};function ZD(e){return e.endsWith("/")?e:e+"/"}function e4(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Ne(Ne({},l),s),auth:Ne(Ne({},c),i),realtime:Ne(Ne({},u),o),storage:{},global:Ne(Ne(Ne({},d),a),{},{headers:Ne(Ne({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function t4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ZD(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var n4=class extends UD{constructor(e){super(e)}},r4=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=t4(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:WD,realtime:qD,auth:Ne(Ne({},HD),{},{storageKey:o}),global:zD},l=e4(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=QD(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new B2(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new OL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new j2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n4({url:this.authUrl.href,headers:Ne(Ne({},f),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sL(this.realtimeUrl.href,Ne(Ne({},e),{},{params:Ne(Ne({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const s4=(e,t,n)=>new r4(e,t,n);function i4(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}i4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const o4="https://wwkjjdzgjaxzsguqudsr.supabase.co",a4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind3a2pqZHpnamF4enNndXF1ZHNyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIzMDA5NTEsImV4cCI6MjA4Nzg3Njk1MX0.-SHs9hIXjfqwXX8VrwvU101O570KVWTL6RM41_UznaY",_i=s4(o4,a4),D1=E.createContext(void 0),l4=({children:e})=>{const[t,n]=E.useState(null),[r,s]=E.useState(null),[i,o]=E.useState(null),[a,l]=E.useState(!0);E.useEffect(()=>{_i.auth.getSession().then(({data:{session:f}})=>{n(f),s((f==null?void 0:f.user)??null),f!=null&&f.user?c(f.user.id):l(!1)});const{data:{subscription:d}}=_i.auth.onAuthStateChange(async(f,p)=>{n(p),s((p==null?void 0:p.user)??null),p!=null&&p.user?await c(p.user.id):(o(null),l(!1))});return()=>{d.unsubscribe()}},[]);const c=async d=>{try{const{data:f,error:p}=await _i.from("profiles").select("*").eq("id",d).single();if(p)throw p;o(f)}catch(f){console.error("Error fetching user profile:",f)}finally{l(!1)}},u=async()=>{await _i.auth.signOut()};return h.jsx(D1.Provider,{value:{session:t,user:r,profile:i,isLoading:a,signOut:u},children:e})},lo=()=>{const e=E.useContext(D1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},c4=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,a]=E.useState(!1),l=Ls(),{user:c,profile:u}=lo();Yp.useEffect(()=>{c&&u&&(u.role==="Admin"?l("/admin"):u.role==="Client"?l("/client"):l("/profile"))},[c,u,l]);const d=async f=>{f.preventDefault(),a(!0),i("");try{const{error:p}=await _i.auth.signInWithPassword({email:e,password:n});if(p)throw p}catch(p){i(p.message||"Failed to sign in")}finally{a(!1)}};return h.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-black text-white flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white/5 border border-white/10 p-8 rounded-2xl w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Welcome Back"}),h.jsx("p",{className:"text-gray-400",children:"Sign in to your VirtueNex account"})]}),s&&h.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-lg mb-6 text-sm text-center",children:s}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(p1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),h.jsx("input",{type:"email",required:!0,value:e,onChange:f=>t(f.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg py-2.5 pl-10 pr-4 text-white placeholder:text-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",placeholder:"you@email.com"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),h.jsx("input",{type:"password",required:!0,value:n,onChange:f=>r(f.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg py-2.5 pl-10 pr-4 text-white placeholder:text-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",placeholder:""})]})]}),h.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary text-black font-semibold py-2.5 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:o?"Signing In...":"Sign In"})]}),h.jsxs("p",{className:"mt-6 text-center text-sm text-gray-400",children:["Don't have an account?"," ",h.jsx(ae,{to:"/signup",className:"text-primary hover:underline",children:"Sign up"})]})]})})},u4=()=>{const[e,t]=E.useState(""),[n,r]=E.useState(""),[s,i]=E.useState(""),[o,a]=E.useState(""),[l,c]=E.useState(!1),u=Ls(),{user:d,profile:f}=lo();Yp.useEffect(()=>{d&&f&&(f.role==="Admin"?u("/admin"):f.role==="Client"?u("/client"):u("/profile"))},[d,f,u]);const p=async m=>{if(m.preventDefault(),n!==s)return a("Passwords do not match");c(!0),a("");try{const{error:v}=await _i.auth.signUp({email:e,password:n});if(v)throw v}catch(v){a(v.message||"Failed to create account")}finally{c(!1)}};return h.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-black text-white flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white/5 border border-white/10 p-8 rounded-2xl w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Create Account"}),h.jsx("p",{className:"text-gray-400",children:"Join VirtueNex today"})]}),o&&h.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-500 p-3 rounded-lg mb-6 text-sm text-center",children:o}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(p1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),h.jsx("input",{type:"email",required:!0,value:e,onChange:m=>t(m.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg py-2.5 pl-10 pr-4 text-white placeholder:text-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",placeholder:"you@email.com"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),h.jsx("input",{type:"password",required:!0,value:n,onChange:m=>r(m.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg py-2.5 pl-10 pr-4 text-white placeholder:text-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",placeholder:""})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(tp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),h.jsx("input",{type:"password",required:!0,value:s,onChange:m=>i(m.target.value),className:"w-full bg-black/50 border border-white/10 rounded-lg py-2.5 pl-10 pr-4 text-white placeholder:text-gray-600 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition-all",placeholder:""})]})]}),h.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary text-black font-semibold py-2.5 rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:l?"Creating Account...":"Sign Up"})]}),h.jsxs("p",{className:"mt-6 text-center text-sm text-gray-400",children:["Already have an account?"," ",h.jsx(ae,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})]})})},d4=()=>{const{profile:e,signOut:t}=lo(),n=Ls(),r=async()=>{await t(),n("/login")};return h.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Admin Dashboard"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"text-gray-400",children:e==null?void 0:e.email}),h.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors border border-white/10",children:[h.jsx(Tg,{className:"w-4 h-4"}),"Sign Out"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"System Deployments"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Manage client AI instances."})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Lead Manager"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"View all captured leads."})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"User CRM"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Manage user roles and access."})]})]})]})})},h4=()=>{const{profile:e,signOut:t}=lo(),n=Ls(),r=async()=>{await t(),n("/login")};return h.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Client Dashboard"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"text-gray-400",children:e==null?void 0:e.email}),h.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors border border-white/10",children:[h.jsx(Tg,{className:"w-4 h-4"}),"Sign Out"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"My AI Systems"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"View metrics for your chat and phone agents."})]}),h.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-xl",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Captured Leads"}),h.jsx("p",{className:"text-gray-400 text-sm",children:"Access your CRM entries."})]})]})]})})},f4=()=>{const{profile:e,signOut:t}=lo(),n=Ls(),r=async()=>{await t(),n("/login")};return h.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[h.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[h.jsx(VM,{className:"w-8 h-8 text-primary"}),"My Profile"]}),h.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors border border-white/10",children:[h.jsx(Tg,{className:"w-4 h-4"}),"Sign Out"]})]}),h.jsx("div",{className:"bg-white/5 border border-white/10 p-8 rounded-xl max-w-lg",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Email Address"}),h.jsx("div",{className:"mt-1 text-lg text-white",children:e==null?void 0:e.email})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Account Type"}),h.jsx("div",{className:"mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary border border-primary/20",children:e==null?void 0:e.role})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Member Since"}),h.jsx("div",{className:"mt-1 text-white",children:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]})]})})]})})},wh=({requiredRole:e})=>{const{user:t,profile:n,isLoading:r}=lo();return r?h.jsx("div",{className:"flex bg-black h-screen items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):!t||!n?h.jsx($l,{to:"/login",replace:!0}):e&&n.role!==e?n.role==="Admin"?h.jsx($l,{to:"/admin",replace:!0}):n.role==="Client"?h.jsx($l,{to:"/client",replace:!0}):h.jsx($l,{to:"/profile",replace:!0}):h.jsx(MS,{})};function p4(){return h.jsx(h.Fragment,{children:h.jsx($N,{children:h.jsxs($e,{element:h.jsx(GM,{}),children:[h.jsx($e,{path:"/",element:h.jsx(cw,{})}),h.jsx($e,{path:"/services/ai-chat-assistants",element:h.jsx(y2,{})}),h.jsx($e,{path:"/services/inbound-phone-agents",element:h.jsx(v2,{})}),h.jsx($e,{path:"/services/real-estate-websites",element:h.jsx(w2,{})}),h.jsx($e,{path:"/services/intelligent-data-sync",element:h.jsx(x2,{})}),h.jsx($e,{path:"/how-it-works",element:h.jsx(S2,{})}),h.jsx($e,{path:"/contact",element:h.jsx(k2,{})}),h.jsx($e,{path:"/privacy-policy",element:h.jsx(C2,{})}),h.jsx($e,{path:"/pricing",element:h.jsx(R2,{})}),h.jsx($e,{path:"/login",element:h.jsx(c4,{})}),h.jsx($e,{path:"/signup",element:h.jsx(u4,{})}),h.jsx($e,{element:h.jsx(wh,{requiredRole:"Admin"}),children:h.jsx($e,{path:"/admin",element:h.jsx(d4,{})})}),h.jsx($e,{element:h.jsx(wh,{requiredRole:"Client"}),children:h.jsx($e,{path:"/client",element:h.jsx(h4,{})})}),h.jsx($e,{element:h.jsx(wh,{requiredRole:"Lead"}),children:h.jsx($e,{path:"/profile",element:h.jsx(f4,{})})}),h.jsx($e,{path:"*",element:h.jsx(cw,{})})]})})})}const D=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,re=globalThis,ws="10.40.0";function $s(){return ud(re),re}function ud(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||ws,t[ws]=t[ws]||{}}function co(e,t,n=re){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[ws]=r[ws]||{};return s[e]||(s[e]=t())}const m4=["debug","info","warn","error","log","assert","trace"],g4="Sentry Logger ",vu={};function Fs(e){if(!("console"in re))return e();const t=re.console,n={},r=Object.keys(vu);r.forEach(s=>{const i=vu[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function y4(){Pg().enabled=!0}function v4(){Pg().enabled=!1}function $1(){return Pg().enabled}function w4(...e){Ag("log",...e)}function x4(...e){Ag("warn",...e)}function _4(...e){Ag("error",...e)}function Ag(e,...t){D&&$1()&&Fs(()=>{re.console[e](`${g4}[${e}]:`,...t)})}function Pg(){return D?co("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const A={enable:y4,disable:v4,isEnabled:$1,log:w4,warn:x4,error:_4},F1=50,Rs="?",Ow=/\(error: (.*)\)/,Mw=/captureMessage|captureException/;function U1(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let l=o[a];l.length>1024&&(l=l.slice(0,1024));const c=Ow.test(l)?l.replace(Ow,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){i.push(d);break}}if(i.length>=F1+s)break}}return S4(i.slice(s))}}function b4(e){return Array.isArray(e)?U1(...e):e}function S4(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Xl(t).function||"")&&t.pop(),t.reverse(),Mw.test(Xl(t).function||"")&&(t.pop(),Mw.test(Xl(t).function||"")&&t.pop()),t.slice(0,F1).map(n=>({...n,filename:n.filename||Xl(t).filename,function:n.function||Rs}))}function Xl(e){return e[e.length-1]||{}}const xh="<anonymous>";function Xn(e){try{return!e||typeof e!="function"?xh:e.name||xh}catch{return xh}}function Lw(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function B1(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Ec={},Dw={};function Hr(e,t){Ec[e]=Ec[e]||[],Ec[e].push(t)}function qr(e,t){if(!Dw[e]){Dw[e]=!0;try{t()}catch(n){D&&A.error(`Error while instrumenting ${e}`,n)}}}function Zt(e,t){const n=e&&Ec[e];if(n)for(const r of n)try{r(t)}catch(s){D&&A.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Xn(r)}
Error:`,s)}}let _h=null;function V1(e){const t="error";Hr(t,e),qr(t,E4)}function E4(){_h=re.onerror,re.onerror=function(e,t,n,r,s){return Zt("error",{column:r,error:s,line:n,msg:e,url:t}),_h?_h.apply(this,arguments):!1},re.onerror.__SENTRY_INSTRUMENTED__=!0}let bh=null;function z1(e){const t="unhandledrejection";Hr(t,e),qr(t,k4)}function k4(){bh=re.onunhandledrejection,re.onunhandledrejection=function(e){return Zt("unhandledrejection",e),bh?bh.apply(this,arguments):!0},re.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const W1=Object.prototype.toString;function rl(e){switch(W1.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Qn(e,Error)}}function uo(e,t){return W1.call(e)===`[object ${t}]`}function H1(e){return uo(e,"ErrorEvent")}function $w(e){return uo(e,"DOMError")}function T4(e){return uo(e,"DOMException")}function Vn(e){return uo(e,"String")}function jg(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Hi(e){return e===null||jg(e)||typeof e!="object"&&typeof e!="function"}function $a(e){return uo(e,"Object")}function dd(e){return typeof Event<"u"&&Qn(e,Event)}function C4(e){return typeof Element<"u"&&Qn(e,Element)}function I4(e){return uo(e,"RegExp")}function ho(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function R4(e){return $a(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Qn(e,t){try{return e instanceof t}catch{return!1}}function q1(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Og(e){return typeof Request<"u"&&Qn(e,Request)}const Mg=re,N4=80;function Ct(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||N4;for(;n&&i++<r&&(c=A4(n,u),!(c==="html"||i>1&&o+s.length*l+c.length>=d));)s.push(c),o+=c.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function A4(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(Mg.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s!=null&&s.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Vn(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function fo(){try{return Mg.document.location.href}catch{return""}}function K1(e){if(!Mg.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function St(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&G1(s,r);try{e[t]=s}catch{D&&A.log(`Failed to replace method "${t}" in object`,e)}}function It(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{D&&A.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function G1(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,It(e,"__sentry_original__",t)}catch{}}function Lg(e){return e.__sentry_original__}function Y1(e){if(rl(e))return{message:e.message,name:e.name,stack:e.stack,...Uw(e)};if(dd(e)){const t={type:e.type,target:Fw(e.target),currentTarget:Fw(e.currentTarget),...Uw(e)};return typeof CustomEvent<"u"&&Qn(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Fw(e){try{return C4(e)?Ct(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Uw(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function P4(e){const t=Object.keys(Y1(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let Ys;function sl(e){if(Ys!==void 0)return Ys?Ys(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=re;return t in n&&typeof n[t]=="function"?(Ys=n[t],Ys(e)):(Ys=null,e())}function Ir(){return sl(()=>Math.random())}function il(){return sl(()=>Date.now())}function fp(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Bw(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{q1(s)?n.push(B1(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function kc(e,t,n=!1){return Vn(e)?I4(t)?t.test(e):Vn(t)?n?e===t:e.includes(t):!1:!1}function zn(e,t=[],n=!1){return t.some(r=>kc(e,r,n))}function j4(){const e=re;return e.crypto||e.msCrypto}let Sh;function O4(){return Ir()*16}function $t(e=j4()){try{if(e!=null&&e.randomUUID)return sl(()=>e.randomUUID()).replace(/-/g,"")}catch{}return Sh||(Sh="10000000100040008000"+1e11),Sh.replace(/[018]/g,t=>(t^(O4()&15)>>t/4).toString(16))}function J1(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function as(e){const{message:t,event_id:n}=e;if(t)return t;const r=J1(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function pp(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function qi(e,t){const n=J1(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s==null?void 0:s.data,...t.data};n.mechanism.data=i}}function Vw(e){if(M4(e))return!0;try{It(e,"__sentry_captured__",!0)}catch{}return!1}function M4(e){try{return e.__sentry_captured__}catch{}}const X1=1e3;function Us(){return il()/X1}function L4(){const{performance:e}=re;if(!(e!=null&&e.now)||!e.timeOrigin)return Us;const t=e.timeOrigin;return()=>(t+sl(()=>e.now()))/X1}let zw;function Ye(){return(zw??(zw=L4()))()}let Eh=null;function D4(){var o;const{performance:e}=re;if(!(e!=null&&e.now))return;const t=3e5,n=sl(()=>e.now()),r=il(),s=e.timeOrigin;if(typeof s=="number"&&Math.abs(s+n-r)<t)return s;const i=(o=e.timing)==null?void 0:o.navigationStart;return typeof i=="number"&&Math.abs(i+n-r)<t?i:r-n}function Nt(){return Eh===null&&(Eh=D4()),Eh}function $4(e){const t=Ye(),n={sid:$t(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>U4(n)};return e&&Ki(n,e),n}function Ki(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ye(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:$t()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function F4(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Ki(e,n)}function U4(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function ol(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=ol(r[s],t[s],n-1));return r}function Zn(){return $t()}function Wn(){return $t().substring(16)}const mp="_sentrySpan";function Gi(e,t){t?It(e,mp,t):delete e[mp]}function wu(e){return e[mp]}const B4=100;class Nn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Zn(),sampleRand:Ir()}}clone(){const t=new Nn;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,t._conversationId=this._conversationId,Gi(t,wu(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ki(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(t){return this._conversationId=t||void 0,this._notifyScopeListeners(),this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof Nn?n.getScopeData():$a(n)?t:void 0,{tags:s,attributes:i,extra:o,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d,conversationId:f}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),f&&(this._conversationId=f),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,Gi(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Zn(),sampleRand:Ir()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;const r=typeof n=="number"?n:B4;if(r<=0)return this;const s={timestamp:Us(),...t,message:t.message?fp(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:wu(this),conversationId:this._conversationId}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=ol(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||$t();if(!this._client)return D&&A.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||$t();if(!this._client)return D&&A.warn("No client configured on scope - will not capture message!"),s;const i=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=t.event_id||(n==null?void 0:n.event_id)||$t();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(D&&A.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function V4(){return co("defaultCurrentScope",()=>new Nn)}function z4(){return co("defaultIsolationScope",()=>new Nn)}class W4{constructor(t,n){let r;t?r=t:r=new Nn;let s;n?s=n:s=new Nn,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return ho(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Yi(){const e=$s(),t=ud(e);return t.stack=t.stack||new W4(V4(),z4())}function H4(e){return Yi().withScope(e)}function q4(e,t){const n=Yi();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Ww(e){return Yi().withScope(()=>e(Yi().getIsolationScope()))}function K4(){return{withIsolationScope:Ww,withScope:H4,withSetScope:q4,withSetIsolationScope:(e,t)=>Ww(t),getCurrentScope:()=>Yi().getScope(),getIsolationScope:()=>Yi().getIsolationScope()}}function po(e){const t=ud(e);return t.acs?t.acs:K4()}function he(){const e=$s();return po(e).getCurrentScope()}function zt(){const e=$s();return po(e).getIsolationScope()}function G4(){return co("globalScope",()=>new Nn)}function mo(...e){const t=$s(),n=po(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function ee(){return he().getClient()}function Y4(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||Wn()};return r&&(i.parent_span_id=r),i}const mn="sentry.source",Dg="sentry.sample_rate",Q1="sentry.previous_trace_sample_rate",er="sentry.op",qe="sentry.origin",Fa="sentry.idle_span_finish_reason",al="sentry.measurement_unit",ll="sentry.measurement_value",Hw="sentry.custom_span_name",$g="sentry.profile_id",go="sentry.exclusive_time",J4="sentry.link.type",X4="gen_ai.conversation.id",Q4=0,Fg=1,ze=2;function Z4(e){if(e<400&&e>=100)return{code:Fg};if(e>=400&&e<500)switch(e){case 401:return{code:ze,message:"unauthenticated"};case 403:return{code:ze,message:"permission_denied"};case 404:return{code:ze,message:"not_found"};case 409:return{code:ze,message:"already_exists"};case 413:return{code:ze,message:"failed_precondition"};case 429:return{code:ze,message:"resource_exhausted"};case 499:return{code:ze,message:"cancelled"};default:return{code:ze,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:ze,message:"unimplemented"};case 503:return{code:ze,message:"unavailable"};case 504:return{code:ze,message:"deadline_exceeded"};default:return{code:ze,message:"internal_error"}}return{code:ze,message:"internal_error"}}function Z1(e,t){e.setAttribute("http.response.status_code",t);const n=Z4(t);n.message!=="unknown_error"&&e.setStatus(n)}const ek="_sentryScope",tk="_sentryIsolationScope";function e5(e){try{const t=re.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function t5(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function n5(e,t,n){e&&(It(e,tk,e5(n)),It(e,ek,t))}function xu(e){const t=e;return{scope:t[ek],isolationScope:t5(t[tk])}}const Ug="sentry-",r5=/^sentry-/,s5=8192;function nk(e){const t=o5(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(r5)){const o=s.slice(Ug.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function i5(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Ug}${r}`]=s),n),{});return a5(t)}function o5(e){if(!(!e||!Vn(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=qw(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):qw(e)}function qw(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function a5(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>s5?(D&&A.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const l5=/^o(\d+)\./,c5=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function u5(e){return e==="http"||e==="https"}function Bs(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function d5(e){const t=c5.exec(e);if(!t){Fs(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return rk({host:i,pass:s,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function rk(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function h5(e){if(!D)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(A.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?u5(r)?t&&isNaN(parseInt(t,10))?(A.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(A.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(A.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function f5(e){const t=e.match(l5);return t==null?void 0:t[1]}function p5(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=f5(n)),r}function sk(e){const t=typeof e=="string"?d5(e):rk(e);if(!(!t||!h5(t)))return t}function Ns(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const ik=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function m5(e){if(!e)return;const t=e.match(ik);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function g5(e,t){const n=m5(e),r=nk(t);if(!(n!=null&&n.traceId))return{traceId:Zn(),sampleRand:Ir()};const s=y5(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function ok(e=Zn(),t=Wn(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ak(e=Zn(),t=Wn(),n){return`00-${e}-${t}-${n?"01":"00"}`}function y5(e,t){const n=Ns(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=Ns(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Ir()*r:r+Ir()*(1-r):Ir()}const lk=0,Bg=1;let Kw=!1;function v5(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:l}=ce(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:l}}function w5(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:ce(e).parent_span_id,i=xu(e).scope,o=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||Wn():t;return{parent_span_id:s,span_id:o,trace_id:n}}function x5(e){const{traceId:t,spanId:n}=e.spanContext(),r=Kr(e);return ok(t,n,r)}function _5(e){const{traceId:t,spanId:n}=e.spanContext(),r=Kr(e);return ak(t,n,r)}function ck(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Bg,attributes:i,...s}))}function xs(e){return typeof e=="number"?Gw(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Gw(e.getTime()):Ye()}function Gw(e){return e>9999999999?e/1e3:e}function ce(e){var r;if(S5(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(b5(e)){const{attributes:s,startTime:i,name:o,endTime:a,status:l,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:o,parent_span_id:u,start_timestamp:xs(i),timestamp:xs(a)||void 0,status:uk(l),op:s[er],origin:s[qe],links:ck(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function b5(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function S5(e){return typeof e.getSpanJSON=="function"}function Kr(e){const{traceFlags:t}=e.spanContext();return t===Bg}function uk(e){if(!(!e||e.code===Q4))return e.code===Fg?"ok":e.message||"internal_error"}const _s="_sentryChildSpans",gp="_sentryRootSpan";function dk(e,t){const n=e[gp]||e;It(t,gp,n),e[_s]?e[_s].add(t):It(e,_s,new Set([t]))}function E5(e,t){e[_s]&&e[_s].delete(t)}function Tc(e){const t=new Set;function n(r){if(!t.has(r)&&Kr(r)){t.add(r);const s=r[_s]?Array.from(r[_s]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function lt(e){return e[gp]||e}function gt(){const e=$s(),t=po(e);return t.getActiveSpan?t.getActiveSpan():wu(he())}function yp(){Kw||(Fs(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Kw=!0)}let Yw=!1;function k5(){if(Yw)return;function e(){const t=gt(),n=t&&lt(t);if(n){const r="internal_error";D&&A.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:ze,message:r})}}e.tag="sentry_tracingErrorCallback",Yw=!0,V1(e),z1(e)}function vn(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=ee())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Jw(e){A.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function _u(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(C5(n)){if(kc(e.description,n))return D&&Jw(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?kc(e.description,n.name):!0,s=n.op?e.op&&kc(e.op,n.op):!0;if(r&&s)return D&&Jw(e),!0}return!1}function T5(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function C5(e){return typeof e=="string"||e instanceof RegExp}const Vg="production",hk="_frozenDsc";function Cc(e,t){It(e,hk,t)}function fk(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||Vg,release:n.release,public_key:r,trace_id:e,org_id:p5(t)};return t.emit("createDsc",s),s}function pk(e,t){const n=t.getPropagationContext();return n.dsc||fk(n.traceId,e)}function tr(e){var m;const t=ee();if(!t)return{};const n=lt(e),r=ce(n),s=r.data,i=n.spanContext().traceState,o=(i==null?void 0:i.get("sentry.sample_rate"))??s[Dg]??s[Q1];function a(v){return(typeof o=="number"||typeof o=="string")&&(v.sample_rate=`${o}`),v}const l=n[hk];if(l)return a(l);const c=i==null?void 0:i.get("sentry.dsc"),u=c&&nk(c);if(u)return a(u);const d=fk(e.spanContext().traceId,t),f=s[mn],p=r.description;return f!=="url"&&p&&(d.transaction=p),vn()&&(d.sampled=String(Kr(n)),d.sample_rand=(i==null?void 0:i.get("sentry.sample_rand"))??((m=xu(n).scope)==null?void 0:m.getPropagationContext().sampleRand.toString())),a(d),t.emit("createDsc",d,n),d}class Dr{constructor(t={}){this._traceId=t.traceId||Zn(),this._spanId=t.spanId||Wn()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:lk}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function hn(e,t=100,n=1/0){try{return vp("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function mk(e,t=3,n=100*1024){const r=hn(e,t);return A5(r)>n?mk(e,t-1,n):r}function vp(e,t,n=1/0,r=1/0,s=P5()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=I5(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return vp("",p,l-1,r,s)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const f=Y1(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=r){u[p]="[MaxProperties ~]";break}const m=f[p];u[p]=vp(p,m,l-1,r,s),d++}return o(t),u}function I5(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(q1(t))return B1(t);if(R4(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Xn(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=R5(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function R5(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function N5(e){return~-encodeURI(e).split(/%..|./).length}function A5(e){return N5(JSON.stringify(e))}function P5(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Gr(e,t=[]){return[e,t]}function j5(e,t){const[n,r]=e;return[n,[...r,t]]}function wp(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function O5(e,t){return wp(e,(n,r)=>t.includes(r))}function xp(e){const t=ud(re);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function M5(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[xp(r),i]:r.push(typeof i=="string"?xp(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(hn(a))}s(l)}}return typeof r=="string"?r:L5(r)}function L5(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function D5(e){return[{type:"span"},e]}function $5(e){const t=typeof e.data=="string"?xp(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const F5={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Xw(e){return F5[e]}function zg(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function gk(e,t,n,r){var i;const s=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Bs(r)},...s&&{trace:s}}}function U5(e,t){var r,s,i,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(i=e.sdk)!=null&&i.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function B5(e,t,n,r){const s=zg(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Bs(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Gr(i,[o])}function V5(e,t,n,r){const s=zg(n),i=e.type&&e.type!=="replay_event"?e.type:"event";U5(e,n==null?void 0:n.sdk);const o=gk(e,s,r,t);return delete e.sdkProcessingMetadata,Gr(o,[[{type:i},e]])}function z5(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=tr(e[0]),s=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Bs(s)}},{beforeSendSpan:a,ignoreSpans:l}=(t==null?void 0:t.getOptions())||{},c=l!=null&&l.length?e.filter(p=>!_u(ce(p),l)):e,u=e.length-c.length;u&&(t==null||t.recordDroppedEvent("before_send","span",u));const d=a?p=>{const m=ce(p),v=a(m);return v||(yp(),m)}:ce,f=[];for(const p of c){const m=d(p);m&&f.push(D5(m))}return Gr(o,f)}function W5(e){if(!D)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=ce(e),{spanId:s}=e.spanContext(),i=Kr(e),o=lt(e),a=o===e,l=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:u,description:d}=ce(o);c.push(`root ID: ${o.spanContext().spanId}`),u&&c.push(`root op: ${u}`),d&&c.push(`root description: ${d}`)}A.log(`${l}
  ${c.join(`
  `)}`)}function H5(e){if(!D)return;const{description:t="< unknown name >",op:n="< unknown op >"}=ce(e),{spanId:r}=e.spanContext(),i=lt(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;A.log(o)}function q5(e,t,n,r=gt()){const s=r&&lt(r);s&&(D&&A.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[ll]:t,[al]:n}))}function Qw(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[al],i=r[ll];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const Zw=1e3;class hd{constructor(t={}){this._traceId=t.traceId||Zn(),this._spanId=t.spanId||Wn(),this._startTime=t.startTimestamp||Ye(),this._links=t.links,this._attributes={},this.setAttributes({[qe]:"manual",[er]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Bg:lk}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=xs(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(mn,"custom"),this}end(t){this._endTime||(this._endTime=xs(t),H5(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[er],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:uk(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[qe],profile_id:this._attributes[$g],exclusive_time:this._attributes[go],measurements:Qw(this._events),is_segment:this._isStandaloneSpan&&lt(this)===this||void 0,segment_id:this._isStandaloneSpan?lt(this).spanContext().spanId:void 0,links:ck(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){D&&A.log("[Tracing] Adding an event to span:",t);const s=ex(n)?n:r||Ye(),i=ex(n)?{}:n||{},o={name:t,time:xs(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=ee();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===lt(this)))return;if(this._isStandaloneSpan){this._sampled?G5(z5([this],t)):(D&&A.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(xu(this).scope||he()).captureEvent(r)}_convertSpanToTransaction(){var u;if(!tx(ce(this)))return;this._name||(D&&A.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=xu(this),r=(u=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:u.normalizedRequest;if(this._sampled!==!0)return;const i=Tc(this).filter(d=>d!==this&&!K5(d)).map(d=>ce(d)).filter(tx),o=this._attributes[mn];delete this._attributes[Hw],i.forEach(d=>{delete d.data[Hw]});const a={contexts:{trace:v5(this)},spans:i.length>Zw?i.sort((d,f)=>d.start_timestamp-f.start_timestamp).slice(0,Zw):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:tr(this)},request:r,...o&&{transaction_info:{source:o}}},l=Qw(this._events);return l&&Object.keys(l).length&&(D&&A.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),a.measurements=l),a}}function ex(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function tx(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function K5(e){return e instanceof hd&&e.isStandaloneSpan()}function G5(e){const t=ee();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function Y5(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(i){throw t(i),n(),i}return J5(s,t,n,r)}function J5(e,t,n,r){return ho(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function X5(e,t,n){if(!vn(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=Ns(s);if(i===void 0)return D&&A.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return D&&A.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||D&&A.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}const yk="__SENTRY_SUPPRESS_TRACING__";function Q5(e,t){const n=Hg();if(n.startSpan)return n.startSpan(e,t);const r=wk(e),{forceTransaction:s,parentSpan:i,scope:o}=e,a=o==null?void 0:o.clone();return mo(a,()=>e$(i)(()=>{const c=he(),u=xk(c,i),f=e.onlyIfParent&&!u?new Dr:vk({parentSpan:u,spanArguments:r,forceTransaction:s,scope:c});return Gi(c,f),Y5(()=>t(f),()=>{const{status:p}=ce(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:ze,message:"internal_error"})},()=>{f.end()})}))}function yo(e){const t=Hg();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=wk(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>mo(e.scope,o):s!==void 0?o=>Wg(s,o):o=>o())(()=>{const o=he(),a=xk(o,s);return e.onlyIfParent&&!a?new Dr:vk({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function Wg(e,t){const n=Hg();return n.withActiveSpan?n.withActiveSpan(e,t):mo(r=>(Gi(r,e||void 0),t(r)))}function vk({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!vn()){const o=new Dr;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...tr(o)};Cc(o,a)}return o}const s=zt();let i;if(e&&!n)i=Z5(e,r,t),dk(e,i);else if(e){const o=tr(e),{traceId:a,spanId:l}=e.spanContext(),c=Kr(e);i=nx({traceId:a,parentSpanId:l,...t},r,c),Cc(i,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...s.getPropagationContext(),...r.getPropagationContext()};i=nx({traceId:o,parentSpanId:l,...t},r,c),a&&Cc(i,a)}return W5(i),n5(i,r,s),i}function wk(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=xs(e.startTime),delete r.startTime,r}return n}function Hg(){const e=$s();return po(e)}function nx(e,t,n){var m;const r=ee(),s=(r==null?void 0:r.getOptions())||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r==null||r.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,l=o.spanAttributes,c=t.getPropagationContext(),[u,d,f]=t.getScopeData().sdkProcessingMetadata[yk]?[!1]:X5(s,{name:i,parentSampled:a,attributes:l,parentSampleRate:Ns((m=c.dsc)==null?void 0:m.sample_rate)},c.sampleRand),p=new hd({...e,attributes:{[mn]:"custom",[Dg]:d!==void 0&&f?d:void 0,...l},sampled:u});return!u&&r&&(D&&A.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function Z5(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[yk]?!1:Kr(e),o=i?new hd({...n,parentSpanId:r,traceId:s,sampled:i}):new Dr({traceId:s});dk(e,o);const a=ee();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function xk(e,t){if(t)return t;if(t===null)return;const n=wu(e);if(!n)return;const r=ee();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?lt(n):n}function e$(e){return e!==void 0?t=>Wg(e,t):t=>t()}const Ic={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},t$="heartbeatFailed",n$="idleTimeout",r$="finalTimeout",s$="externalFinish";function _k(e,t={}){const n=new Map;let r=!1,s,i=s$,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=Ic.idleTimeout,finalTimeout:c=Ic.finalTimeout,childSpanTimeout:u=Ic.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:f=!0}=t,p=ee();if(!p||!vn()){const b=new Dr,T={sample_rate:"0",sampled:"false",...tr(b)};return Cc(b,T),b}const m=he(),v=gt(),x=i$(e);x.end=new Proxy(x.end,{apply(b,T,j){if(d&&d(x),T instanceof Dr)return;const[I,...O]=j,J=I||Ye(),X=xs(J),H=Tc(x).filter(R=>R!==x),Ie=ce(x);if(!H.length||!f)return k(X),Reflect.apply(b,T,[X,...O]);const ue=p.getOptions().ignoreSpans,q=H==null?void 0:H.reduce((R,$)=>{const G=ce($);return!G.timestamp||ue&&_u(G,ue)?R:R?Math.max(R,G.timestamp):G.timestamp},void 0),C=Ie.start_timestamp,P=Math.min(C?C+c/1e3:1/0,Math.max(C||-1/0,Math.min(X,q||1/0)));return k(P),Reflect.apply(b,T,[P,...O])}});function g(){s&&(clearTimeout(s),s=void 0)}function y(b){g(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=n$,x.end(b))},l)}function w(b){s=setTimeout(()=>{!r&&o&&(i=t$,x.end(b))},u)}function _(b){g(),n.set(b,!0);const T=Ye();w(T+u/1e3)}function S(b){if(n.has(b)&&n.delete(b),n.size===0){const T=Ye();y(T+l/1e3)}}function k(b){r=!0,n.clear(),a.forEach(H=>H()),Gi(m,v);const T=ce(x),{start_timestamp:j}=T;if(!j)return;T.data[Fa]||x.setAttribute(Fa,i);const O=T.status;(!O||O==="unknown")&&x.setStatus({code:Fg}),A.log(`[Tracing] Idle span "${T.op}" finished`);const J=Tc(x).filter(H=>H!==x);let X=0;J.forEach(H=>{H.isRecording()&&(H.setStatus({code:ze,message:"cancelled"}),H.end(b),D&&A.log("[Tracing] Cancelling span since span ended early",JSON.stringify(H,void 0,2)));const Ie=ce(H),{timestamp:ue=0,start_timestamp:q=0}=Ie,C=q<=b,P=(c+l)/1e3,R=ue-q<=P;if(D){const $=JSON.stringify(H,void 0,2);C?R||A.log("[Tracing] Discarding span since it finished after idle span final timeout",$):A.log("[Tracing] Discarding span since it happened after idle span was finished",$)}(!R||!C)&&(E5(x,H),X++)}),X>0&&x.setAttribute("sentry.idle_span_discarded_spans",X)}return a.push(p.on("spanStart",b=>{if(r||b===x||ce(b).timestamp||b instanceof hd&&b.isStandaloneSpan())return;Tc(x).includes(b)&&_(b.spanContext().spanId)})),a.push(p.on("spanEnd",b=>{r||S(b.spanContext().spanId)})),a.push(p.on("idleSpanEnableAutoFinish",b=>{b===x&&(o=!0,y(),n.size&&w())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(x.setStatus({code:ze,message:"deadline_exceeded"}),i=r$,x.end())},c),x}function i$(e){const t=yo(e);return Gi(he(),t),D&&A.log("[Tracing] Started span is an idle span"),t}const kh=0,rx=1,sx=2;function cl(e){return new Ua(t=>{t(e)})}function qg(e){return new Ua((t,n)=>{n(e)})}class Ua{constructor(t){this._state=kh,this._handlers=[],this._runExecutor(t)}then(t,n){return new Ua((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ua((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===kh)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===rx&&n[1](this._value),this._state===sx&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===kh){if(ho(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(rx,i)},s=i=>{n(sx,i)};try{t(r,s)}catch(i){s(i)}}}function o$(e,t,n,r=0){try{const s=_p(t,n,e,r);return ho(s)?s:cl(s)}catch(s){return qg(s)}}function _p(e,t,n,r){const s=n[r];if(!e||!s)return e;const i=s({...e},t);return D&&i===null&&A.log(`Event processor "${s.id||"?"}" dropped event`),ho(i)?i.then(o=>_p(o,t,n,r+1)):_p(i,t,n,r+1)}let Pn,ix,ox,or;function a$(e){const t=re._sentryDebugIds,n=re._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if(or&&r.length===ix&&s.length===ox)return or;ix=r.length,ox=s.length,or={},Pn||(Pn={});const i=(o,a)=>{for(const l of o){const c=a[l],u=Pn==null?void 0:Pn[l];if(u&&or&&c)or[u[0]]=c,Pn&&(Pn[l]=[u[0],c]);else if(c){const d=e(l);for(let f=d.length-1;f>=0;f--){const p=d[f],m=p==null?void 0:p.filename;if(m&&or&&Pn){or[m]=c,Pn[l]=[m,c];break}}}}};return t&&i(r,t),n&&i(s,n),or}function l$(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;c$(e,t),r&&h$(e,r),f$(e,n),u$(e,s),d$(e,i)}function ax(e,t){const{extra:n,tags:r,attributes:s,user:i,contexts:o,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:p,transactionName:m,span:v}=t;Ao(e,"extra",n),Ao(e,"tags",r),Ao(e,"attributes",s),Ao(e,"user",i),Ao(e,"contexts",o),e.sdkProcessingMetadata=ol(e.sdkProcessingMetadata,l,2),a&&(e.level=a),m&&(e.transactionName=m),v&&(e.span=v),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...p}}function Ao(e,t,n){e[t]=ol(e[t],n,1)}function bk(e,t){const n=G4().getScopeData();return e&&ax(n,e.getScopeData()),t&&ax(n,t.getScopeData()),n}function c$(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function u$(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function d$(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function h$(e,t){e.contexts={trace:w5(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:tr(t),...e.sdkProcessingMetadata};const n=lt(t),r=ce(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function f$(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function Sk(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||$t(),timestamp:t.timestamp||Us()},c=n.integrations||e.integrations.map(g=>g.name);p$(l,e),y$(l,c),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&m$(l,e.stackParser);const u=w$(r,n.captureContext);n.mechanism&&qi(l,n.mechanism);const d=s?s.getEventProcessors():[],f=bk(i,u),p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),l$(l,f);const m=[...d,...f.eventProcessors];return(n.data&&n.data.__sentry__===!0?cl(l):o$(m,l,n)).then(g=>(g&&g$(g),typeof o=="number"&&o>0?v$(g,o,a):g))}function p$(e,t){var a,l;const{environment:n,release:r,dist:s,maxValueLength:i}=t;e.environment=e.environment||n||Vg,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o!=null&&o.url&&i&&(o.url=fp(o.url,i)),i&&((l=(a=e.exception)==null?void 0:a.values)==null||l.forEach(c=>{c.value&&(c.value=fp(c.value,i))}))}function m$(e,t){var r,s;const n=a$(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(l=>{l.filename&&(l.debug_id=n[l.filename])})})}function g$(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(i=>{var o,a;(a=(o=i.stacktrace)==null?void 0:o.frames)==null||a.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([i,o])=>{n.push({type:"sourcemap",code_file:i,debug_id:o})})}function y$(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function v$(e,t,n){var s,i;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:hn(o.data,t,n)}}))},...e.user&&{user:hn(e.user,t,n)},...e.contexts&&{contexts:hn(e.contexts,t,n)},...e.extra&&{extra:hn(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=hn(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:hn(o.data,t,n)}}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=hn(e.contexts.flags,3,n)),r}function w$(e,t){if(!t)return e;const n=e?e.clone():new Nn;return n.update(t),n}function x$(e){if(e)return _$(e)?{captureContext:e}:S$(e)?{captureContext:e}:e}function _$(e){return e instanceof Nn||typeof e=="function"}const b$=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function S$(e){return Object.keys(e).some(t=>b$.includes(t))}function Kg(e,t){return he().captureException(e,x$(t))}function Ek(e,t){return he().captureEvent(e,t)}function kk(e,t){zt().setContext(e,t)}function E$(){return zt().lastEventId()}function k$(){const e=ee();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function T$(e){zt().addEventProcessor(e)}function lx(e){const t=zt(),{user:n}=bk(t,he()),{userAgent:r}=re.navigator||{},s=$4({user:n,...r&&{userAgent:r},...e}),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&Ki(i,{status:"exited"}),Tk(),t.setSession(s),s}function Tk(){const e=zt(),n=he().getSession()||e.getSession();n&&F4(n),Ck(),e.setSession()}function Ck(){const e=zt(),t=ee(),n=e.getSession();n&&t&&t.captureSession(n)}function Th(e=!1){if(e){Tk();return}Ck()}const C$="7";function Ik(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function I$(e){return`${Ik(e)}${e.projectId}/envelope/`}function R$(e,t){const n={sentry_version:C$};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function N$(e,t,n){return t||`${I$(e)}?${R$(e,n)}`}function A$(e,t){const n=sk(e);if(!n)return"";const r=`${Ik(n)}embed/error-page/`;let s=`dsn=${Bs(n)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const o=t.user;if(!o)continue;o.name&&(s+=`&name=${encodeURIComponent(o.name)}`),o.email&&(s+=`&email=${encodeURIComponent(o.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${s}`}const cx=[];function P$(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function j$(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return P$(r)}function O$(e,t){const n={};return t.forEach(r=>{r&&Rk(e,r,n)}),n}function ux(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Rk(e,t,n){if(n[t.name]){D&&A.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!cx.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),cx.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}D&&A.log(`Integration installed: ${t.name}`)}function M$(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function L$(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Bs(r)),Gr(s,[M$(e)])}function bp(e,t){const n=t??D$(e)??[];if(n.length===0)return;const r=e.getOptions(),s=L$(n,r._metadata,r.tunnel,e.getDsn());Nk().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function D$(e){return Nk().get(e)}function Nk(){return co("clientToLogBufferMap",()=>new WeakMap)}function $$(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function F$(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Bs(r)),Gr(s,[$$(e)])}function Ak(e,t){const n=t??U$(e)??[];if(n.length===0)return;const r=e.getOptions(),s=F$(n,r._metadata,r.tunnel,e.getDsn());Pk().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function U$(e){return Pk().get(e)}function Pk(){return co("clientToMetricBufferMap",()=>new WeakMap)}function jk(e){return typeof e=="object"&&typeof e.unref=="function"&&e.unref(),e}const Gg=Symbol.for("SentryBufferFullError");function Yg(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function s(o){if(!n())return qg(Gg);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function i(o){if(!t.size)return cl(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const l=[a,new Promise(c=>jk(setTimeout(()=>c(!1),o)))];return Promise.race(l)}return{get $(){return Array.from(t)},add:s,drain:i}}const B$=60*1e3;function V$(e,t=il()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?B$:r-t}function z$(e,t){return e[t]||e.all||0}function Ok(e,t,n=il()){return z$(e,t)>n}function Mk(e,{statusCode:t,headers:n},r=il()){const s={...e},i=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(i)for(const a of i.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),f=(isNaN(d)?60:d)*1e3;if(!c)s.all=r+f;else for(const p of c.split(";"))p==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else o?s.all=r+V$(o,r):t===429&&(s.all=r+60*1e3);return s}const Lk=64;function W$(e,t,n=Yg(e.bufferSize||Lk)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(wp(o,(d,f)=>{const p=Xw(f);Ok(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(d)}),a.length===0)return Promise.resolve({});const l=Gr(o[0],a),c=d=>{if(O5(l,["client_report"])){D&&A.warn(`Dropping client report. Will not send outcomes (reason: ${d}).`);return}wp(l,(f,p)=>{e.recordDroppedEvent(d,Xw(p))})},u=()=>t({body:M5(l)}).then(d=>d.statusCode===413?(D&&A.error("Sentry responded with status code 413. Envelope was discarded due to exceeding size limits."),c("send_error"),d):(D&&d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&A.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Mk(r,d),d),d=>{throw c("network_error"),D&&A.error("Encountered error running transport request:",d),d});return n.add(u).then(d=>d,d=>{if(d===Gg)return D&&A.error("Skipped sending event because buffer is full."),c("queue_overflow"),Promise.resolve({});throw d})}return{send:i,flush:s}}function H$(e,t,n){const r=[{type:"client_report"},{timestamp:Us(),discarded_events:e}];return Gr(t?{dsn:t}:{},[r])}function Dk(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function q$(e){var l;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=((l=e.contexts)==null?void 0:l.trace)??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o==null?void 0:o[$g],exclusive_time:o==null?void 0:o[go],measurements:e.measurements,is_segment:!0}}function K$(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[$g]:e.profile_id},...e.exclusive_time&&{[go]:e.exclusive_time}}}},measurements:e.measurements}}const dx="Not capturing exception because it's already been captured.",hx="Discarded session because of missing or non-string release",$k=Symbol.for("SentryInternalError"),Fk=Symbol.for("SentryDoNotSendEventError"),G$=5e3;function Rc(e){return{message:e,[$k]:!0}}function Ch(e){return{message:e,[Fk]:!0}}function fx(e){return!!e&&typeof e=="object"&&$k in e}function px(e){return!!e&&typeof e=="object"&&Fk in e}function mx(e,t,n,r,s){let i=0,o,a=!1;e.on(n,()=>{i=0,clearTimeout(o),a=!1}),e.on(t,l=>{i+=r(l),i>=8e5?s(e):a||(a=!0,o=jk(setTimeout(()=>{s(e)},G$)))}),e.on("flush",()=>{s(e)})}class Y${constructor(t){var r,s,i;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Yg(((r=t.transportOptions)==null?void 0:r.bufferSize)??Lk),t.dsn?this._dsn=sk(t.dsn):D&&A.warn("No DSN provided, client will not send events."),this._dsn){const o=N$(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((s=this._options._experiments)==null?void 0:s.enableLogs),this._options.enableLogs&&mx(this,"afterCaptureLog","flushLogs",Z$,bp),(this._options.enableMetrics??((i=this._options._experiments)==null?void 0:i.enableMetrics)??!0)&&mx(this,"afterCaptureMetric","flushMetrics",Q$,Ak)}captureException(t,n,r){const s=$t();if(Vw(t))return D&&A.log(dx),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r)).then(o=>o),"error"),i.event_id}captureMessage(t,n,r,s){const i={event_id:$t(),...r},o=jg(t)?t:String(t),a=Hi(t),l=a?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(()=>l.then(c=>this._captureEvent(c,i,s)),a?"unknown":"error"),i.event_id}captureEvent(t,n,r){const s=$t();if(n!=null&&n.originalException&&Vw(n.originalException))return D&&A.log(dx),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,l=o.capturedSpanIsolationScope,c=gx(t.type);return this._process(()=>this._captureEvent(t,i,a||r,l),c),i.event_id}captureSession(t){this.sendSession(t),Ki(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){bp(this);const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Rk(this,t,this._integrations),n||ux(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=V5(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=j5(r,$5(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=Vg}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){D&&A.warn(hx);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){D&&A.warn(hx);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=B5(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;D&&A.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...i)=>n(...i);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return D&&A.error("Error while sending envelope:",n),{}}return D&&A.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=O$(this,t),ux(this,t)}_updateSessionFromEvent(t,n){var l,c;let r=n.level==="fatal",s=!1;const i=(l=n.exception)==null?void 0:l.values;if(i){s=!0,r=!1;for(const u of i)if(((c=u.mechanism)==null?void 0:c.handled)===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(Ki(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Sk(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Y4(r),...a.contexts};const l=pk(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=he(),s=zt()){return D&&Sp(t)&&A.log(`Captured error event \`${Dk(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{D&&(px(i)?A.log(i.message):fx(i)?A.warn(i.message):A.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=Uk(t),l=Sp(t),u=`before send for type \`${t.type||"error"}\``,d=typeof o>"u"?void 0:Ns(o);if(l&&typeof d=="number"&&Ir()>d)return this.recordDroppedEvent("sample_rate","error"),qg(Ch(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const f=gx(t.type);return this._prepareEvent(t,n,r,s).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),Ch("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const v=X$(this,i,p,n);return J$(v,u)}).then(p=>{var x;if(p===null){if(this.recordDroppedEvent("before_send",f),a){const y=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw Ch(`${u} returned \`null\`, will not send event.`)}const m=r.getSession()||s.getSession();if(l&&m&&this._updateSessionFromEvent(m,p),a){const g=((x=p.sdkProcessingMetadata)==null?void 0:x.spanCountBeforeProcessing)||0,y=p.spans?p.spans.length:0,w=g-y;w>0&&this.recordDroppedEvent("before_send","span",w)}const v=p.transaction_info;if(a&&v&&p.transaction!==t.transaction){const g="custom";p.transaction_info={...v,source:g}}return this.sendEvent(p,n),p}).then(null,p=>{throw px(p)||fx(p)?p:(this.captureException(p,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:p}),Rc(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===Gg&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){D&&A.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){D&&A.log("No outcomes to send");return}if(!this._dsn){D&&A.log("No dsn provided, will not send outcomes");return}D&&A.log("Sending outcomes:",t);const n=H$(t,this._options.tunnel&&Bs(this._dsn));this.sendEnvelope(n)}}function gx(e){return e==="replay_event"?"replay":e||"error"}function J$(e,t){const n=`${t} must return \`null\` or a valid event.`;if(ho(e))return e.then(r=>{if(!$a(r)&&r!==null)throw Rc(n);return r},r=>{throw Rc(`${t} rejected with ${r}`)});if(!$a(e)&&e!==null)throw Rc(n);return e}function X$(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:a}=t;let l=n;if(Sp(l)&&s)return s(l,r);if(Uk(l)){if(o||a){const c=q$(l);if(a!=null&&a.length&&_u(c,a))return null;if(o){const u=o(c);u?l=ol(n,K$(u)):yp()}if(l.spans){const u=[],d=l.spans;for(const p of d){if(a!=null&&a.length&&_u(p,a)){T5(d,p);continue}if(o){const m=o(p);m?u.push(m):(yp(),u.push(p))}else u.push(p)}const f=l.spans.length-u.length;f&&e.recordDroppedEvent("before_send","span",f),l.spans=u}}if(i){if(l.spans){const c=l.spans.length;l.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(l,r)}}return l}function Sp(e){return e.type===void 0}function Uk(e){return e.type==="transaction"}function Q$(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+Bk(e.attributes)}function Z$(e){let t=0;return e.message&&(t+=e.message.length*2),t+Bk(e.attributes)}function Bk(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*yx(n[0]):Hi(n)?t+=yx(n):t+=100}),t}function yx(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function e3(e){return rl(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function vx(e){return e3(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function t3(e,t){t.debug===!0&&(D?A.enable():Fs(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),he().update(t.initialScope);const r=new e(t);return n3(r),r.init(),r}function n3(e){he().setClient(e)}const r3="thismessage:/";function Jg(e){return"isRelative"in e}function Xg(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?r3:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function s3(e){if(Jg(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function bs(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function i3(e){return e.split(/[?#]/,1)[0]}function Rr(e,t=!0){if(e.startsWith("data:")){const n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",s=e.includes(";base64,"),i=e.indexOf(",");let o="";if(t&&i!==-1){const a=e.slice(i+1);o=a.length>10?`${a.slice(0,10)}... [truncated]`:a}return`data:${r}${s?",base64":""}${o?`,${o}`:""}`}return e}function o3(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return l3(e,n)||a3(e,r)}function a3(e,t){return t?wx(e)===wx(t):!1}function l3(e,t){const n=Xg(e);return!n||Jg(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function wx(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function c3(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Vk(e,t,n=[t],r="npm"){const s=(e._metadata=e._metadata||{}).sdk=e._metadata.sdk||{};s.name||(s.name=`sentry.javascript.${t}`,s.packages=n.map(i=>({name:`${r}:@sentry/${i}`,version:ws})),s.version=ws)}function zk(e={}){const t=e.client||ee();if(!k$()||!t)return{};const n=$s(),r=po(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||he(),i=e.span||gt(),o=i?x5(i):u3(s),a=i?tr(i):pk(t,s),l=i5(a);if(!ik.test(o))return A.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const u={"sentry-trace":o,baggage:l};return e.propagateTraceparent&&(u.traceparent=i?_5(i):d3(s)),u}function u3(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ok(t,r,n)}function d3(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ak(t,r,n)}function h3(e,t,n){let r,s,i;const o=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function l(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?l():r}function d(){return s&&clearTimeout(s),s=a(l,t),o&&i===void 0&&(i=a(l,o)),r}return d.cancel=c,d.flush=u,d}const f3=100;function $r(e,t){const n=ee(),r=zt();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=f3}=n.getOptions();if(i<=0)return;const a={timestamp:Us(),...e},l=s?Fs(()=>s(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,i))}let xx;const p3="FunctionToString",_x=new WeakMap,m3=()=>({name:p3,setupOnce(){xx=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Lg(this),n=_x.has(ee())&&t!==void 0?t:this;return xx.apply(n,e)}}catch{}},setup(e){_x.set(e,!0)}}),g3=m3,y3=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],v3="EventFilters",w3=(e={})=>{let t;return{name:v3,setup(n){const r=n.getOptions();t=bx(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=bx(e,i)}return _3(n,t)?null:n}}},x3=(e={})=>({...w3(e),name:"InboundFilters"});function bx(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:y3],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function _3(e,t){if(e.type){if(e.type==="transaction"&&S3(e,t.ignoreTransactions))return D&&A.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${as(e)}`),!0}else{if(b3(e,t.ignoreErrors))return D&&A.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${as(e)}`),!0;if(C3(e))return D&&A.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${as(e)}`),!0;if(E3(e,t.denyUrls))return D&&A.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${as(e)}.
Url: ${bu(e)}`),!0;if(!k3(e,t.allowUrls))return D&&A.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${as(e)}.
Url: ${bu(e)}`),!0}return!1}function b3(e,t){return t!=null&&t.length?Dk(e).some(n=>zn(n,t)):!1}function S3(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?zn(n,t):!1}function E3(e,t){if(!(t!=null&&t.length))return!1;const n=bu(e);return n?zn(n,t):!1}function k3(e,t){if(!(t!=null&&t.length))return!0;const n=bu(e);return n?zn(n,t):!0}function T3(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function bu(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(i=>{var o,a,l;return((o=i.mechanism)==null?void 0:o.parent_id)===void 0&&((l=(a=i.stacktrace)==null?void 0:a.frames)==null?void 0:l.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?T3(s):null}catch{return D&&A.error(`Cannot extract url for event ${as(e)}`),null}}function C3(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function I3(e,t,n,r,s,i){var a;if(!((a=s.exception)!=null&&a.values)||!i||!Qn(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=Ep(e,t,r,i.originalException,n,s.exception.values,o,0))}function Ep(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let l=[...i];if(Qn(r[s],Error)){Sx(o,a,r);const c=e(t,r[s]),u=l.length;Ex(c,s,u,a),l=Ep(e,t,n,r[s],s,[c,...l],c,u)}return Wk(r)&&r.errors.forEach((c,u)=>{if(Qn(c,Error)){Sx(o,a,r);const d=e(t,c),f=l.length;Ex(d,`errors[${u}]`,f,a),l=Ep(e,t,n,c,s,[d,...l],d,f)}}),l}function Wk(e){return Array.isArray(e.errors)}function Sx(e,t,n){e.mechanism={handled:!0,type:"auto.core.linked_errors",...Wk(n)&&{is_exception_group:!0},...e.mechanism,exception_id:t}}function Ex(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function R3(e){const t="console";Hr(t,e),qr(t,N3)}function N3(){"console"in re&&m4.forEach(function(e){e in re.console&&St(re.console,e,function(t){return vu[e]=t,function(...n){Zt("console",{args:n,level:e});const s=vu[e];s==null||s.apply(re.console,n)}})})}function Hk(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const A3="Dedupe",P3=()=>{let e;return{name:A3,processEvent(t){if(t.type)return t;try{if(O3(t,e))return D&&A.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},j3=P3;function O3(e,t){return t?!!(M3(e,t)||L3(e,t)):!1}function M3(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Kk(e,t)||!qk(e,t))}function L3(e,t){const n=kx(t),r=kx(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Kk(e,t)||!qk(e,t))}function qk(e,t){let n=Lw(e),r=Lw(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function Kk(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function kx(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const D3="ConversationId",$3=()=>({name:D3,setup(e){e.on("spanStart",t=>{const n=he().getScopeData(),r=zt().getScopeData(),s=n.conversationId||r.conversationId;s&&t.setAttribute(X4,s)})}}),F3=$3;function U3(e,t,n,r,s){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=vn()&&t(o);if(e.endTimestamp){const p=e.fetchData.__span;if(!p)return;const m=r[p];m&&(a&&(z3(m,e),B3(m,e,s)),delete r[p]);return}const{spanOrigin:l="auto.http.browser",propagateTraceparent:c=!1}=typeof s=="object"?s:{spanOrigin:s},u=!!gt(),d=a&&u?yo(H3(o,i,l)):new Dr;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const p=e.args[0],m={...e.args[1]||{}},v=V3(p,m,vn()&&u?d:void 0,c);v&&(e.args[1]=m,m.headers=v)}const f=ee();if(f){const p={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};f.emit("beforeOutgoingRequestSpan",d,p)}return d}function B3(e,t,n){var s;const r=typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0;r==null||r(e,{headers:(s=t.response)==null?void 0:s.headers,error:t.error})}function V3(e,t,n,r){const s=zk({span:n,propagateTraceparent:r}),i=s["sentry-trace"],o=s.baggage,a=s.traceparent;if(!i)return;const l=t.headers||(Og(e)?e.headers:void 0);if(l)if(W3(l)){const c=new Headers(l);if(c.get("sentry-trace")||c.set("sentry-trace",i),r&&a&&!c.get("traceparent")&&c.set("traceparent",a),o){const u=c.get("baggage");u?Ql(u)||c.set("baggage",`${u},${o}`):c.set("baggage",o)}return c}else if(Array.isArray(l)){const c=[...l];l.find(d=>d[0]==="sentry-trace")||c.push(["sentry-trace",i]),r&&a&&!l.find(d=>d[0]==="traceparent")&&c.push(["traceparent",a]);const u=l.find(d=>d[0]==="baggage"&&Ql(d[1]));return o&&!u&&c.push(["baggage",o]),c}else{const c="sentry-trace"in l?l["sentry-trace"]:void 0,u="traceparent"in l?l.traceparent:void 0,d="baggage"in l?l.baggage:void 0,f=d?Array.isArray(d)?[...d]:[d]:[],p=d&&(Array.isArray(d)?d.find(v=>Ql(v)):Ql(d));o&&!p&&f.push(o);const m={...l,"sentry-trace":c??i,baggage:f.length>0?f.join(","):void 0};return r&&a&&!u&&(m.traceparent=a),m}else return{...s}}function z3(e,t){var n,r;if(t.response){Z1(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const i=parseInt(s);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:ze,message:"internal_error"});e.end()}function Ql(e){return e.split(",").some(t=>t.trim().startsWith(Ug))}function W3(e){return typeof Headers<"u"&&Qn(e,Headers)}function H3(e,t,n){if(e.startsWith("data:")){const i=Rr(e);return{name:`${t} ${i}`,attributes:Tx(e,void 0,t,n)}}const r=Xg(e),s=r?s3(r):e;return{name:`${t} ${s}`,attributes:Tx(e,r,t,n)}}function Tx(e,t,n,r){const s={url:Rr(e),type:"fetch","http.method":n,[qe]:r,[er]:"http.client"};return t&&(Jg(t)||(s["http.url"]=Rr(t.href),s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function Gk(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Ba=re;function q3(){return"history"in Ba&&!!Ba.history}function K3(){if(!("fetch"in Ba))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function kp(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function G3(){var n;if(typeof EdgeRuntime=="string")return!0;if(!K3())return!1;if(kp(Ba.fetch))return!0;let e=!1;const t=Ba.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=kp(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){D&&A.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Yk(e,t){const n="fetch";Hr(n,e),qr(n,()=>Jk(void 0,t))}function Y3(e){const t="fetch-body-resolved";Hr(t,e),qr(t,()=>Jk(X3))}function Jk(e,t=!1){t&&!G3()||St(re,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=Q3(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:Ye()*1e3,virtualError:s,headers:Z3(r)};return e||Zt("fetch",{...a}),n.apply(re,r).then(async l=>(e?e(l):Zt("fetch",{...a,endTimestamp:Ye()*1e3,response:l}),l),l=>{Zt("fetch",{...a,endTimestamp:Ye()*1e3,error:l}),rl(l)&&l.stack===void 0&&(l.stack=s.stack,It(l,"framesToPop",1));const c=ee(),u=(c==null?void 0:c.getOptions().enhanceFetchErrorMessages)??"always";if(u!==!1&&l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{const p=new URL(a.fetchData.url).host;u==="always"?l.message=`${l.message} (${p})`:It(l,"__sentry_fetch_url_host__",p)}catch{}throw l})}})}async function J3(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function X3(e){let t;try{t=e.clone()}catch{return}J3(t,()=>{Zt("fetch-body-resolved",{endTimestamp:Ye()*1e3,response:e})})}function Nc(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Cx(e){return typeof e=="string"?e:e?Nc(e,"url")?e.url:e.toString?e.toString():"":""}function Q3(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Cx(n),method:Nc(r,"method")?String(r.method).toUpperCase():Og(n)&&Nc(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Cx(t),method:Nc(t,"method")?String(t.method).toUpperCase():"GET"}}function Z3(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Og(t))return new Headers(t.headers)}catch{}}function eF(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function tF(){return"npm"}function nF(){return!eF()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Tp(){return typeof window<"u"&&(!nF()||rF())}function rF(){const e=re.process;return(e==null?void 0:e.type)==="renderer"}const Z=re;let Cp=0;function Xk(){return Cp>0}function sF(){Cp++,setTimeout(()=>{Cp--})}function Ji(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(Lg(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>Ji(o,t));return e.apply(this,i)}catch(i){throw sF(),mo(o=>{o.addEventProcessor(a=>(t.mechanism&&(pp(a,void 0),qi(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Kg(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}G1(r,e),It(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Qg(){const e=fo(),{referrer:t}=Z.document||{},{userAgent:n}=Z.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function Zg(e,t){const n=ey(e,t),r={type:cF(t),value:uF(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function iF(e,t,n,r){const s=ee(),i=s==null?void 0:s.getOptions().normalizeDepth,o=mF(t),a={__serialized__:mk(t,i)};if(o)return{exception:{values:[Zg(e,o)]},extra:a};const l={exception:{values:[{type:dd(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:fF(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=ey(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Ih(e,t){return{exception:{values:[Zg(e,t)]}}}function ey(e,t){const n=t.stacktrace||t.stack||"",r=aF(t),s=lF(t);try{return e(n,r,s)}catch{}return[]}const oF=/Minified React error #\d+;/i;function aF(e){return e&&oF.test(e.message)?1:0}function lF(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Qk(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function cF(e){const t=e==null?void 0:e.name;return!t&&Qk(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function uF(e){const t=e==null?void 0:e.message;return Qk(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?vx(t.error):vx(e):"No error message"}function dF(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,i=ty(e,t,s,r);return qi(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),cl(i)}function hF(e,t,n="info",r,s){const i=(r==null?void 0:r.syntheticException)||void 0,o=Ip(e,t,i,s);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),cl(o)}function ty(e,t,n,r,s){let i;if(H1(t)&&t.error)return Ih(e,t.error);if($w(t)||T4(t)){const o=t;if("stack"in t)i=Ih(e,t);else{const a=o.name||($w(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;i=Ip(e,l,n,r),pp(i,l)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return rl(t)?Ih(e,t):$a(t)||dd(t)?(i=iF(e,t,n,s),qi(i,{synthetic:!0}),i):(i=Ip(e,t,n,r),pp(i,`${t}`),qi(i,{synthetic:!0}),i)}function Ip(e,t,n,r){const s={};if(r&&n){const i=ey(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),qi(s,{synthetic:!0})}if(jg(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function fF(e,{isUnhandledRejection:t}){const n=P4(e),r=t?"promise rejection":"exception";return H1(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:dd(e)?`Event \`${pF(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function pF(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function mF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class gF extends Y${constructor(t){var u;const n=yF(t),r=Z.SENTRY_SDK_SOURCE||tF();Vk(n,"browser",["browser"],r),(u=n._metadata)!=null&&u.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o,_experiments:a,enableMetrics:l}=this._options,c=l??(a==null?void 0:a.enableMetrics)??!0;Z.document&&(i||o||c)&&Z.document.addEventListener("visibilitychange",()=>{Z.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&bp(this),c&&Ak(this))}),s&&this.on("beforeSendSession",c3)}eventFromException(t,n){return dF(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return hF(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function yF(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=Z.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const As=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,K=re,vF=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",ul=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=vF(t.value,n),e(t)))}},dl=(e=!0)=>{var n,r;const t=(r=(n=K.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},vo=()=>{const e=dl();return(e==null?void 0:e.activationStart)??0};function Nr(e,t,n){K.document&&K.addEventListener(e,t,n)}function Su(e,t,n){K.document&&K.removeEventListener(e,t,n)}let Oi=-1;const Zk=new Set,wF=()=>{var e,t;return((e=K.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=K.document)!=null&&t.prerendering)?0:1/0},Ac=e=>{if(xF(e)&&Oi>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of Zk)t();isFinite(Oi)||(Oi=e.type==="visibilitychange"?e.timeStamp:0,Su("prerenderingchange",Ac,!0))}},hl=()=>{var e;if(K.document&&Oi<0){const t=vo();Oi=(K.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??wF(),Nr("visibilitychange",Ac,!0),Nr("pagehide",Ac,!0),Nr("prerenderingchange",Ac,!0)}return{get firstHiddenTime(){return Oi},onHidden(t){Zk.add(t)}}};function xF(e){var t;return e.type==="pagehide"||((t=K.document)==null?void 0:t.visibilityState)==="hidden"}const _F=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,fl=(e,t=-1)=>{var i,o;const n=dl();let r="navigate";return n&&((i=K.document)!=null&&i.prerendering||vo()>0?r="prerender":(o=K.document)!=null&&o.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:_F(),navigationType:r}},Rh=new WeakMap;function ny(e,t){try{return Rh.get(e)||Rh.set(e,new t),Rh.get(e)}catch{return new t}}class Eu{constructor(){Eu.prototype.__init.call(this),Eu.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const wo=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},ry=e=>{let t=!1;return()=>{t||(e(),t=!0)}},fd=e=>{var t;(t=K.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},bF=[1800,3e3],SF=(e,t={})=>{fd(()=>{const n=hl(),r=fl("FCP");let s;const o=wo("paint",a=>{for(const l of a)l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-vo(),0),r.entries.push(l),s(!0)))});o&&(s=ul(e,r,bF,t.reportAllChanges))})},EF=[.1,.25],kF=(e,t={})=>{SF(ry(()=>{var l;const n=fl("CLS",0);let r;const s=hl(),i=ny(t,Eu),o=c=>{for(const u of c)i._processEntry(u);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},a=wo("layout-shift",o);a&&(r=ul(e,n,EF,t.reportAllChanges),s.onHidden(()=>{o(a.takeRecords()),r(!0)}),(l=K==null?void 0:K.setTimeout)==null||l.call(K,r))}))};let eT=0,Nh=1/0,Zl=0;const TF=e=>{e.forEach(t=>{t.interactionId&&(Nh=Math.min(Nh,t.interactionId),Zl=Math.max(Zl,t.interactionId),eT=Zl?(Zl-Nh)/7+1:0)})};let Rp;const tT=()=>Rp?eT:performance.interactionCount||0,CF=()=>{"interactionCount"in performance||Rp||(Rp=wo("event",TF,{type:"event",buffered:!0,durationThreshold:0}))},Ah=10;let nT=0;const IF=()=>tT()-nT;class ku{constructor(){ku.prototype.__init.call(this),ku.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){nT=tT(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(IF()/50));return this._longestInteractionList[t]}_processEntry(t){var s,i;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Ah||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,a)=>a._latency-o._latency),this._longestInteractionList.length>Ah){const o=this._longestInteractionList.splice(Ah);for(const a of o)this._longestInteractionMap.delete(a.id)}(i=this._onAfterProcessingINPCandidate)==null||i.call(this,r)}}}const rT=e=>{var n;const t=K.requestIdleCallback||K.setTimeout;((n=K.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=ry(e),Nr("visibilitychange",e,{once:!0,capture:!0}),Nr("pagehide",e,{once:!0,capture:!0}),t(()=>{e(),Su("visibilitychange",e,{capture:!0}),Su("pagehide",e,{capture:!0})}))},RF=[200,500],NF=40,AF=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=hl();fd(()=>{CF();const r=fl("INP");let s;const i=ny(t,ku),o=l=>{rT(()=>{for(const u of l)i._processEntry(u);const c=i._estimateP98LongestInteraction();c&&c._latency!==r.value&&(r.value=c._latency,r.entries=c.entries,s())})},a=wo("event",o,{durationThreshold:t.durationThreshold??NF});s=ul(e,r,RF,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),s(!0)}))})};class PF{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const jF=[2500,4e3],OF=(e,t={})=>{fd(()=>{const n=hl(),r=fl("LCP");let s;const i=ny(t,PF),o=l=>{t.reportAllChanges||(l=l.slice(-1));for(const c of l)i._processEntry(c),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-vo(),0),r.entries=[c],s())},a=wo("largest-contentful-paint",o);if(a){s=ul(e,r,jF,t.reportAllChanges);const l=ry(()=>{o(a.takeRecords()),a.disconnect(),s(!0)}),c=u=>{u.isTrusted&&(rT(l),Su(u.type,c,{capture:!0}))};for(const u of["keydown","click","visibilitychange"])Nr(u,c,{capture:!0})}})},MF=[800,1800],Np=e=>{var t,n;(t=K.document)!=null&&t.prerendering?fd(()=>Np(e)):((n=K.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Np(e),!0):setTimeout(e)},LF=(e,t={})=>{const n=fl("TTFB"),r=ul(e,n,MF,t.reportAllChanges);Np(()=>{const s=dl();s&&(n.value=Math.max(s.responseStart-vo(),0),n.entries=[s],r(!0))})},na={},Tu={};let sT,iT,oT,aT;function sy(e,t=!1){return pd("cls",e,$F,sT,t)}function iy(e,t=!1){return pd("lcp",e,FF,iT,t)}function DF(e){return pd("ttfb",e,UF,oT)}function lT(e){return pd("inp",e,BF,aT)}function Ps(e,t){return cT(e,t),Tu[e]||(VF(e),Tu[e]=!0),uT(e,t)}function pl(e,t){const n=na[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){As&&A.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Xn(r)}
Error:`,s)}}function $F(){return kF(e=>{pl("cls",{metric:e}),sT=e},{reportAllChanges:!0})}function FF(){return OF(e=>{pl("lcp",{metric:e}),iT=e},{reportAllChanges:!0})}function UF(){return LF(e=>{pl("ttfb",{metric:e}),oT=e})}function BF(){return AF(e=>{pl("inp",{metric:e}),aT=e})}function pd(e,t,n,r,s=!1){cT(e,t);let i;return Tu[e]||(i=n(),Tu[e]=!0),r&&t({metric:r}),uT(e,t,s?i:void 0)}function VF(e){const t={};e==="event"&&(t.durationThreshold=0),wo(e,n=>{pl(e,{entries:n})},t)}function cT(e,t){na[e]=na[e]||[],na[e].push(t)}function uT(e,t,n){return()=>{n&&n();const r=na[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function zF(e){return"duration"in e}const WF=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=K.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};Nr("visibilitychange",t,{capture:!0,once:!0}),Nr("pagehide",t,{capture:!0,once:!0})};function Ph(e){return typeof e=="number"&&isFinite(e)}function Fr(e,t,n,{...r}){const s=ce(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Wg(e,()=>{const i=yo({startTime:t,...r});return i&&i.end(n),i})}function oy(e){var x;const t=ee();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:l}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c==null?void 0:c.getReplayId(),d=he(),f=d.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0;let m;try{m=d.getScopeData().contexts.profile.profile_id}catch{}const v={release:o,environment:a,user:p||void 0,profile_id:m||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":(x=K.navigator)==null?void 0:x.userAgent,"client.address":l?"{{auto}}":void 0,...s};return yo({name:n,attributes:v,startTime:i,experimental:{standalone:!0}})}function ml(){return K.addEventListener&&K.performance}function je(e){return e/1e3}function HF(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function dT(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function hT(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}WF(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,l)=>{l!=null&&l.isRedirect||(s("navigation"),i(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function qF(e){let t=0,n;if(!dT("layout-shift"))return;const r=sy(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);hT(e,(s,i)=>{KF(t,n,i,s),r()})}function KF(e,t,n,r){var c;As&&A.log(`Sending CLS span (${e})`);const s=t?je((Nt()||0)+t.startTime):Ye(),i=he().getScopeData().transactionName,o=t?Ct((c=t.sources[0])==null?void 0:c.node):"Layout shift",a={[qe]:"auto.http.browser.cls",[er]:"ui.webvital.cls",[go]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=Ct(u.node)});const l=oy({name:o,transaction:i,attributes:a,startTime:s});l&&(l.addEvent("cls",{[al]:"",[ll]:e}),l.end(s))}function GF(e){let t=0,n;if(!dT("largest-contentful-paint"))return;const r=iy(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);hT(e,(s,i)=>{YF(t,n,i,s),r()})}function YF(e,t,n,r){As&&A.log(`Sending LCP span (${e})`);const s=je((Nt()||0)+((t==null?void 0:t.startTime)||0)),i=he().getScopeData().transactionName,o=t?Ct(t.element):"Largest contentful paint",a={[qe]:"auto.http.browser.lcp",[er]:"ui.webvital.lcp",[go]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Ct(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const l=oy({name:o,transaction:i,attributes:a,startTime:s});l&&(l.addEvent("lcp",{[al]:"millisecond",[ll]:e}),l.end(s))}function qt(e){return e&&((Nt()||performance.timeOrigin)+e)/1e3}function fT(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:s}=HF(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=r}return Nt()||(n=ml())!=null&&n.timeOrigin?JF({...t,"http.request.redirect_start":qt(e.redirectStart),"http.request.redirect_end":qt(e.redirectEnd),"http.request.worker_start":qt(e.workerStart),"http.request.fetch_start":qt(e.fetchStart),"http.request.domain_lookup_start":qt(e.domainLookupStart),"http.request.domain_lookup_end":qt(e.domainLookupEnd),"http.request.connect_start":qt(e.connectStart),"http.request.secure_connection_start":qt(e.secureConnectionStart),"http.request.connection_end":qt(e.connectEnd),"http.request.request_start":qt(e.requestStart),"http.request.response_start":qt(e.responseStart),"http.request.response_end":qt(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function JF(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const XF=2147483647;let Ix=0,fn={},xt,bi;function QF({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=ml();if(r&&Nt()){r.mark&&K.performance.mark("sentry-tracing-init");const s=t?GF(n):rU(),i=sU(),o=e?qF(n):nU();return()=>{s==null||s(),i(),o==null||o()}}return()=>{}}function ZF(){Ps("longtask",({entries:e})=>{const t=gt();if(!t)return;const{op:n,start_timestamp:r}=ce(t);for(const s of e){const i=je(Nt()+s.startTime),o=je(s.duration);n==="navigation"&&r&&i<r||Fr(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[qe]:"auto.ui.browser.metrics"}})}})}function eU(){new PerformanceObserver(t=>{const n=gt();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=je(Nt()+r.startTime),{start_timestamp:i,op:o}=ce(n);if(o==="navigation"&&i&&s<i)continue;const a=je(r.duration),l={[qe]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:u,invokerType:d,sourceURL:f,sourceFunctionName:p,sourceCharPosition:m}=c;l["browser.script.invoker"]=u,l["browser.script.invoker_type"]=d,f&&(l["code.filepath"]=f),p&&(l["code.function"]=p),m!==-1&&(l["browser.script.source_char_position"]=m),Fr(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function tU(){Ps("event",({entries:e})=>{const t=gt();if(t){for(const n of e)if(n.name==="click"){const r=je(Nt()+n.startTime),s=je(n.duration),i={name:Ct(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[qe]:"auto.ui.browser.metrics"}},o=K1(n.target);o&&(i.attributes["ui.component_name"]=o),Fr(t,r,r+s,i)}}})}function nU(){return sy(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(fn.cls={value:e.value,unit:""},bi=t)},!0)}function rU(){return iy(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(fn.lcp={value:e.value,unit:"millisecond"},xt=t)},!0)}function sU(){return DF(({metric:e})=>{e.entries[e.entries.length-1]&&(fn.ttfb={value:e.value,unit:"millisecond"})})}function iU(e,t){const n=ml(),r=Nt();if(!(n!=null&&n.getEntries)||!r)return;const s=je(r),i=n.getEntries(),{op:o,start_timestamp:a}=ce(e);i.slice(Ix).forEach(l=>{const c=je(l.startTime),u=je(Math.max(0,l.duration));if(!(o==="navigation"&&a&&s+c<a))switch(l.entryType){case"navigation":{cU(e,l,s);break}case"mark":case"paint":case"measure":{aU(e,l,c,u,s,t.ignorePerformanceApiSpans);const d=hl(),f=l.startTime<d.firstHiddenTime;l.name==="first-paint"&&f&&(fn.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&f&&(fn.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{hU(e,l,l.name,c,u,s,t.ignoreResourceSpans);break}}}),Ix=Math.max(i.length-1,0),fU(e),o==="pageload"&&(gU(fn),t.recordClsOnPageloadSpan||delete fn.cls,t.recordLcpOnPageloadSpan||delete fn.lcp,Object.entries(fn).forEach(([l,c])=>{q5(l,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",vo()),pU(e,t)),xt=void 0,bi=void 0,fn={}}function oU(e){if((e==null?void 0:e.entryType)==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function aU(e,t,n,r,s,i){if(oU(t)||["mark","measure"].includes(t.entryType)&&zn(t.name,i))return;const o=dl(!1),a=je(o?o.requestStart:0),l=s+Math.max(n,a),c=s+n,u=c+r,d={[qe]:"auto.resource.browser.metrics"};l!==c&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=l),lU(d,t),l<=u&&Fr(e,l,u,{name:t.name,op:t.entryType,attributes:d})}function lU(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&Hi(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(Hi(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function cU(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{ec(e,t,r,n)}),ec(e,t,"secureConnection",n,"TLS/SSL"),ec(e,t,"fetch",n,"cache"),ec(e,t,"domainLookup",n,"DNS"),dU(e,t,n)}function ec(e,t,n,r,s=n){const i=uU(n),o=t[i],a=t[`${n}Start`];!a||!o||Fr(e,r+je(a),r+je(o),{op:`browser.${s}`,name:t.name,attributes:{[qe]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function uU(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function dU(e,t,n){const r=n+je(t.requestStart),s=n+je(t.responseEnd),i=n+je(t.responseStart);t.responseEnd&&(Fr(e,r,s,{op:"browser.request",name:t.name,attributes:{[qe]:"auto.ui.browser.metrics"}}),Fr(e,i,s,{op:"browser.response",name:t.name,attributes:{[qe]:"auto.ui.browser.metrics"}}))}function hU(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(a))return;const l={[qe]:"auto.resource.browser.metrics"},c=bs(n);c.protocol&&(l["url.scheme"]=c.protocol.split(":").pop()),c.host&&(l["server.address"]=c.host),l["url.same_origin"]=n.includes(K.location.origin),mU(t,l,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const u={...l,...fT(t)},d=i+r,f=d+s;Fr(e,d,f,{name:n.replace(K.location.origin,""),op:a,attributes:u})}function fU(e){const t=K.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Ph(n.rtt)&&(fn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ph(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Ph(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function pU(e,t){xt&&t.recordLcpOnPageloadSpan&&(xt.element&&e.setAttribute("lcp.element",Ct(xt.element)),xt.id&&e.setAttribute("lcp.id",xt.id),xt.url&&e.setAttribute("lcp.url",xt.url.trim().slice(0,200)),xt.loadTime!=null&&e.setAttribute("lcp.loadTime",xt.loadTime),xt.renderTime!=null&&e.setAttribute("lcp.renderTime",xt.renderTime),e.setAttribute("lcp.size",xt.size)),bi!=null&&bi.sources&&t.recordClsOnPageloadSpan&&bi.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ct(n.node)))}function mU(e,t,n){n.forEach(([r,s])=>{const i=e[r];i!=null&&(typeof i=="number"&&i<XF||typeof i=="string")&&(t[s]=i)})}function gU(e){const t=dl(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function yU(){return ml()&&Nt()?Ps("element",vU):()=>{}}const vU=({entries:e})=>{const t=gt(),n=t?lt(t):void 0,r=n?ce(n).description:he().getScopeData().transactionName;e.forEach(s=>{var p,m;const i=s;if(!i.identifier)return;const o=i.name,a=i.renderTime,l=i.loadTime,[c,u]=l?[je(l),"load-time"]:a?[je(a),"render-time"]:[Ye(),"entry-emission"],d=o==="image-paint"?je(Math.max(0,(a??0)-(l??0))):0,f={[qe]:"auto.ui.browser.elementtiming",[er]:"ui.elementtiming",[mn]:"component","sentry.span_start_time_source":u,"sentry.transaction_name":r,"element.id":i.id,"element.type":((m=(p=i.element)==null?void 0:p.tagName)==null?void 0:m.toLowerCase())||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":l,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};Q5({name:`element[${i.identifier}]`,attributes:f,startTime:c,onlyIfParent:!0},v=>{v.end(c+d)})})},wU=1e3;let Rx,Ap,Pp;function pT(e){const t="dom";Hr(t,e),qr(t,xU)}function xU(){if(!K.document)return;const e=Zt.bind(null,"dom"),t=Nx(e,!0);K.document.addEventListener("click",t,!1),K.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var i,o;const s=(i=K[n])==null?void 0:i.prototype;(o=s==null?void 0:s.hasOwnProperty)!=null&&o.call(s,"addEventListener")&&(St(s,"addEventListener",function(a){return function(l,c,u){if(l==="click"||l=="keypress")try{const d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=d[l]=d[l]||{refCount:0};if(!f.handler){const p=Nx(e);f.handler=p,a.call(this,l,p,u)}f.refCount++}catch{}return a.call(this,l,c,u)}}),St(s,"removeEventListener",function(a){return function(l,c,u){if(l==="click"||l=="keypress")try{const d=this.__sentry_instrumentation_handlers__||{},f=d[l];f&&(f.refCount--,f.refCount<=0&&(a.call(this,l,f.handler,u),f.handler=void 0,delete d[l]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,l,c,u)}}))})}function _U(e){if(e.type!==Ap)return!1;try{if(!e.target||e.target._sentryId!==Pp)return!1}catch{}return!0}function bU(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Nx(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=SU(n);if(bU(n.type,r))return;It(n,"_sentryCaptured",!0),r&&!r._sentryId&&It(r,"_sentryId",$t());const s=n.type==="keypress"?"input":n.type;_U(n)||(e({event:n,name:s,global:t}),Ap=n.type,Pp=r?r._sentryId:void 0),clearTimeout(Rx),Rx=K.setTimeout(()=>{Pp=void 0,Ap=void 0},wU)}}function SU(e){try{return e.target}catch{return null}}let tc;function md(e){const t="history";Hr(t,e),qr(t,EU)}function EU(){if(K.addEventListener("popstate",()=>{const t=K.location.href,n=tc;if(tc=t,n===t)return;Zt("history",{from:n,to:t})}),!q3())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=tc,i=kU(String(r));if(tc=i,s===i)return t.apply(this,n);Zt("history",{from:s,to:i})}return t.apply(this,n)}}St(K.history,"pushState",e),St(K.history,"replaceState",e)}function kU(e){try{return new URL(e,K.location.origin).toString()}catch{return e}}const Pc={};function mT(e){const t=Pc[e];if(t)return t;let n=K[e];if(kp(n))return Pc[e]=n.bind(K);const r=K.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){As&&A.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Pc[e]=n.bind(K))}function TU(e){Pc[e]=void 0}function gl(...e){return mT("setTimeout")(...e)}const ps="__sentry_xhr_v3__";function gT(e){const t="xhr";Hr(t,e),qr(t,CU)}function CU(){if(!K.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=Ye()*1e3,o=Vn(r[0])?r[0].toUpperCase():void 0,a=IU(r[1]);if(!o||!a)return t.apply(n,r);n[ps]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[ps];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const u={endTimestamp:Ye()*1e3,startTimestamp:i,xhr:n,virtualError:s};Zt("xhr",u)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,u,d){return l(),c.apply(u,d)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,u,d){const[f,p]=d,m=u[ps];return m&&Vn(f)&&Vn(p)&&(m.request_headers[f.toLowerCase()]=p),c.apply(u,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[ps];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:Ye()*1e3,xhr:n};return Zt("xhr",i),t.apply(n,r)}})}function IU(e){if(Vn(e))return e;try{return e.toString()}catch{}}const RU=Symbol.for("sentry__originalRequestBody");function yT(e){return new URLSearchParams(e).toString()}function vT(e,t=A){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[yT(e)];if(!e)return[void 0]}catch(n){return As&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return As&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function wT(e=[]){if(e.length>=2&&e[1]&&typeof e[1]=="object"&&"body"in e[1])return e[1].body;if(e.length>=1&&e[0]instanceof Request){const n=e[0][RU];return n!==void 0?n:void 0}}function xT(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return As&&A.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}const jh=[],jc=new Map,Js=new Map,NU=60;function AU(){if(ml()&&Nt()){const t=PU();return()=>{t()}}return()=>{}}const jp={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function PU(){return lT(jU)}const jU=({metric:e})=>{if(e.value==null)return;const t=je(e.value);if(t>NU)return;const n=e.entries.find(m=>m.duration===e.value&&jp[m.name]);if(!n)return;const{interactionId:r}=n,s=jp[n.name],i=je(Nt()+n.startTime),o=gt(),a=o?lt(o):void 0,l=r!=null?jc.get(r):void 0,c=(l==null?void 0:l.span)||a,u=c?ce(c).description:he().getScopeData().transactionName,d=(l==null?void 0:l.elementName)||Ct(n.target),f={[qe]:"auto.http.browser.inp",[er]:`ui.interaction.${s}`,[go]:n.duration},p=oy({name:d,transaction:u,attributes:f,startTime:i});p&&(p.addEvent("inp",{[al]:"millisecond",[ll]:e.value}),p.end(i+t))};function OU(){const e=Object.keys(jp);Tp()&&e.forEach(s=>{K.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const i=s.target;if(!i)return;const o=Ct(i),a=Math.round(s.timeStamp);if(Js.set(a,o),Js.size>50){const l=Js.keys().next().value;l!==void 0&&Js.delete(l)}}function n(s){const i=Math.round(s.startTime);let o=Js.get(i);if(!o)for(let a=-5;a<=5;a++){const l=Js.get(i+a);if(l){o=l;break}}return o||"<unknown>"}const r=({entries:s})=>{const i=gt(),o=i&&lt(i);s.forEach(a=>{if(!zF(a))return;const l=a.interactionId;if(l==null||jc.has(l))return;const c=a.target?Ct(a.target):n(a);if(jh.length>10){const u=jh.shift();jc.delete(u)}jh.push(l),jc.set(l,{span:o,elementName:c})})};Ps("event",r),Ps("first-input",r)}const MU=40;function LU(e,t=mT("fetch")){let n=0,r=0;async function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const l=await t(e.url,a);return{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}}catch(l){throw TU("fetch"),l}finally{n-=o,r--}}return W$(e,s,Yg(e.bufferSize||MU))}const Rt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,DU=30,$U=50;function Op(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Rs:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const FU=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,UU=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,BU=/\((\S*)(?::(\d+))(?::(\d+))\)/,VU=/at (.+?) ?\(data:(.+?),/,zU=e=>{const t=e.match(VU);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=FU.exec(e);if(n){const[,s,i,o]=n;return Op(s,Rs,+i,+o)}const r=UU.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=BU.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[i,o]=_T(r[1]||Rs,r[2]);return Op(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},WU=[DU,zU],HU=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,qU=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,KU=e=>{const t=HU.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=qU.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||Rs;return[s,r]=_T(s,r),Op(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},GU=[$U,KU],YU=[WU,GU],JU=U1(...YU),_T=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Rs,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},nc=1024,XU="Breadcrumbs",QU=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:XU,setup(n){t.console&&R3(nB(n)),t.dom&&pT(tB(n,t.dom)),t.xhr&&gT(rB(n)),t.fetch&&Yk(sB(n)),t.history&&md(iB(n)),t.sentry&&n.on("beforeSendEvent",eB(n))}}},ZU=QU;function eB(e){return function(n){ee()===e&&$r({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:as(n)},{event:n})}}function tB(e,t){return function(r){if(ee()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>nc&&(Rt&&A.warn(`\`dom.maxStringLength\` cannot exceed ${nc}, but a value of ${a} was configured. Sentry will use ${nc} instead.`),a=nc),typeof o=="string"&&(o=[o]);try{const c=r.event,u=oB(c)?c.target:c;s=Ct(u,{keyAttrs:o,maxStringLength:a}),i=K1(u)}catch{s="<unknown>"}if(s.length===0)return;const l={category:`ui.${r.name}`,message:s};i&&(l.data={"ui.component_name":i}),$r(l,{event:r.event,name:r.name,global:r.global})}}function nB(e){return function(n){if(ee()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Hk(n.level),message:Bw(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Bw(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;$r(r,{input:n.args,level:n.level})}}function rB(e){return function(n){if(ee()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[ps];if(!r||!s||!i)return;const{method:o,url:a,status_code:l,body:c}=i,u={method:o,url:a,status_code:l},d={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:u,type:"http",level:Gk(l)};e.emit("beforeOutgoingRequestBreadcrumb",f,d),$r(f,d)}}function sB(e){return function(n){if(ee()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),$r(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i==null?void 0:i.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i==null||i.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},l={category:"fetch",data:o,type:"http",level:Gk(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,a),$r(l,a)}}}function iB(e){return function(n){if(ee()!==e)return;let r=n.from,s=n.to;const i=bs(Z.location.href);let o=r?bs(r):void 0;const a=bs(s);o!=null&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),$r({category:"navigation",data:{from:r,to:s}})}}function oB(e){return!!e&&!!e.target}const aB=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],lB="BrowserApiErrors",cB=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:lB,setupOnce(){t.setTimeout&&St(Z,"setTimeout",Ax),t.setInterval&&St(Z,"setInterval",Ax),t.requestAnimationFrame&&St(Z,"requestAnimationFrame",dB),t.XMLHttpRequest&&"XMLHttpRequest"in Z&&St(XMLHttpRequest.prototype,"send",hB);const n=t.eventTarget;n&&(Array.isArray(n)?n:aB).forEach(s=>fB(s,t))}}},uB=cB;function Ax(e){return function(...t){const n=t[0];return t[0]=Ji(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Xn(e)}`}}),e.apply(this,t)}}function dB(e){return function(t){return e.apply(this,[Ji(t,{mechanism:{data:{handler:Xn(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function hB(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&St(n,s,function(i){const o={mechanism:{data:{handler:Xn(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=Lg(i);return a&&(o.mechanism.data.handler=Xn(a)),Ji(i,o)})}),e.apply(this,t)}}function fB(e,t){var s,i;const r=(s=Z[e])==null?void 0:s.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(St(r,"addEventListener",function(o){return function(a,l,c){try{pB(l)&&(l.handleEvent=Ji(l.handleEvent,{mechanism:{data:{handler:Xn(l),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&mB(this,a,l),o.apply(this,[a,Ji(l,{mechanism:{data:{handler:Xn(l),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),c])}}),St(r,"removeEventListener",function(o){return function(a,l,c){try{const u=l.__sentry_wrapped__;u&&o.call(this,a,u,c)}catch{}return o.call(this,a,l,c)}}))}function pB(e){return typeof e.handleEvent=="function"}function mB(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const gB=(e={})=>{const t=e.lifecycle??"route";return{name:"BrowserSession",setupOnce(){if(typeof Z.document>"u"){Rt&&A.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}lx({ignoreDuration:!0}),Th();const n=zt();let r=n.getUser();n.addScopeListener(s=>{const i=s.getUser();((r==null?void 0:r.id)!==(i==null?void 0:i.id)||(r==null?void 0:r.ip_address)!==(i==null?void 0:i.ip_address))&&(Th(),r=i)}),t==="route"&&md(({from:s,to:i})=>{s!==i&&(lx({ignoreDuration:!0}),Th())})}}},yB="CultureContext",vB=()=>({name:yB,preprocessEvent(e){var n;const t=xB();t&&(e.contexts={...e.contexts,culture:{...t,...(n=e.contexts)==null?void 0:n.culture}})}}),wB=vB;function xB(){try{const e=Z.Intl;if(!e)return;const t=e.DateTimeFormat().resolvedOptions();return{locale:t.locale,timezone:t.timeZone,calendar:t.calendar}}catch{return}}const _B="GlobalHandlers",bB=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:_B,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(EB(n),Px("onerror")),t.onunhandledrejection&&(kB(n),Px("onunhandledrejection"))}}},SB=bB;function EB(e){V1(t=>{const{stackParser:n,attachStacktrace:r}=bT();if(ee()!==e||Xk())return;const{msg:s,url:i,line:o,column:a,error:l}=t,c=IB(ty(n,l||s,void 0,r,!1),i,o,a);c.level="error",Ek(c,{originalException:l,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function kB(e){z1(t=>{const{stackParser:n,attachStacktrace:r}=bT();if(ee()!==e||Xk())return;const s=TB(t),i=Hi(s)?CB(s):ty(n,s,void 0,r,!0);i.level="error",Ek(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function TB(e){if(Hi(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function CB(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function IB(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=r,u=n,d=RB(t)??fo();return l.length===0&&l.push({colno:c,filename:d,function:Rs,in_app:!0,lineno:u}),e}function Px(e){Rt&&A.log(`Global Handler attached: ${e}`)}function bT(){const e=ee();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function RB(e){if(!(!Vn(e)||e.length===0))return e.startsWith("data:")?`<${Rr(e,!1)}>`:e}const NB=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!Z.navigator&&!Z.location&&!Z.document)return;const t=Qg(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),AB="cause",PB=5,jB="LinkedErrors",OB=(e={})=>{const t=e.limit||PB,n=e.key||AB;return{name:jB,preprocessEvent(r,s,i){const o=i.getOptions();I3(Zg,o.stackParser,n,t,r,s)}}},MB=OB;function LB(){return DB()?(Rt&&Fs(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function DB(){var i;if(typeof Z.window>"u")return!1;const e=Z;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((i=t==null?void 0:t.runtime)!=null&&i.id))return!1;const n=fo(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Z===Z.top&&r.some(o=>n.startsWith(`${o}://`)))}function $B(e){return[x3(),g3(),F3(),uB(),ZU(),SB(),MB(),j3(),NB(),wB(),gB()]}function FB(e={}){const t=!e.skipBrowserExtensionCheck&&LB();let n=e.defaultIntegrations==null?$B():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:b4(e.stackParser||JU),integrations:j$({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||LU};return t3(gF,r)}function jx(e={}){const t=Z.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){Rt&&A.error("[showReportDialog] Global document not defined");return}const r=he(),s=ee(),i=s==null?void 0:s.getDsn();if(!i){Rt&&A.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||E$()},a=Z.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=A$(i,o);const{onLoad:l,onClose:c}=o;if(l&&(a.onload=l),c){const u=d=>{if(d.data==="__sentry_reportdialog_closed__")try{c()}finally{Z.removeEventListener("message",u)}};Z.addEventListener("message",u)}n.appendChild(a)}const ve=re,ay="sentryReplaySession",UB="replay_event",ly="Unable to send Replay",BB=3e5,VB=9e5,zB=5e3,WB=5500,HB=6e4,qB=5e3,KB=3,Ox=15e4,rc=5e3,GB=3e3,YB=300,cy=2e7,JB=4999,XB=5e4,Mx=36e5;var QB=Object.defineProperty,ZB=(e,t,n)=>t in e?QB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lx=(e,t,n)=>ZB(e,typeof t!="symbol"?t+"":t,n),Ue=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ue||{});function eV(e){return e.nodeType===e.ELEMENT_NODE}function ra(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function sa(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function tV(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function nV(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Cu(e){try{const t=e.rules||e.cssRules;return t?tV(Array.from(t,ST).join("")):null}catch{return null}}function rV(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function ST(e){let t;if(iV(e))try{t=Cu(e.styleSheet)||nV(e)}catch{}else if(oV(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=rV(e)),r&&(n=sV(n)),r||s)return n}return t||e.cssText}function sV(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function iV(e){return"styleSheet"in e}function oV(e){return"selectorText"in e}class ET{constructor(){Lx(this,"idNodeMap",new Map),Lx(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function aV(){return new ET}function gd({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Va({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function Xi(e){return e.toLowerCase()}function Mp(e){return e.toUpperCase()}const Dx="__rrweb_original__";function lV(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const i=t.getImageData,o=Dx in i?i[Dx]:i;if(new Uint32Array(o.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(l=>l!==0))return!1}return!0}function uy(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Xi(t):null}function Iu(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function kT(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const $x={};function TT(e){const t=$x[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return $x[e]=r.bind(window)}function Lp(...e){return TT("setTimeout")(...e)}function CT(...e){return TT("clearTimeout")(...e)}function IT(e){try{return e.contentDocument}catch{}}let cV=1;const uV=new RegExp("[^a-z0-9-_:]"),za=-2;function dy(){return cV++}function dV(e){if(e instanceof HTMLFormElement)return"form";const t=Xi(e.tagName);return uV.test(t)?"div":t}function hV(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Xs,Fx;const fV=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,pV=/^(?:[a-z+]+:)?\/\//i,mV=/^www\..*/i,gV=/^(data:)([^,]*),(.*)/i;function yV(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let s of n){if(s=s.trim(),!s)continue;const i=s.indexOf(":");if(i===-1){r.push(s);continue}const o=s.slice(0,i).trim();t.has(o)||r.push(s)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function Ru(e,t){return(e||"").replace(fV,(n,r,s,i,o,a)=>{const l=s||o||a,c=r||i||"";if(!l)return n;if(pV.test(l)||mV.test(l))return`url(${c}${l}${c})`;if(gV.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${hV(t)+l}${c})`;const u=t.split("/"),d=l.split("/");u.pop();for(const f of d)f!=="."&&(f===".."?u.pop():u.push(f));return`url(${c}${u.join("/")}${c})`})}const vV=/^[^ \t\n\r\u000c]+/,wV=/^[, \t\n\r\u000c]+/;function xV(e,t){if(t.trim()==="")return t;let n=0;function r(i){let o;const a=i.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const s=[];for(;r(wV),!(n>=t.length);){let i=r(vV);if(i.slice(-1)===",")i=Si(e,i.substring(0,i.length-1)),s.push(i);else{let o="";i=Si(e,i);let a=!1;for(;;){const l=t.charAt(n);if(l===""){s.push((i+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,s.push((i+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return s.join(", ")}const Ux=new WeakMap;function Si(e,t){return!t||t.trim()===""?t:yd(e,t)}function _V(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function yd(e,t){let n=Ux.get(e);if(n||(n=e.createElement("a"),Ux.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function RT(e,t,n,r,s,i,o){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return Si(e,r);if(n==="xlink:href"&&r[0]!=="#")return Si(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return Si(e,r);if(n==="srcset")return xV(e,r);if(n==="style"){let a=Ru(r,yd(e));return o&&o.size>0&&(a=yV(a,o)),a}else if(t==="object"&&n==="data")return Si(e,r);return typeof i=="function"?i(n,r,s):r}function NT(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function bV(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function SV(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ms(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ms(e.parentNode,t,n,r+1)}function Ei(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(SV(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Qi(e,t,n,r,s,i){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const c=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let a=-1,l=-1;if(i){if(l=ms(o,Ei(r,s)),l<0)return!0;a=ms(o,Ei(t,n),l>=0?l:1/0)}else{if(a=ms(o,Ei(t,n)),a<0)return!1;l=ms(o,Ei(r,s),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!i}catch{}return!!i}function EV(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const a=Lp(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{CT(a),s=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Lp(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function kV(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=Lp(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{CT(i),r=!0,t()})}function TV(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:v,maskInputFn:x,dataURLOptions:g={},inlineImages:y,recordCanvas:w,keepIframeSrcFn:_,newlyAddedElement:S=!1,ignoreCSSAttributes:k}=t,b=CV(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ue.Document,childNodes:[],compatMode:e.compatMode}:{type:Ue.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ue.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return RV(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:m,maskInputFn:x,dataURLOptions:g,inlineImages:y,recordCanvas:w,keepIframeSrcFn:_,newlyAddedElement:S,rootId:b,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,ignoreCSSAttributes:k});case e.TEXT_NODE:return IV(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:v,maskInputOptions:m,maskInputFn:x,rootId:b});case e.CDATA_SECTION_NODE:return{type:Ue.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:Ue.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function CV(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function IV(e,t){var g;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=d==="STYLE"?!0:void 0,m=d==="SCRIPT"?!0:void 0,v=d==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||(g=e.parentNode.sheet)!=null&&g.cssRules&&(f=Cu(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}f=Ru(f,yd(t.doc))}m&&(f="SCRIPT_PLACEHOLDER");const x=Qi(e,r,i,s,o,n);if(!p&&!m&&!v&&f&&x&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),v&&f&&(l.textarea||x)&&(f=c?c(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){const y=gd({type:null,tagName:d,maskInputOptions:l});f=Va({isMasked:Qi(e,r,i,s,o,y),element:e,value:f,maskInputFn:c})}return{type:Ue.Text,textContent:f||"",isStyle:p,rootId:u}}function RV(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:u={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:v,maskTextClass:x,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:w,ignoreCSSAttributes:_}=t,S=bV(e,r,s,i),k=dV(e);let b={};const T=e.attributes.length;for(let I=0;I<T;I++){const O=e.attributes[I];O.name&&!NT(k,O.name,O.value)&&(b[O.name]=RT(n,k,Xi(O.name),O.value,e,l,_))}if(k==="link"&&o){const I=Array.from(n.styleSheets).find(J=>J.href===e.href);let O=null;I&&(O=Cu(I)),O&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=Ru(O,I.href))}if(k==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const I=Cu(e.sheet);I&&(b._cssText=Ru(I,yd(n)))}if(k==="input"||k==="textarea"||k==="select"||k==="option"){const I=e,O=uy(I),J=Iu(I,Mp(k),O),X=I.checked;if(O!=="submit"&&O!=="button"&&J){const H=Qi(I,x,y,g,w,gd({type:O,tagName:Mp(k),maskInputOptions:a}));b.value=Va({isMasked:H,element:I,value:J,maskInputFn:c})}X&&(b.checked=X)}if(k==="option"&&(e.selected&&!a.select?b.selected=!0:delete b.selected),k==="canvas"&&f){if(e.__context==="2d")lV(e)||(b.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const I=e.toDataURL(u.type,u.quality),O=n.createElement("canvas");O.width=e.width,O.height=e.height;const J=O.toDataURL(u.type,u.quality);I!==J&&(b.rr_dataURL=I)}}if(k==="img"&&d){Xs||(Xs=n.createElement("canvas"),Fx=Xs.getContext("2d"));const I=e,O=I.currentSrc||I.getAttribute("src")||"<unknown-src>",J=I.crossOrigin,X=()=>{I.removeEventListener("load",X);try{Xs.width=I.naturalWidth,Xs.height=I.naturalHeight,Fx.drawImage(I,0,0),b.rr_dataURL=Xs.toDataURL(u.type,u.quality)}catch(H){if(I.crossOrigin!=="anonymous"){I.crossOrigin="anonymous",I.complete&&I.naturalWidth!==0?X():I.addEventListener("load",X);return}else console.warn(`Cannot inline img src=${O}! Error: ${H}`)}I.crossOrigin==="anonymous"&&(J?b.crossOrigin=J:I.removeAttribute("crossorigin"))};I.complete&&I.naturalWidth!==0?X():I.addEventListener("load",X)}if((k==="audio"||k==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),S){const{width:I,height:O}=e.getBoundingClientRect();b={class:b.class,rr_width:`${I}px`,rr_height:`${O}px`}}k==="iframe"&&!p(b.src)&&(!S&&!IT(e)&&(b.rr_src=b.src),delete b.src);let j;try{customElements.get(k)&&(j=!0)}catch{}return{type:Ue.Element,tagName:k,attributes:b,childNodes:[],isSVG:_V(e)||void 0,needBlock:S,rootId:v,isCustom:j}}function ge(e){return e==null?"":e.toLowerCase()}function NV(e,t){if(t.comment&&e.type===Ue.Comment)return!0;if(e.type===Ue.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&kT(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ge(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ge(e.attributes.name)==="application-name"||ge(e.attributes.rel)==="icon"||ge(e.attributes.rel)==="apple-touch-icon"||ge(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ge(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ge(e.attributes.property).match(/^(og|twitter|fb):/)||ge(e.attributes.name).match(/^(og|twitter):/)||ge(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ge(e.attributes.name)==="robots"||ge(e.attributes.name)==="googlebot"||ge(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ge(e.attributes.name)==="author"||ge(e.attributes.name)==="generator"||ge(e.attributes.name)==="framework"||ge(e.attributes.name)==="publisher"||ge(e.attributes.name)==="progid"||ge(e.attributes.property).match(/^article:/)||ge(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ge(e.attributes.name)==="google-site-verification"||ge(e.attributes.name)==="yandex-verification"||ge(e.attributes.name)==="csrf-token"||ge(e.attributes.name)==="p:domain_verify"||ge(e.attributes.name)==="verify-v1"||ge(e.attributes.name)==="verification"||ge(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ki(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:v,maskTextFn:x,maskInputFn:g,slimDOMOptions:y,dataURLOptions:w={},inlineImages:_=!1,recordCanvas:S=!1,onSerialize:k,onIframeLoad:b,iframeLoadTimeout:T=5e3,onBlockedImageLoad:j,onStylesheetLoad:I,stylesheetLoadTimeout:O=5e3,keepIframeSrcFn:J=()=>!1,newlyAddedElement:X=!1,ignoreCSSAttributes:H}=t;let{preserveWhiteSpace:Ie=!0}=t;const ue=TV(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:v,maskTextFn:x,maskInputFn:g,dataURLOptions:w,inlineImages:_,recordCanvas:S,keepIframeSrcFn:J,newlyAddedElement:X,ignoreCSSAttributes:H});if(!ue)return console.warn(e,"not serialized"),null;let q;r.hasNode(e)?q=r.getId(e):NV(ue,y)||!Ie&&ue.type===Ue.Text&&!ue.isStyle&&!ue.textContent.replace(/^\s+|\s+$/gm,"").length?q=za:q=dy();const C=Object.assign(ue,{id:q});if(r.add(e,C),q===za)return null;k&&k(e);let P=!f;if(C.type===Ue.Element){P=P&&!C.needBlock;const R=e.shadowRoot;R&&sa(R)&&(C.isShadowHost=!0)}if((C.type===Ue.Document||C.type===Ue.Element)&&P){y.headWhitespace&&C.type===Ue.Element&&C.tagName==="head"&&(Ie=!1);const R={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:v,maskTextFn:x,maskInputFn:g,slimDOMOptions:y,dataURLOptions:w,inlineImages:_,recordCanvas:S,preserveWhiteSpace:Ie,onSerialize:k,onIframeLoad:b,iframeLoadTimeout:T,onBlockedImageLoad:j,onStylesheetLoad:I,stylesheetLoadTimeout:O,keepIframeSrcFn:J,ignoreCSSAttributes:H},$=e.childNodes?Array.from(e.childNodes):[];for(const G of $){const me=ki(G,R);me&&C.childNodes.push(me)}if(eV(e)&&e.shadowRoot)for(const G of Array.from(e.shadowRoot.childNodes)){const me=ki(G,R);me&&(sa(e.shadowRoot)&&(me.isShadow=!0),C.childNodes.push(me))}}if(e.parentNode&&ra(e.parentNode)&&sa(e.parentNode)&&(C.isShadow=!0),C.type===Ue.Element&&C.tagName==="iframe"&&!C.needBlock&&EV(e,()=>{const R=IT(e);if(R&&b){const $=ki(R,{doc:R,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:v,maskTextFn:x,maskInputFn:g,slimDOMOptions:y,dataURLOptions:w,inlineImages:_,recordCanvas:S,preserveWhiteSpace:Ie,onSerialize:k,onIframeLoad:b,iframeLoadTimeout:T,onStylesheetLoad:I,stylesheetLoadTimeout:O,keepIframeSrcFn:J,ignoreCSSAttributes:H});$&&b(e,$)}},T),C.type===Ue.Element&&C.tagName==="img"&&!e.complete&&C.needBlock){const R=e,$=()=>{if(R.isConnected&&!R.complete&&j)try{const G=R.getBoundingClientRect();G.width>0&&G.height>0&&j(R,C,G)}catch{}R.removeEventListener("load",$)};R.isConnected&&R.addEventListener("load",$)}return C.type===Ue.Element&&C.tagName==="link"&&typeof C.attributes.rel=="string"&&(C.attributes.rel==="stylesheet"||C.attributes.rel==="preload"&&typeof C.attributes.href=="string"&&kT(C.attributes.href)==="css")&&kV(e,()=>{if(I){const R=ki(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:v,maskTextFn:x,maskInputFn:g,slimDOMOptions:y,dataURLOptions:w,inlineImages:_,recordCanvas:S,preserveWhiteSpace:Ie,onSerialize:k,onIframeLoad:b,iframeLoadTimeout:T,onStylesheetLoad:I,stylesheetLoadTimeout:O,keepIframeSrcFn:J,ignoreCSSAttributes:H});R&&I(e,R)}},O),C.type===Ue.Element&&delete C.needBlock,C}function AV(e,t){const{mirror:n=new ET,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:v,maskTextFn:x,maskInputFn:g,slimDOM:y=!1,dataURLOptions:w,preserveWhiteSpace:_,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:b,onBlockedImageLoad:T,onStylesheetLoad:j,stylesheetLoadTimeout:I,keepIframeSrcFn:O=()=>!1,ignoreCSSAttributes:J=new Set([])}=t||{};return ki(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:v,maskTextFn:x,maskInputFn:g,slimDOMOptions:y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:y==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:y===!1?{}:y,dataURLOptions:w,inlineImages:f,recordCanvas:p,preserveWhiteSpace:_,onSerialize:S,onIframeLoad:k,iframeLoadTimeout:b,onBlockedImageLoad:T,onStylesheetLoad:j,stylesheetLoadTimeout:I,keepIframeSrcFn:O,newlyAddedElement:!1,ignoreCSSAttributes:J})}function ht(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const ti=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Bx={map:{},getId(){return console.error(ti),-1},getNode(){return console.error(ti),null},removeNodeFromMap(){console.error(ti)},has(){return console.error(ti),!1},reset(){console.error(ti)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Bx=new Proxy(Bx,{get(e,t,n){return t==="map"&&console.error(ti),Reflect.get(e,t,n)}}));function Wa(e,t,n={}){let r=null,s=0;return function(...i){const o=Date.now();!s&&n.leading===!1&&(s=o);const a=t-(o-s),l=this;a<=0||a>t?(r&&($V(r),r=null),s=o,e.apply(l,i)):!r&&n.trailing!==!1&&(r=vd(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(l,i)},a))}}function AT(e,t,n,r,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(o){vd(()=>{n.set.call(this,o)},0),i&&i.set&&i.set.call(this,o)}}),()=>AT(e,t,i||{},!0)}function hy(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Nu=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Nu=()=>new Date().getTime());function PT(e){var n,r,s,i,o,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:o.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function jT(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function OT(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function MT(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function jt(e,t,n,r,s){if(!e)return!1;const i=MT(e);if(!i)return!1;const o=Ei(t,n);if(!s){const c=r&&i.matches(r);return o(i)&&!c}const a=ms(i,o);let l=-1;return a<0?!1:(r&&(l=ms(i,Ei(null,r))),a>-1&&l<0?!0:a<l)}function PV(e,t){return t.getId(e)!==-1}function Oh(e,t){return t.getId(e)===za}function LT(e,t){if(ra(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?LT(e.parentNode,t):!0:!0}function Dp(e){return!!e.changedTouches}function jV(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function DT(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function $T(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function $p(e){return!!(e!=null&&e.shadowRoot)}class OV{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function FT(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function MV(e){let t=e,n;for(;n=FT(t);)t=n;return t}function LV(e){const t=e.ownerDocument;if(!t)return!1;const n=MV(e);return t.contains(n)}function UT(e){const t=e.ownerDocument;return t?t.contains(e)||LV(e):!1}const Vx={};function fy(e){const t=Vx[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return Vx[e]=r.bind(window)}function DV(...e){return fy("requestAnimationFrame")(...e)}function vd(...e){return fy("setTimeout")(...e)}function $V(...e){return fy("clearTimeout")(...e)}var Q=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Q||{}),Y=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Y||{}),ut=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ut||{}),jn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(jn||{}),ni=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(ni||{});function py(e){try{return e.contentDocument}catch{}}function FV(e){try{return e.contentWindow}catch{}}function zx(e){return"__ln"in e}class UV{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&zx(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&zx(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Wx=(e,t)=>`${e}@${t}`;class BV{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new UV,s=l=>{let c=l,u=za;for(;u===za;)c=c&&c.nextSibling,u=c&&this.mirror.getId(c);return u},i=l=>{if(!l.parentNode||!UT(l))return;const c=ra(l.parentNode)?this.mirror.getId(FT(l)):this.mirror.getId(l.parentNode),u=s(l);if(c===-1||u===-1)return r.addNode(l);const d=ki(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{DT(f,this.mirror)&&!jt(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),$T(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),$p(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{jt(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)},onBlockedImageLoad:(f,p,{width:m,height:v})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:p.id,attributes:{style:{width:`${m}px`,height:`${v}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});d&&(t.push({parentId:c,nextId:u,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Hx(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||i(l);for(const l of this.addedSet)!qx(this.droppedSet,l)&&!Hx(this.removes,l,this.mirror)||qx(this.movedSet,l)?i(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const c=this.mirror.getId(o.value.parentNode),u=s(o.value);c!==-1&&u!==-1&&(l=o)}if(!l){let c=r.tail;for(;c;){const u=c;if(c=c.previous,u){const d=this.mirror.getId(u.value.parentNode);if(s(u.value)===-1)continue;if(d!==-1){l=u;break}else{const p=u.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=p.parentNode.host;if(this.mirror.getId(m)!==-1){l=u;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),i(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const u=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);u.length<c.style.length&&(u+d).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Oh(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!jt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Qi(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,MT(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const o=uy(n),a=n.tagName;s=Iu(n,a,o);const l=gd({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),c=Qi(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);s=Va({isMasked:c,element:n,value:s,maskInputFn:this.maskInputFn})}if(jt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!py(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!NT(n.tagName,r)&&(i.attributes[r]=RT(this.doc,Xi(n.tagName),Xi(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||c!==o.style.getPropertyPriority(a)?c===""?i.styleDiff[a]=l:i.styleDiff[a]=[l,c]:i._unchangedStyles[a]=[l,c]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(i.styleDiff[a]=!1)}break}case"childList":{if(jt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=ra(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);jt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Oh(n,this.mirror)||!PV(n,this.mirror)||(this.addedSet.has(n)?(Fp(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||LT(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Wx(r,s)]?Fp(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:ra(t.target)&&sa(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Oh(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Wx(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);jt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),$p(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Fp(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>Fp(e,r))}function Hx(e,t,n){return e.length===0?!1:VV(e,t,n)}function VV(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(i=>i.id===s))return!0;r=r.parentNode}return!1}function qx(e,t){return e.size===0?!1:BT(e,t)}function BT(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:BT(e,n):!1}let ia;function zV(e){ia=e}function WV(){ia=void 0}const oe=e=>ia?(...n)=>{try{return e(...n)}catch(r){if(ia&&ia(r)===!0)return()=>{};throw r}}:e,Ti=[];function yl(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function VT(e,t){var o,a;const n=new BV;Ti.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:a.call(o,"MutationObserver");s&&window[s]&&(r=window[s]);const i=new r(oe(l=>{e.onMutation&&e.onMutation(l)===!1||n.processMutations.bind(n)(l)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function HV({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=Wa(oe(d=>{const f=Date.now()-a;e(o.map(p=>(p.timeOffset-=f,p)),d),o=[],a=null}),i),c=oe(Wa(oe(d=>{const f=yl(d),{clientX:p,clientY:m}=Dp(d)?d.changedTouches[0]:d;a||(a=Nu()),o.push({x:p,y:m,id:r.getId(f),timeOffset:Nu()-a}),l(typeof DragEvent<"u"&&d instanceof DragEvent?Y.Drag:d instanceof MouseEvent?Y.MouseMove:Y.TouchMove)}),s,{trailing:!1})),u=[ht("mousemove",c,n),ht("touchmove",c,n),ht("drag",c,n)];return oe(()=>{u.forEach(d=>d())})}function qV({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let c=null;const u=d=>f=>{const p=yl(f);if(jt(p,r,s,i,!0))return;let m=null,v=d;if("pointerType"in f){switch(f.pointerType){case"mouse":m=jn.Mouse;break;case"touch":m=jn.Touch;break;case"pen":m=jn.Pen;break}m===jn.Touch?ut[d]===ut.MouseDown?v="TouchStart":ut[d]===ut.MouseUp&&(v="TouchEnd"):jn.Pen}else Dp(f)&&(m=jn.Touch);m!==null?(c=m,(v.startsWith("Touch")&&m===jn.Touch||v.startsWith("Mouse")&&m===jn.Mouse)&&(m=null)):ut[d]===ut.Click&&(m=c,c=null);const x=Dp(f)?f.changedTouches[0]:f;if(!x)return;const g=n.getId(p),{clientX:y,clientY:w}=x;oe(e)({type:ut[v],id:g,x:y,y:w,...m!==null&&{pointerType:m}})};return Object.keys(ut).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&a[d]!==!1).forEach(d=>{let f=Xi(d);const p=u(d);if(window.PointerEvent)switch(ut[d]){case ut.MouseDown:case ut.MouseUp:f=f.replace("mouse","pointer");break;case ut.TouchStart:case ut.TouchEnd:return}l.push(ht(f,p,t))}),oe(()=>{l.forEach(d=>d())})}function zT({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:o}){const a=oe(Wa(oe(l=>{const c=yl(l);if(!c||jt(c,r,s,i,!0))return;const u=n.getId(c);if(c===t&&t.defaultView){const d=PT(t.defaultView);e({id:u,x:d.left,y:d.top})}else e({id:u,x:c.scrollLeft,y:c.scrollTop})}),o.scroll||100));return ht("scroll",a,t)}function KV({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=oe(Wa(oe(()=>{const i=jT(),o=OT();(n!==i||r!==o)&&(e({width:Number(o),height:Number(i)}),n=i,r=o)}),200));return ht("resize",s,t)}const GV=["INPUT","TEXTAREA","SELECT"],Kx=new WeakMap;function YV({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:u,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:v}){function x(b){let T=yl(b);const j=b.isTrusted,I=T&&Mp(T.tagName);if(I==="OPTION"&&(T=T.parentElement),!T||!I||GV.indexOf(I)<0||jt(T,r,s,i,!0))return;const O=T;if(O.classList.contains(o)||a&&O.matches(a))return;const J=uy(T);let X=Iu(O,I,J),H=!1;const Ie=gd({maskInputOptions:l,tagName:I,type:J}),ue=Qi(T,f,m,p,v,Ie);(J==="radio"||J==="checkbox")&&(H=T.checked),X=Va({isMasked:ue,element:T,value:X,maskInputFn:c}),g(T,d?{text:X,isChecked:H,userTriggered:j}:{text:X,isChecked:H});const q=T.name;J==="radio"&&q&&H&&t.querySelectorAll(`input[type="radio"][name="${q}"]`).forEach(C=>{if(C!==T){const P=Va({isMasked:ue,element:C,value:Iu(C,I,J),maskInputFn:c});g(C,d?{text:P,isChecked:!H,userTriggered:!1}:{text:P,isChecked:!H})}})}function g(b,T){const j=Kx.get(b);if(!j||j.text!==T.text||j.isChecked!==T.isChecked){Kx.set(b,T);const I=n.getId(b);oe(e)({...T,id:I})}}const w=(u.input==="last"?["change"]:["input","change"]).map(b=>ht(b,oe(x),t)),_=t.defaultView;if(!_)return()=>{w.forEach(b=>b())};const S=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),k=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return S&&S.set&&w.push(...k.map(b=>AT(b[0],b[1],{set(){oe(x)({target:this,isTrusted:!1})}},!1,_))),oe(()=>{w.forEach(b=>b())})}function Au(e){const t=[];function n(r,s){if(sc("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||sc("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||sc("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||sc("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(o)}return s}return n(e,t)}function dr(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function JV({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:oe((u,d,f)=>{const[p,m]=f,{id:v,styleId:x}=dr(d,t,n.styleMirror);return(v&&v!==-1||x&&x!==-1)&&e({id:v,styleId:x,adds:[{rule:p,index:m}]}),u.apply(d,f)})});const i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:oe((u,d,f)=>{const[p]=f,{id:m,styleId:v}=dr(d,t,n.styleMirror);return(m&&m!==-1||v&&v!==-1)&&e({id:m,styleId:v,removes:[{index:p}]}),u.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:oe((u,d,f)=>{const[p]=f,{id:m,styleId:v}=dr(d,t,n.styleMirror);return(m&&m!==-1||v&&v!==-1)&&e({id:m,styleId:v,replace:p}),u.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:oe((u,d,f)=>{const[p]=f,{id:m,styleId:v}=dr(d,t,n.styleMirror);return(m&&m!==-1||v&&v!==-1)&&e({id:m,styleId:v,replaceSync:p}),u.apply(d,f)})}));const l={};ic("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(ic("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),ic("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),ic("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([u,d])=>{c[u]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(c[u].insertRule,{apply:oe((f,p,m)=>{const[v,x]=m,{id:g,styleId:y}=dr(p.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:v,index:[...Au(p),x||0]}]}),f.apply(p,m)})}),d.prototype.deleteRule=new Proxy(c[u].deleteRule,{apply:oe((f,p,m)=>{const[v]=m,{id:x,styleId:g}=dr(p.parentStyleSheet,t,n.styleMirror);return(x&&x!==-1||g&&g!==-1)&&e({id:x,styleId:g,removes:[{index:[...Au(p),v]}]}),f.apply(p,m)})})}),oe(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([u,d])=>{d.prototype.insertRule=c[u].insertRule,d.prototype.deleteRule=c[u].deleteRule})})}function WT({mirror:e,stylesheetManager:t},n){var o,a,l;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(o=n.defaultView)==null?void 0:o.Document:(l=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:l.ShadowRoot,i=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var c;return(c=i.get)==null?void 0:c.call(this)},set(c){var d;const u=(d=i.set)==null?void 0:d.call(this,c);if(r!==null&&r!==-1)try{t.adoptStyleSheets(c,r)}catch{}return u}}),oe(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function XV({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:oe((a,l,c)=>{var v;const[u,d,f]=c;if(n.has(u))return i.apply(l,[u,d,f]);const{id:p,styleId:m}=dr((v=l.parentRule)==null?void 0:v.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:u,value:d,priority:f},index:Au(l.parentRule)}),a.apply(l,c)})});const o=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:oe((a,l,c)=>{var p;const[u]=c;if(n.has(u))return o.apply(l,[u]);const{id:d,styleId:f}=dr((p=l.parentRule)==null?void 0:p.parentStyleSheet,t,r.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:u},index:Au(l.parentRule)}),a.apply(l,c)})}),oe(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=o})}function QV({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:o}){const a=oe(c=>Wa(oe(u=>{const d=yl(u);if(!d||jt(d,t,n,r,!0))return;const{currentTime:f,volume:p,muted:m,playbackRate:v}=d;e({type:c,id:s.getId(d),currentTime:f,volume:p,muted:m,playbackRate:v})}),i.media||500)),l=[ht("play",a(ni.Play),o),ht("pause",a(ni.Pause),o),ht("seeked",a(ni.Seeked),o),ht("volumechange",a(ni.VolumeChange),o),ht("ratechange",a(ni.RateChange),o)];return oe(()=>{l.forEach(c=>c())})}function ZV({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(l,c,u){const d=new i(l,c,u);return s.set(d,{family:l,buffer:typeof c!="string",descriptors:u,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),d};const o=hy(t.fonts,"add",function(a){return function(l){return vd(oe(()=>{const c=s.get(l);c&&(e(c),s.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=i}),r.push(o),oe(()=>{r.forEach(a=>a())})}function e6(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:o}=e;let a=!0;const l=oe(()=>{const c=t.getSelection();if(!c||a&&(c!=null&&c.isCollapsed))return;a=c.isCollapsed||!1;const u=[],d=c.rangeCount||0;for(let f=0;f<d;f++){const p=c.getRangeAt(f),{startContainer:m,startOffset:v,endContainer:x,endOffset:g}=p;jt(m,r,s,i,!0)||jt(x,r,s,i,!0)||u.push({start:n.getId(m),startOffset:v,end:n.getId(x),endOffset:g})}o({ranges:u})});return l(),ht("selectionchange",l)}function t6({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:hy(n.customElements,"define",function(s){return function(i,o,a){try{t({define:{name:i}})}catch{}return s.apply(this,[i,o,a])}})}function n6(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=VT(e,e.doc));const s=HV(e),i=qV(e),o=zT(e),a=KV(e,{win:n}),l=YV(e),c=QV(e);let u=()=>{},d=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(u=JV(e,{win:n}),d=WT(e,e.doc),f=XV(e,{win:n}),e.collectFonts&&(p=ZV(e)));const m=e6(e),v=t6(e),x=[];for(const g of e.plugins)x.push(g.observer(g.callback,n,g.options));return oe(()=>{Ti.forEach(g=>g.reset()),r==null||r.disconnect(),s(),i(),o(),a(),l(),c(),u(),d(),f(),p(),m(),v(),x.forEach(g=>g())})}function sc(e){return typeof window[e]<"u"}function ic(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Up{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const i=r||this.getIdToRemoteIdMap(t),o=s||this.getRemoteIdToIdMap(t);let a=i.get(n);return a||(a=this.generateIdFn(),i.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const i=s.get(n);return i||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class r6{constructor(){this.crossOriginIframeMirror=new Up(dy),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class s6{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Up(dy),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Up(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,i;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,t);const r=py(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Q.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:Q.IncrementalSnapshot,data:{source:Y.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Q.Meta:case Q.Load:case Q.DomContentLoaded:return!1;case Q.Plugin:return n;case Q.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Q.IncrementalSnapshot:switch(n.data.source){case Y.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(s.node,i)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case Y.Drag:case Y.TouchMove:case Y.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case Y.ViewportResize:return!1;case Y.MediaInteraction:case Y.MouseInteraction:case Y.Scroll:case Y.CanvasMutation:case Y.Input:return this.replaceIds(n.data,t,["id"]),n;case Y.StyleSheetRule:case Y.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Y.Font:return n;case Y.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case Y.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Ue.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class i6{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class o6{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!sa(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=VT({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(zT({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),vd(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(WT({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=py(t),r=FV(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(hy(t.prototype,"attachShadow",function(s){return function(i){const o=s.call(this,i);return this.shadowRoot&&UT(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Gx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a6=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oc=0;oc<Gx.length;oc++)a6[Gx.charCodeAt(oc)]=oc;class Yx{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class l6{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new OV,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const i of t){let o;this.styleMirror.has(i)?o=this.styleMirror.getId(i):(o=this.styleMirror.add(i),s.push({styleId:o,rules:Array.from(i.rules||CSSRule,(a,l)=>({rule:ST(a),index:l}))})),r.styleIds.push(o)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class c6{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,DV(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let Re,Pu;var f_;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((f_=e.contentWindow)==null?void 0:f_.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const on=aV();function Hn(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:v,maskInputOptions:x,slimDOMOptions:g,maskAttributeFn:y,maskInputFn:w,maskTextFn:_,maxCanvasSize:S=null,packFn:k,sampling:b={},dataURLOptions:T={},mousemoveWait:j,recordDOM:I=!0,recordCanvas:O=!1,recordCrossOriginIframes:J=!1,recordAfter:X=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:H=!1,collectFonts:Ie=!1,inlineImages:ue=!1,plugins:q,keepIframeSrcFn:C=()=>!1,ignoreCSSAttributes:P=new Set([]),errorHandler:R,onMutation:$,getCanvasManager:G}=e;zV(R);const me=J?window.parent===window:!0;let Oe=!1;if(!me)try{window.parent.document&&(Oe=!1)}catch{Oe=!0}if(me&&!t)throw new Error("emit function is required");if(!me&&!Oe)return()=>{};j!==void 0&&b.mousemove===void 0&&(b.mousemove=j),on.reset();const Je=v===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:x!==void 0?x:{},yt=g===!0||g==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:g==="all",headMetaDescKeywords:g==="all"}:g||{};jV();let vt,Vs=0;const wl=de=>{for(const nn of q||[])nn.eventProcessor&&(de=nn.eventProcessor(de));return k&&!Oe&&(de=k(de)),de};Re=(de,nn)=>{var wt;const se=de;if(se.timestamp=Nu(),(wt=Ti[0])!=null&&wt.isFrozen()&&se.type!==Q.FullSnapshot&&!(se.type===Q.IncrementalSnapshot&&se.data.source===Y.Mutation)&&Ti.forEach(Wt=>Wt.unfreeze()),me)t==null||t(wl(se),nn);else if(Oe){const Wt={type:"rrweb",event:wl(se),origin:window.location.origin,isCheckout:nn};window.parent.postMessage(Wt,"*")}if(se.type===Q.FullSnapshot)vt=se,Vs=0;else if(se.type===Q.IncrementalSnapshot){if(se.data.source===Y.Mutation&&se.data.isAttachIframe)return;Vs++;const Wt=r&&Vs>=r,fe=n&&vt&&se.timestamp-vt.timestamp>n;(Wt||fe)&&Ed(!0)}};const xo=de=>{Re({type:Q.IncrementalSnapshot,data:{source:Y.Mutation,...de}})},Sy=de=>Re({type:Q.IncrementalSnapshot,data:{source:Y.Scroll,...de}}),gC=de=>Re({type:Q.IncrementalSnapshot,data:{source:Y.CanvasMutation,...de}}),yC=de=>Re({type:Q.IncrementalSnapshot,data:{source:Y.AdoptedStyleSheet,...de}}),Yr=new l6({mutationCb:xo,adoptedStyleSheetCb:yC}),Jr=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new r6:new s6({mirror:on,mutationCb:xo,stylesheetManager:Yr,recordCrossOriginIframes:J,wrappedEmit:Re});for(const de of q||[])de.getMirror&&de.getMirror({nodeMirror:on,crossOriginIframeMirror:Jr.crossOriginIframeMirror,crossOriginIframeStyleMirror:Jr.crossOriginIframeStyleMirror});const bd=new c6,Sd=d6(G,{mirror:on,win:window,mutationCb:de=>Re({type:Q.IncrementalSnapshot,data:{source:Y.CanvasMutation,...de}}),recordCanvas:O,blockClass:s,blockSelector:i,unblockSelector:o,maxCanvasSize:S,sampling:b.canvas,dataURLOptions:T,errorHandler:R}),xl=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new i6:new o6({mutationCb:xo,scrollCb:Sy,bypassOptions:{onMutation:$,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:Je,dataURLOptions:T,maskAttributeFn:y,maskTextFn:_,maskInputFn:w,recordCanvas:O,inlineImages:ue,sampling:b,slimDOMOptions:yt,iframeManager:Jr,stylesheetManager:Yr,canvasManager:Sd,keepIframeSrcFn:C,processedNodeManager:bd,ignoreCSSAttributes:P},mirror:on}),Ed=(de=!1)=>{if(!I)return;Re({type:Q.Meta,data:{href:window.location.href,width:OT(),height:jT()}},de),Yr.reset(),xl.init(),Ti.forEach(se=>se.lock());const nn=AV(document,{mirror:on,blockClass:s,blockSelector:i,unblockSelector:o,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:Je,maskAttributeFn:y,maskInputFn:w,maskTextFn:_,slimDOM:yt,dataURLOptions:T,recordCanvas:O,inlineImages:ue,onSerialize:se=>{DT(se,on)&&Jr.addIframe(se),$T(se,on)&&Yr.trackLinkElement(se),$p(se)&&xl.addShadowRoot(se.shadowRoot,document)},onIframeLoad:(se,wt)=>{Jr.attachIframe(se,wt),se.contentWindow&&Sd.addWindow(se.contentWindow),xl.observeAttachShadow(se)},onStylesheetLoad:(se,wt)=>{Yr.attachLinkElement(se,wt)},onBlockedImageLoad:(se,wt,{width:Wt,height:fe})=>{xo({adds:[],removes:[],texts:[],attributes:[{id:wt.id,attributes:{style:{width:`${Wt}px`,height:`${fe}px`}}}]})},keepIframeSrcFn:C,ignoreCSSAttributes:P});if(!nn)return console.warn("Failed to snapshot the document");Re({type:Q.FullSnapshot,data:{node:nn,initialOffset:PT(window)}}),Ti.forEach(se=>se.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Yr.adoptStyleSheets(document.adoptedStyleSheets,on.getId(document))};Pu=Ed;try{const de=[],nn=wt=>{var Wt;return oe(n6)({onMutation:$,mutationCb:xo,mousemoveCb:(fe,kd)=>Re({type:Q.IncrementalSnapshot,data:{source:kd,positions:fe}}),mouseInteractionCb:fe=>Re({type:Q.IncrementalSnapshot,data:{source:Y.MouseInteraction,...fe}}),scrollCb:Sy,viewportResizeCb:fe=>Re({type:Q.IncrementalSnapshot,data:{source:Y.ViewportResize,...fe}}),inputCb:fe=>Re({type:Q.IncrementalSnapshot,data:{source:Y.Input,...fe}}),mediaInteractionCb:fe=>Re({type:Q.IncrementalSnapshot,data:{source:Y.MediaInteraction,...fe}}),styleSheetRuleCb:fe=>Re({type:Q.IncrementalSnapshot,data:{source:Y.StyleSheetRule,...fe}}),styleDeclarationCb:fe=>Re({type:Q.IncrementalSnapshot,data:{source:Y.StyleDeclaration,...fe}}),canvasMutationCb:gC,fontCb:fe=>Re({type:Q.IncrementalSnapshot,data:{source:Y.Font,...fe}}),selectionCb:fe=>{Re({type:Q.IncrementalSnapshot,data:{source:Y.Selection,...fe}})},customElementCb:fe=>{Re({type:Q.IncrementalSnapshot,data:{source:Y.CustomElement,...fe}})},blockClass:s,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Je,inlineStylesheet:m,sampling:b,recordDOM:I,recordCanvas:O,inlineImages:ue,userTriggeredOnInput:H,collectFonts:Ie,doc:wt,maskAttributeFn:y,maskInputFn:w,maskTextFn:_,keepIframeSrcFn:C,blockSelector:i,unblockSelector:o,slimDOMOptions:yt,dataURLOptions:T,mirror:on,iframeManager:Jr,stylesheetManager:Yr,shadowDomManager:xl,processedNodeManager:bd,canvasManager:Sd,ignoreCSSAttributes:P,plugins:((Wt=q==null?void 0:q.filter(fe=>fe.observer))==null?void 0:Wt.map(fe=>({observer:fe.observer,options:fe.options,callback:kd=>Re({type:Q.Plugin,data:{plugin:fe.name,payload:kd}})})))||[]},{})};Jr.addLoadListener(wt=>{try{de.push(nn(wt.contentDocument))}catch(Wt){console.warn(Wt)}});const se=()=>{Ed(),de.push(nn(document))};return document.readyState==="interactive"||document.readyState==="complete"?se():(de.push(ht("DOMContentLoaded",()=>{Re({type:Q.DomContentLoaded,data:{}}),X==="DOMContentLoaded"&&se()})),de.push(ht("load",()=>{Re({type:Q.Load,data:{}}),X==="load"&&se()},window))),()=>{de.forEach(wt=>wt()),bd.destroy(),Pu=void 0,WV()}}catch(de){console.warn(de)}}function u6(e){if(!Pu)throw new Error("please take full snapshot after start recording");Pu(e)}Hn.mirror=on;Hn.takeFullSnapshot=u6;function d6(e,t){try{return e?e(t):new Yx}catch{return console.warn("Unable to initialize CanvasManager"),new Yx}}var Jx;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Jx||(Jx={}));const h6=3,f6=5;function my(e){return e>9999999999?e:e*1e3}function Mh(e){return e>9999999999?e/1e3:e}function vl(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Q.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:hn(t,10,1e3)}}),t.category==="console")))}const p6="button,a";function HT(e){return e.closest(p6)||e}function qT(e){const t=KT(e);return!t||!(t instanceof Element)?t:HT(t)}function KT(e){return m6(e)?e.target:e}function m6(e){return typeof e=="object"&&!!e&&"target"in e}let hr;function g6(e){return hr||(hr=[],y6()),hr.push(e),()=>{const t=hr?hr.indexOf(e):-1;t>-1&&hr.splice(t,1)}}function y6(){St(ve,"open",function(e){return function(...t){if(hr)try{hr.forEach(n=>n())}catch{}return e.apply(ve,t)}})}const v6=new Set([Y.Mutation,Y.StyleSheetRule,Y.StyleDeclaration,Y.AdoptedStyleSheet,Y.CanvasMutation,Y.Selection,Y.MediaInteraction]);function w6(e,t,n){e.handleClick(t,n)}class x6{constructor(t,n,r=vl){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=g6(()=>{this._lastMutation=Xx()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(b6(n,this._ignoreSelector)||!S6(t))return;const r={timestamp:Mh(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Mh(t)}registerScroll(t=Date.now()){this._lastScroll=Mh(t)}registerClick(t){const n=HT(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Xx();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:o,clickBreadcrumb:a}=t;if(i){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,c=l<this._timeout*1e3?"mutation":"timeout",u={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ve.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:c,clickCount:o||1}};this._addBreadcrumbEvent(n,u);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ve.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=gl(()=>this._checkClicks(),1e3)}}const _6=["A","BUTTON","INPUT"];function b6(e,t){return!!(!_6.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function S6(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Xx(){return Date.now()/1e3}function E6(e,t){try{if(!k6(t))return;const{source:n}=t.data;if(v6.has(n)&&e.registerMutation(t.timestamp),n===Y.Scroll&&e.registerScroll(t.timestamp),T6(t)){const{type:r,id:s}=t.data,i=Hn.mirror.getNode(s);i instanceof HTMLElement&&r===ut.Click&&e.registerClick(i)}}catch{}}function k6(e){return e.type===h6}function T6(e){return e.data.source===Y.MouseInteraction}function kn(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var gy=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(gy||{});const C6=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function I6(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(C6.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const R6=e=>t=>{if(!e.isEnabled())return;const n=N6(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&w6(e.clickDetector,n,qT(t.event)),vl(e,n)};function GT(e,t){const n=Hn.mirror.getId(e),r=n&&Hn.mirror.getNode(n),s=r&&Hn.mirror.getMeta(r),i=s&&P6(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(o=>o.type===gy.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:I6(i.attributes)}}:{}}}function N6(e){const{target:t,message:n}=A6(e);return kn({category:`ui.${e.name}`,...GT(t,n)})}function A6(e){const t=e.name==="click";let n,r=null;try{r=t?qT(e.event):KT(e.event),n=Ct(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function P6(e){return e.type===gy.Element}function j6(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=O6(t);n&&vl(e,n)}function O6(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:o}=e;if(!o||M6(o)||!i)return null;const a=t||r||s,l=i.length===1;if(!a&&l)return null;const c=Ct(o,{maxStringLength:200})||"<unknown>",u=GT(o,c);return kn({category:"ui.keyDown",message:c,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function M6(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const L6={resource:B6,paint:F6,navigation:U6};function Lh(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function D6(e){return e.map($6).filter(Boolean)}function $6(e){const t=L6[e.entryType];return t?t(e):null}function Zi(e){return((Nt()||ve.performance.timeOrigin)+e)/1e3}function F6(e){const{duration:t,entryType:n,name:r,startTime:s}=e,i=Zi(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function U6(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:m,type:v}=e;return s===0?null:{type:`${t}.${v}`,start:Zi(p),end:Zi(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:s,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:f}}}function B6(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Zi(i),end:Zi(s),name:r,data:{size:c,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function V6(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return yy(e,"largest-contentful-paint",n)}function z6(e){return e.sources!==void 0}function W6(e){const t=[],n=[];for(const r of e.entries)if(z6(r)){const s=[];for(const i of r.sources)if(i.node){n.push(i.node);const o=Hn.mirror.getId(i.node);o&&s.push(o)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return yy(e,"cumulative-layout-shift",n,t)}function H6(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return yy(e,"interaction-to-next-paint",n)}function yy(e,t,n,r){const s=e.value,i=e.rating,o=Zi(s);return{type:"web-vital",name:t,start:o,end:o,data:{value:s,size:s,rating:i,nodeIds:n?n.map(a=>Hn.mirror.getId(a)):void 0,attributions:r}}}function q6(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Ps(s,n))}),r.push(iy(Lh(V6,e)),sy(Lh(W6,e)),lT(Lh(H6,e))),()=>{r.forEach(s=>s())}}const V=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,K6='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function G6(){const e=new Blob([K6]);return URL.createObjectURL(e)}const Qx=["log","warn","error"],Oc="[Replay] ";function Dh(e,t="info"){$r({category:"console",data:{logger:"replay"},level:t,message:`${Oc}${e}`},{level:t})}function Y6(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return V?(Qx.forEach(r=>{n[r]=(...s)=>{A[r](Oc,...s),t&&Dh(s.join(""),Hk(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),A.error(Oc,r),e?Kg(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&Dh(r,"error")},n.infoTick=(...r)=>{A.log(Oc,...r),t&&setTimeout(()=>Dh(r[0]),0)}):Qx.forEach(r=>{n[r]=()=>{}}),n}const z=Y6();class vy extends Error{constructor(){super(`Event buffer exceeded maximum size of ${cy}.`)}}class YT{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>cy)throw new vy;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?my(t):null}}class J6{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():(V&&z.warn("Received worker message with unsuccessful status",r),n(new Error("Received worker message with unsuccessful status")))},{once:!0}),this._worker.addEventListener("error",r=>{V&&z.warn("Failed to load Replay compression worker",r),n(new Error(`Failed to load Replay compression worker: ${r instanceof ErrorEvent&&r.message?r.message:"Unknown error. This can happen due to CSP policy restrictions, network issues, or the worker script failing to load."}`))},{once:!0})}),this._ensureReadyPromise)}destroy(){V&&z.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,i)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){V&&z.error("Error in compression worker: ",l.response),i(new Error("Error in compression worker"));return}s(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class X6{constructor(t){this._worker=new J6(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=my(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>cy?Promise.reject(new vy):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{V&&z.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Q6{constructor(t){this._fallback=new YT,this._compression=new X6(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){V&&z.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(i){V&&z.exception(i,"Failed to add events when switching buffers.")}}}function Z6({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=e8(t);if(n)return n}return V&&z.log("Using simple buffer"),new YT}function e8(e){try{const t=e||t8();if(!t)return;V&&z.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Q6(n)}catch(t){V&&z.exception(t,"Failed to create compression worker")}}function t8(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?G6():""}function wy(){try{return"sessionStorage"in ve&&!!ve.sessionStorage}catch{return!1}}function n8(e){r8(),e.session=void 0}function r8(){if(wy())try{ve.sessionStorage.removeItem(ay)}catch{}}function JT(e){return e===void 0?!1:Math.random()<e}function wd(e){if(wy())try{ve.sessionStorage.setItem(ay,JSON.stringify(e))}catch{}}function XT(e){const t=Date.now(),n=e.id||$t(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,o=e.sampled,a=e.previousSessionId,l=e.dirty||!1;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:o,previousSessionId:a,dirty:l}}function s8(e,t){return JT(e)?"session":t?"buffer":!1}function Zx({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=s8(e,t),i=XT({sampled:s,previousSessionId:r});return n&&wd(i),i}function i8(){if(!wy())return null;try{const e=ve.sessionStorage.getItem(ay);if(!e)return null;const t=JSON.parse(e);return V&&z.infoTick("Loading existing session"),XT(t)}catch{return null}}function Bp(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function QT(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Bp(e.started,t,r)||Bp(e.lastActivity,n,r)}function ZT(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!QT(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function $h({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&i8();return s?ZT(s,{sessionIdleExpire:e,maxReplayDuration:t})?(V&&z.infoTick("Session in sessionStorage is expired, creating new one..."),Zx(r,{previousSessionId:s.id})):s:(V&&z.infoTick("Creating new session"),Zx(r,{previousSessionId:n}))}function o8(e){return e.type===Q.Custom}function xy(e,t,n){return tC(e,t)?(eC(e,t,n),!0):!1}function a8(e,t,n){return tC(e,t)?eC(e,t,n):Promise.resolve(null)}async function eC(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const i=e.getOptions(),o=l8(t,i.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(i){const o=i&&i instanceof vy,a=o?"addEventSizeExceeded":"addEvent",l=ee();if(l){const c=o?"buffer_overflow":"internal_sdk_error";l.recordDroppedEvent(c,"replay")}if(o&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:a})}}function tC(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=my(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(V&&z.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function l8(e,t){try{if(typeof t=="function"&&o8(e))return t(e)}catch(n){return V&&z.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function _y(e){return!e.type}function Vp(e){return e.type==="transaction"}function c8(e){return e.type==="replay_event"}function e_(e){return e.type==="feedback"}function u8(e){return(t,n)=>{if(!e.isEnabled()||!_y(t)&&!Vp(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(Vp(t)){d8(e,t);return}h8(e,t)}}}function d8(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function h8(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||gl(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function f8(e){return t=>{!e.isEnabled()||!_y(t)||p8(e,t)}}function p8(e,t){var r,s,i;const n=(i=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=kn({category:"replay.hydrate-error",data:{url:fo()}});vl(e,o)}}function m8(e){const t=ee();t&&t.on("beforeAddBreadcrumb",n=>g8(e,n))}function g8(e,t){if(!e.isEnabled()||!nC(t))return;const n=y8(t);n&&vl(e,n)}function y8(e){return!nC(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?v8(e):kn(e)}function v8(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return kn(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>rc?(n=!0,`${i.slice(0,rc)}`):i;if(typeof i=="object")try{const o=hn(i,7);return JSON.stringify(o).length>rc?(n=!0,`${JSON.stringify(o,null,2).slice(0,rc)}`):o}catch{}return i});return kn({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function nC(e){return!!e.category}function w8(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function rC(){const e=he().getPropagationContext().dsc;e&&delete e.replay_id;const t=gt();if(t){const n=tr(t);delete n.replay_id}}function x8(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Q.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function _8(e,t){return e.recordingMode!=="buffer"||t.message===ly||!t.exception||t.type?!1:JT(e.getOptions().errorSampleRate)}function b8(e){return Object.assign((t,n)=>{var o;if(!e.isEnabled()||e.isPaused())return t;if(c8(t))return delete t.breadcrumbs,t;if(!_y(t)&&!Vp(t)&&!e_(t))return t;if(!e.checkAndHandleExpiredSession())return rC(),t;if(e_(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),x8(e,t),t;if(w8(t,n)&&!e.getOptions()._experiments.captureExceptions)return V&&z.log("Ignoring error from rrweb internals",t),null;const s=_8(e,t);if((s||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),s&&e.recordingMode==="buffer"&&((o=e.session)==null?void 0:o.sampled)==="buffer"){const a=e.session;a.dirty=!0,e.getOptions().stickySession&&wd(a)}return t},{id:"Replay"})}function xd(e,t){return t.map(({type:n,start:r,end:s,name:i,data:o})=>{const a=e.throttledAddEvent({type:Q.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function S8(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function E8(e){return t=>{if(!e.isEnabled())return;const n=S8(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(xd(e,[n]),!1)))}}function k8(e,t){return V&&e.getOptions()._experiments.traceInternals?!1:o3(t,ee())}function sC(e,t){e.isEnabled()&&t!==null&&(k8(e,t.name)||e.addUpdate(()=>(xd(e,[t]),!0)))}function _d(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=yT(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function iC(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ju(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function oC(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:i,statusCode:o,request:a,response:l}}}function Ha(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ar(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:i}=T8(n);return r.body=s,i!=null&&i.length&&(r._meta={warnings:i}),r}function zp(e,t){return Object.entries(e).reduce((n,[r,s])=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=s),n},{})}function T8(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ox,n=C8(e);if(t){const r=e.slice(0,Ox);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function C8(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Ou(e,t){const n=I8(e);return zn(n,t)}function I8(e,t=ve.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ve.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function R8(e,t,n){try{const r=await A8(e,t,n),s=oC("resource.fetch",r);sC(n.replay,s)}catch(r){V&&z.exception(r,"Failed to capture fetch breadcrumb")}}function N8(e,t){const{input:n,response:r}=t,s=n?wT(n):void 0,i=_d(s),o=r?iC(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}async function A8(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:o,method:a,status_code:l=0,request_body_size:c,response_body_size:u}=e.data,d=Ou(o,n.networkDetailAllowUrls)&&!Ou(o,n.networkDetailDenyUrls),f=d?P8(n,t.input,c):Ha(c),p=await j8(d,n,t.response,u);return{startTimestamp:s,endTimestamp:i,url:o,method:a,statusCode:l,request:f,response:p}}function P8({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?L8(n,t):{};if(!e)return Ar(s,r,void 0);const i=wT(n),[o,a]=vT(i,z),l=Ar(s,r,o);return a?ju(l,a):l}async function j8(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Ha(s);const i=r?aC(r.headers,n):{};if(!r||!t&&s!==void 0)return Ar(i,s,void 0);const[o,a]=await M8(r),l=O8(o,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:i});return a?ju(l,a):l}function O8(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const i=e!=null&&e.length&&n===void 0?_d(e):n;return r?t?Ar(s,i,e):Ar(s,i,void 0):Ha(i)}catch(i){return V&&z.exception(i,"Failed to serialize response body"),Ar(s,n,void 0)}}async function M8(e){const t=D8(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await $8(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(V&&z.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(V&&z.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function aC(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function L8(e,t){return e.length===1&&typeof e[0]!="string"?t_(e[0],t):e.length===2?t_(e[1],t):{}}function t_(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?aC(n,t):Array.isArray(n)?{}:zp(n,t):{}}function D8(e){try{return e.clone()}catch(t){V&&z.exception(t,"Failed to clone response body")}}function $8(e){return new Promise((t,n)=>{const r=gl(()=>n(new Error("Timeout while trying to read response body")),500);F8(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function F8(e){return await e.text()}async function U8(e,t,n){try{const r=V8(e,t,n),s=oC("resource.xhr",r);sC(n.replay,s)}catch(r){V&&z.exception(r,"Failed to capture xhr breadcrumb")}}function B8(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=_d(r),i=n.getResponseHeader("content-length")?iC(n.getResponseHeader("content-length")):H8(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function V8(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:o,xhr:a}=t,{url:l,method:c,status_code:u=0,request_body_size:d,response_body_size:f}=e.data;if(!l)return null;if(!a||!Ou(l,n.networkDetailAllowUrls)||Ou(l,n.networkDetailDenyUrls)){const k=Ha(d),b=Ha(f);return{startTimestamp:s,endTimestamp:i,url:l,method:c,statusCode:u,request:k,response:b}}const p=a[ps],m=p?zp(p.request_headers,n.networkRequestHeaders):{},v=zp(xT(a),n.networkResponseHeaders),[x,g]=n.networkCaptureBodies?vT(o,z):[void 0],[y,w]=n.networkCaptureBodies?z8(a):[void 0],_=Ar(m,d,x),S=Ar(v,f,y);return{startTimestamp:s,endTimestamp:i,url:l,method:c,statusCode:u,request:g?ju(_,g):_,response:w?ju(S,w):S}}function z8(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return W8(e.response,e.responseType)}catch(n){t.push(n)}return V&&z.warn("Failed to get xhr response body",...t),[void 0]}function W8(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return V&&z.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return V&&z.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function H8(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return _d(n)}catch{return}}function q8(e){const t=ee();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(l,c)=>K8(a,l,c))}catch{}}function K8(e,t,n){if(t.data)try{G8(t)&&J8(n)&&(B8(t,n),U8(t,n,e)),Y8(t)&&X8(n)&&(N8(t,n),R8(t,n,e))}catch(r){V&&z.exception(r,"Error when enriching network breadcrumb")}}function G8(e){return e.category==="xhr"}function Y8(e){return e.category==="fetch"}function J8(e){return e==null?void 0:e.xhr}function X8(e){return e==null?void 0:e.response}function Q8(e){const t=ee();pT(R6(e)),md(E8(e)),m8(e),q8(e);const n=b8(e);T$(n),t&&(t.on("beforeSendEvent",f8(e)),t.on("afterSendEvent",u8(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var o;const i=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&i&&((o=r.contexts)!=null&&o.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=i)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function Z8(e){try{return Promise.all(xd(e,[ez(ve.performance.memory)]))}catch{return[]}}function ez(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function tz(e,t,n){return h3(e,t,{...n,setTimeoutImpl:gl})}const Kt=re.navigator;function nz(){return/iPhone|iPad|iPod/i.test((Kt==null?void 0:Kt.userAgent)??"")||/Macintosh/i.test((Kt==null?void 0:Kt.userAgent)??"")&&(Kt!=null&&Kt.maxTouchPoints)&&(Kt==null?void 0:Kt.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function rz(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){V&&z.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&E6(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!xy(e,n,s))return!0;if(!s)return!1;const i=e.session;if(iz(e,s),e.recordingMode==="buffer"&&i&&e.eventBuffer&&!i.dirty){const o=e.eventBuffer.getEarliestTimestamp();o&&(V&&z.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),i.started=o,e.getOptions().stickySession&&wd(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function sz(e){const t=e.getOptions();return{type:Q.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function iz(e,t){!t||!e.session||e.session.segmentId!==0||xy(e,sz(e),!1)}function oz(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function az(e,t,n,r){return Gr(gk(e,zg(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function lz({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function cz({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit("preprocessEvent",r,i);const o=await Sk(e.getOptions(),r,i,t,e,zt());if(!o)return null;e.emit("postprocessEvent",o,i),o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:c,settings:u}=(a==null?void 0:a.sdk)||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0",settings:u},o}async function uz({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){const o=lz({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:u}=r,d=ee(),f=he(),p=d==null?void 0:d.getTransport(),m=d==null?void 0:d.getDsn();if(!d||!p||!m||!i.sampled)return Promise.resolve({});const v={type:UB,replay_start_timestamp:u/1e3,timestamp:s/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},x=await cz({scope:f,client:d,replayId:t,event:v});if(!x)return d.recordDroppedEvent("event_processor","replay"),V&&z.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete x.sdkProcessingMetadata;const g=az(x,o,m,d.getOptions().tunnel);let y;try{y=await p.send(g)}catch(_){const S=new Error(ly);try{S.cause=_}catch{}throw S}const w=Mk({},y);if(Ok(w,"replay"))throw new by(w);if(typeof y.statusCode=="number"&&(y.statusCode<200||y.statusCode>=300))throw new lC(y.statusCode);return y}class lC extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class by extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}class n_ extends Error{constructor(){super("Session is too long, not sending replay")}}async function cC(e,t={count:0,interval:qB}){const{recordingData:n,onError:r}=e;if(n.length)try{return await uz(e),!0}catch(s){if(s instanceof lC||s instanceof by)throw s;if(kk("Replays",{_retryCount:t.count}),r&&r(s),t.count>=KB){const i=new Error(`${ly} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,o)=>{gl(async()=>{try{await cC(e,t),i(!0)}catch(a){o(a)}},t.interval)})}}const uC="__THROTTLED",dz="__SKIPPED";function hz(e,t,n){const r=new Map,s=a=>{const l=a-n;r.forEach((c,u)=>{u<l&&r.delete(u)})},i=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(s(l),i()>=t){const u=o;return o=!0,u?dz:uC}o=!1;const c=r.get(l)||0;return r.set(l,c+1),e(...a)}}class fz{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:BB,sessionIdleExpire:VB},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=tz(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=hz((o,a)=>a8(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(GB,r),timeout:r,scrollTimeout:YB,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new x6(this,i)),V){const o=t._experiments;z.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{ve.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=kn({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=kn({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{j6(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){V&&z.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){V&&z.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",V&&z.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){V&&z.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){V&&z.log("Buffering is in progress, call `flush()` to save the replay");return}V&&z.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=$h({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){V&&z.log("Buffering is in progress, call `flush()` to save the replay");return}V&&z.infoTick("Starting replay in buffer mode");const t=$h({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Hn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:HB}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:rz(this),...nz(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{V&&z.log(`Stopping Replay${n?` triggered by ${n}`:""}`),rC(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,n8(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),V&&z.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),V&&z.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();V&&z.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){var n,r;if(!(t&&((n=this.session)==null?void 0:n.sampled)===!1))return(r=this.session)==null?void 0:r.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Bp(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ve.location.pathname}${ve.location.hash}${ve.location.search}`,n=`${ve.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===uC){const s=kn({category:"replay.throttled"});this.addUpdate(()=>!xy(this,{type:f6,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||gt(),n=t&&lt(t),s=(n&&ce(n).data||{})[mn];if(!(!n||!s||!["route","custom"].includes(s)))return ce(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Z6({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=$h({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return ZT(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ve.document.addEventListener("visibilitychange",this._handleVisibilityChange),ve.addEventListener("blur",this._handleWindowBlur),ve.addEventListener("focus",this._handleWindowFocus),ve.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Q8(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=q6(this)}_removeListeners(){try{ve.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ve.removeEventListener("blur",this._handleWindowBlur),ve.removeEventListener("focus",this._handleWindowFocus),ve.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||QT(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){V&&z.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Q.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=D6(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(xd(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){V&&z.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await Z8(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new n_;const s=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await cC({replayId:t,recordingData:o,segmentId:i,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=ee();if(s){let i;r instanceof by?i="ratelimit_backoff":r instanceof n_?i="invalid":i="send_error",s.recordDroppedEvent(i,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){V&&z.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,o=s>this._options.maxReplayDuration+5e3;if(i||o){V&&z.log(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&V&&z.log("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(c){this.handleException(c)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&wd(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const l=oz(a.target),c=n.join(",");return l==null?void 0:l.matches(c)}))return!1;const r=t.length,s=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=s&&r>s;if(r>i||o){const a=kn({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(a)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function Po(e,t){return[...e,...t].join(",")}function pz({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const i=["base","iframe[srcdoc]:not([src])"],o=Po(e,[".sentry-mask","[data-sentry-mask]"]),a=Po(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:Po(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:Po(r,[]),ignoreSelector:Po(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function mz({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const r_='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',gz=["content-length","content-type","accept"],yz=Symbol.for("sentry__originalRequestBody");let s_=!1,i_=!1;function vz(){if(typeof Request>"u"||i_)return;const e=Request;try{const t=function(n,r){const s=new e(n,r);return(r==null?void 0:r.body)!=null&&(s[yz]=r.body),s};t.prototype=e.prototype,re.Request=t,i_=!0}catch{}}const wz=e=>new xz(e);class xz{constructor({flushMinDelay:t=zB,flushMaxDelay:n=WB,minReplayDuration:r=JB,maxReplayDuration:s=Mx,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:v=[],networkDetailAllowUrls:x=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:w=[],networkResponseHeaders:_=[],mask:S=[],maskAttributes:k=["title","placeholder","aria-label"],unmask:b=[],block:T=[],unblock:j=[],ignore:I=[],maskFn:O,beforeAddRecordingEvent:J,beforeErrorSampling:X,onError:H,attachRawBodyFromRequest:Ie=!1}={}){this.name="Replay";const ue=pz({mask:S,unmask:b,block:T,unblock:j,ignore:I});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:O,maskInputFn:O,maskAttributeFn:(q,C,P)=>mz({maskAttributes:k,maskAllText:c,privacyOptions:ue,key:q,value:C,el:P}),...ue,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:q=>{try{q.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!l.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,XB),maxReplayDuration:Math.min(s,Mx),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:d,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:v,networkDetailAllowUrls:x,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:o_(w),networkResponseHeaders:o_(_),beforeAddRecordingEvent:J,beforeErrorSampling:X,onError:H,attachRawBodyFromRequest:Ie,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${r_}`:r_,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&Tp())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return s_}set _isInitialized(t){s_=t}afterAllSetup(t){!Tp()||this._replay||(this._initialOptions.attachRawBodyFromRequest&&vz(),this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){var n;if((n=this._replay)!=null&&n.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=_z(this._initialOptions,t);this._replay=new fz({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function _z(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=Ns(n.replaysSessionSampleRate),i=Ns(n.replaysOnErrorSampleRate);return s==null&&i==null&&Fs(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}function o_(e){return[...gz,...e.map(t=>t.toLowerCase())]}function bz(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function dC(e){try{return new URL(e,Z.location.origin).href}catch{return}}function Sz(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function hC(e){try{return new Headers(e)}catch{return}}const a_=new WeakMap,Fh=new Map,fC={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Ez(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:l,onRequestSpanEnd:c}={...fC,...t},u=typeof i=="function"?i:m=>!0,d=m=>kz(m,a),f={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(m=>(m.type==="transaction"&&m.spans&&m.spans.forEach(v=>{if(v.op==="http.client"){const x=Fh.get(v.span_id);x&&(v.timestamp=x/1e3,Fh.delete(v.span_id))}}),m)),s&&Y3(m=>{if(m.response){const v=a_.get(m.response);v&&m.endTimestamp&&Fh.set(v,m.endTimestamp)}}),Yk(m=>{const v=U3(m,u,d,f,{propagateTraceparent:p,onRequestSpanEnd:c});if(m.response&&m.fetchData.__span&&a_.set(m.response,m.fetchData.__span),v){const x=dC(m.fetchData.url),g=x?bs(x).host:void 0;v.setAttributes({"http.url":x?Rr(x):void 0,"server.address":g}),o&&l_(v),l==null||l(v,{headers:m.headers})}})),r&&gT(m=>{var x;const v=Tz(m,u,d,f,p,c);v&&(o&&l_(v),l==null||l(v,{headers:hC((x=m.xhr.__sentry_xhr_v3__)==null?void 0:x.request_headers)}))})}function l_(e){const{url:t}=ce(e).data;if(!t||typeof t!="string")return;const n=Ps("resource",({entries:r})=>{r.forEach(s=>{Sz(s)&&s.name.endsWith(t)&&(e.setAttributes(fT(s)),setTimeout(n))})})}function kz(e,t){const n=fo();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?zn(r.toString(),t)||i&&zn(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?zn(e,t):r}}function Tz(e,t,n,r,s,i){const o=e.xhr,a=o==null?void 0:o[ps];if(!o||o.__sentry_own_request__||!a)return;const{url:l,method:c}=a,u=vn()&&t(l);if(e.endTimestamp){const g=o.__sentry_xhr_span_id__;if(!g)return;const y=r[g];y&&(u&&a.status_code!==void 0&&(Z1(y,a.status_code),y.end(),i==null||i(y,{headers:hC(xT(o)),error:e.error})),delete r[g]);return}const d=dC(l),f=bs(d||l),p=Rr(i3(l)),m=!!gt(),v=u&&m?yo({name:`${c} ${p}`,attributes:{url:Rr(l),type:"xhr","http.method":c,"http.url":d?Rr(d):void 0,"server.address":f==null?void 0:f.host,[qe]:"auto.http.browser",[er]:"http.client",...(f==null?void 0:f.search)&&{"http.query":f==null?void 0:f.search},...(f==null?void 0:f.hash)&&{"http.fragment":f==null?void 0:f.hash}}}):new Dr;o.__sentry_xhr_span_id__=v.spanContext().spanId,r[o.__sentry_xhr_span_id__]=v,n(l)&&Cz(o,vn()&&m?v:void 0,s);const x=ee();return x&&x.emit("beforeOutgoingRequestSpan",v,e),v}function Cz(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:i}=zk({span:t,propagateTraceparent:n});r&&Iz(e,r,s,i)}function Iz(e,t,n,r){var i;const s=(i=e.__sentry_xhr_v3__)==null?void 0:i.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const o=s==null?void 0:s.baggage;(!o||!bz(o))&&e.setRequestHeader("baggage",n)}}catch{}}function Rz(){Z.document?Z.document.addEventListener("visibilitychange",()=>{const e=gt();if(!e)return;const t=lt(e);if(Z.document.hidden&&t){const n="cancelled",{op:r,status:s}=ce(t);Rt&&A.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:ze,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Rt&&A.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Nz=3600,pC="sentry_previous_trace",Az="sentry.previous_trace";function Pz(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?Mz():void 0;e.on("spanStart",o=>{if(lt(o)!==o)return;const a=he().getPropagationContext();s=jz(s,o,a),r&&Oz(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=he(),l=a.getPropagationContext();if(i&&l.parentSpanId){i=!1;return}a.setPropagationContext({...l,dsc:{...l.dsc,sample_rate:String(s.sampleRate),sampled:String(Wp(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=Wp(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[Q1]:s.sampleRate}})}function jz(e,t,n){const r=ce(t);function s(){var a,l;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((l=r.data)==null?void 0:l[Dg])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=Nz&&(Rt&&A.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[J4]:"previous_trace"}}),t.setAttribute(Az,`${o.traceId}-${o.spanId}-${Wp(o)?1:0}`)),i)}function Oz(e){try{Z.sessionStorage.setItem(pC,JSON.stringify(e))}catch(t){Rt&&A.warn("Could not store previous trace in sessionStorage",t)}}function Mz(){var e;try{const t=(e=Z.sessionStorage)==null?void 0:e.getItem(pC);return JSON.parse(t)}catch{return}}function Wp(e){return e.traceFlags===1}const Lz="BrowserTracing",Dz={...Ic,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...fC},$z=(e={})=>{const t={name:void 0,source:void 0},n=Z.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:l,enableStandaloneLcpSpans:c},beforeStartSpan:u,idleTimeout:d,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:m,traceFetch:v,traceXHR:x,trackFetchStreamPerformance:g,shouldCreateSpanForRequest:y,enableHTTPTimings:w,ignoreResourceSpans:_,ignorePerformanceApiSpans:S,instrumentPageLoad:k,instrumentNavigation:b,detectRedirects:T,linkPreviousTrace:j,consistentTraceSampling:I,enableReportPageLoaded:O,onRequestSpanStart:J,onRequestSpanEnd:X}={...Dz,...e};let H,Ie,ue;function q(C,P,R=!0){const $=P.op==="pageload",G=P.name,me=u?u(P):P,Oe=me.attributes||{};if(G!==me.name&&(Oe[mn]="custom",me.attributes=Oe),!R){const vt=Us();yo({...me,startTime:vt}).end(vt);return}t.name=me.name,t.source=Oe[mn];const Je=_k(me,{idleTimeout:d,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:$,beforeSpanEnd:vt=>{H==null||H(),iU(vt,{recordClsOnPageloadSpan:!l,recordLcpOnPageloadSpan:!c,ignoreResourceSpans:_,ignorePerformanceApiSpans:S}),d_(C,void 0);const Vs=he(),wl=Vs.getPropagationContext();Vs.setPropagationContext({...wl,traceId:Je.spanContext().traceId,sampled:Kr(Je),dsc:tr(vt)}),$&&(ue=void 0)},trimIdleSpanEndTimestamp:!O});$&&O&&(ue=Je),d_(C,Je);function yt(){n&&["interactive","complete"].includes(n.readyState)&&C.emit("idleSpanEnableAutoFinish",Je)}$&&!O&&n&&(n.addEventListener("readystatechange",()=>{yt()}),yt())}return{name:Lz,setup(C){if(k5(),H=QF({recordClsStandaloneSpans:l||!1,recordLcpStandaloneSpans:c||!1,client:C}),r&&AU(),s&&yU(),o&&re.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?eU():i&&ZF(),a&&tU(),T&&n){const R=()=>{Ie=Ye()};addEventListener("click",R,{capture:!0}),addEventListener("keydown",R,{capture:!0,passive:!0})}function P(){const R=qa(C);R&&!ce(R).timestamp&&(Rt&&A.log(`[Tracing] Finishing current active span with op: ${ce(R).op}`),R.setAttribute(Fa,"cancelled"),R.end())}C.on("startNavigationSpan",(R,$)=>{if(ee()!==C)return;if($!=null&&$.isRedirect){Rt&&A.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),q(C,{op:"navigation.redirect",...R},!1);return}Ie=void 0,P(),zt().setPropagationContext({traceId:Zn(),sampleRand:Math.random(),propagationSpanId:vn()?void 0:Wn()});const G=he();G.setPropagationContext({traceId:Zn(),sampleRand:Math.random(),propagationSpanId:vn()?void 0:Wn()}),G.setSDKProcessingMetadata({normalizedRequest:void 0}),q(C,{op:"navigation",...R,parentSpan:null,forceTransaction:!0})}),C.on("startPageLoadSpan",(R,$={})=>{if(ee()!==C)return;P();const G=$.sentryTrace||c_("sentry-trace")||u_("sentry-trace"),me=$.baggage||c_("baggage")||u_("baggage"),Oe=g5(G,me),Je=he();Je.setPropagationContext(Oe),vn()||(Je.getPropagationContext().propagationSpanId=Wn()),Je.setSDKProcessingMetadata({normalizedRequest:Qg()}),q(C,{op:"pageload",...R})}),C.on("endPageloadSpan",()=>{O&&ue&&(ue.setAttribute(Fa,"reportPageLoaded"),ue.end())})},afterAllSetup(C){let P=fo();if(j!=="off"&&Pz(C,{linkPreviousTrace:j,consistentTraceSampling:I}),Z.location){if(k){const R=Nt();Fz(C,{name:Z.location.pathname,startTime:R?R/1e3:void 0,attributes:{[mn]:"url",[qe]:"auto.pageload.browser"}})}b&&md(({to:R,from:$})=>{if($===void 0&&(P==null?void 0:P.indexOf(R))!==-1){P=void 0;return}P=void 0;const G=Xg(R),me=qa(C),Oe=me&&T&&Vz(me,Ie);Uz(C,{name:(G==null?void 0:G.pathname)||Z.location.pathname,attributes:{[mn]:"url",[qe]:"auto.navigation.browser"}},{url:R,isRedirect:Oe})})}m&&Rz(),a&&Bz(C,d,f,p,t),r&&OU(),Ez(C,{traceFetch:v,traceXHR:x,trackFetchStreamPerformance:g,tracePropagationTargets:C.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:y,enableHTTPTimings:w,onRequestSpanStart:J,onRequestSpanEnd:X})}}};function Fz(e,t,n){e.emit("startPageLoadSpan",t,n),he().setTransactionName(t.name);const r=qa(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Uz(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=he();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...Qg(),url:r}}),qa(e)}function c_(e){const t=Z.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function u_(e){var r,s,i;const t=(s=(r=Z.performance)==null?void 0:r.getEntriesByType)==null?void 0:s.call(r,"navigation")[0],n=(i=t==null?void 0:t.serverTiming)==null?void 0:i.find(o=>o.name===e);return n==null?void 0:n.description}function Bz(e,t,n,r,s){const i=Z.document;let o;const a=()=>{const l="ui.action.click",c=qa(e);if(c){const u=ce(c).op;if(["navigation","pageload"].includes(u)){Rt&&A.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Fa,"interactionInterrupted"),o.end(),o=void 0),!s.name){Rt&&A.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}o=_k({name:s.name,op:l,attributes:{[mn]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}const mC="_sentry_idleSpan";function qa(e){return e[mC]}function d_(e,t){It(e,mC,t)}const h_=1.5;function Vz(e,t){const n=ce(e),r=Us(),s=n.start_timestamp;return!(r-s>h_||t&&r-t<=h_)}function zz(e){const t={...e};return Vk(t,"react"),kk("react",{version:E.version}),FB(t)}function Wz(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function Hz(e,t){const n=new WeakSet;function r(s,i){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,i);s.cause=i}}r(e,t)}function qz(e,{componentStack:t},n){if(Wz(E.version)&&rl(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,Hz(e,r)}return mo(r=>(r.setContext("react",{componentStack:t}),Kg(e,n)))}const Kz=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Uh={componentStack:null,error:null,eventId:null};class Gz extends E.Component{constructor(t){super(t),this.state=Uh,this._openFallbackReportDialog=!0;const n=ee();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&jx({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:i,showDialog:o,dialogOptions:a}=this.props;mo(l=>{s&&s(l,t,r);const c=this.props.handled!=null?this.props.handled:!!this.props.fallback,u=qz(t,n,{mechanism:{handled:c,type:"auto.function.react.error_boundary"}});i&&i(t,r,u),o&&(this._lastEventId=u,this._openFallbackReportDialog&&jx({...a,eventId:u})),this.setState({error:t,componentStack:r,eventId:u})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===Uh?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(Uh)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?E.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return E.isValidElement(s)?s:(t&&Kz&&A.warn("fallback did not produce a valid ReactElement"),null)}}zz({dsn:"https://f33ffbceca16e187c6a10cbb0397a197@o4510964379746304.ingest.de.sentry.io/4510964395671632",integrations:[$z(),wz()],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,sendDefaultPii:!0});TS(document.getElementById("root")).render(h.jsx(E.StrictMode,{children:h.jsx(Gz,{fallback:h.jsxs("div",{className:"p-8 text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"An unexpected error occurred."}),h.jsx("p",{children:"Our team has been notified. Please try refreshing."})]}),showDialog:!0,children:h.jsx(l4,{children:h.jsx(HN,{children:h.jsx(p4,{})})})})}));
